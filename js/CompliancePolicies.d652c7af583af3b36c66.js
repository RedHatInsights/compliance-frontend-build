(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[565],{57382:(e,n,t)=>{"use strict";t.r(n),t.d(n,{CompliancePolicies:()=>v,default:()=>C});var a,r=t(28655),l=t.n(r),i=t(77865),c=t.n(i),o=t(44119),s=t.n(o),m=t(334),d=t(46829),u=t(31007),p=t(48716),f=t(39173),E=t(86350),h=t(72858),y=t(84307),g=s()(a||(a=l()(['\n{\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                name\n                description\n                refId\n                complianceThreshold\n                totalHostCount\n                majorOsVersion\n                policyType\n                policy {\n                    id\n                    name\n                }\n                benchmark {\n                    id\n                    title\n                    version\n                }\n                hosts {\n                    id\n                }\n                businessObjective {\n                    id\n                    title\n                }\n            }\n        }\n    }\n}\n']))),v=function(){var e,n=(0,m.useLocation)(),t=c().createElement(y.mR,{to:"/scappolicies/new"},c().createElement(u.Button,{variant:"primary"},"Create new policy")),a=(0,d.useQuery)(g),r=a.data,l=a.error,o=a.loading,s=a.refetch;return(0,i.useEffect)((function(){s()}),[n,s]),r&&(l=void 0,o=void 0,e=r.profiles.edges.map((function(e){return e.node}))),c().createElement(c().Fragment,null,c().createElement(p.Z,{className:"page-header"},c().createElement(f.Z,{title:"SCAP policies"})),c().createElement(E.Z,null,c().createElement(y.Se,{stateValues:{error:l,data:r,loading:o}},c().createElement(y.K7,{stateKey:"error"},c().createElement(y.mf,{error:l})),c().createElement(y.K7,{stateKey:"loading"},c().createElement(y.Ir,null)),c().createElement(y.K7,{stateKey:"data"},e&&0===e.length?c().createElement(u.Grid,{hasGutter:!0},c().createElement(h.Z,{title:"No policies",mainButton:t})):c().createElement(y.V_,{policies:e})))))};const C=v}}]);
//# sourceMappingURL=CompliancePolicies.d652c7af583af3b36c66.js.map