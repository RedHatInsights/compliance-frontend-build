(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1456:function(e,t,a){var n=a(1457);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,r);n.locals&&(e.exports=n.locals)},1457:function(e,t,a){(t=a(6)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-details{padding-top:10px}.report-details-button{text-align:right}\n",""]),e.exports=t},1484:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return k})),a.d(t,"ReportDetails",(function(){return x}));var n=a(639),r=a.n(n),l=a(595),o=a.n(l),i=a(1),c=a.n(i),s=a(22),m=a(577),d=a(590),u=a.n(d),p=a(1487),f=a(1461),g=a(665),b=a(698),h=a(188),y=a(615),v=a(621),E=a(600),I=a(629),S=a(780),w=a(661),O=a(624),_=a(660),j=a(591),G=a(637);a(735),a(1456);function N(){var e=o()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        testResultHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return N=function(){return e},e}var k=u()(N()),x=function(){var e,t,a,n,l=Object(_.a)("showSsgVersions"),o=Object(s.m)().report_id,i=Object(m.useQuery)(k,{variables:{policyId:o}}),d=i.data,u=i.error,N=i.loading,x=[],C="loading-donut",R={};if(!N&&d){var B;t=(R=d.profile).policy?R.policy.name:R.name,e=!!(null===(B=R)||void 0===B?void 0:B.policy)&&l;var P=R.compliantHostCount,H=R.testResultHostCount;C=R.name.replace(/ /g,""),a=[{name:(x=[{x:"Compliant",y:P},{x:"Non-compliant",y:H-P}])[0].y+" "+Object(O.b)(x[0].y,"system")+" compliant"},{name:x[1].y+" "+Object(O.b)(x[1].y,"system")+" non-compliant"}],n=Object(O.a)(Math.floor(x[0].y/(x[0].y+x[1].y)*100))}var D=[{key:"facts.compliance.display_name",title:"System name",props:{width:30}},{key:"facts.compliance.rules_failed",title:"Rules failed",props:{width:5}}].concat(r()(e?[{key:"facts.compliance.ssg_version",title:"SSG version",props:{width:5}}]:[]),[{key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},{key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}}]);return c.a.createElement(j.A,{stateValues:{error:u,data:d,loading:N}},c.a.createElement(j.z,{stateKey:"loading"},c.a.createElement(E.PageHeader,null,c.a.createElement(j.s,null)),c.a.createElement(I.Main,null,c.a.createElement(S.EmptyTable,null,c.a.createElement(w.Spinner,null)))),c.a.createElement(j.z,{stateKey:"data"},c.a.createElement(E.PageHeader,null,c.a.createElement(g.Breadcrumb,null,c.a.createElement(j.b,{to:"/reports"},"Reports"),c.a.createElement(b.BreadcrumbItem,{isActive:!0},t)),c.a.createElement(y.Grid,{hasGutter:!0},c.a.createElement(v.GridItem,{sm:9,md:9,lg:9,xl:9},c.a.createElement(E.PageHeaderTitle,{title:t+" report"})),c.a.createElement(v.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},c.a.createElement(j.a,{state:{profile:R},to:"/reports/".concat(R.id,"/delete")},c.a.createElement(h.Button,{variant:"link",isInline:!0},"Delete report")))),c.a.createElement(y.Grid,{hasGutter:!0},c.a.createElement(v.GridItem,{sm:12,md:12,lg:12,xl:6},c.a.createElement("div",{className:"chart-inline"},c.a.createElement("div",{className:"chart-container"},c.a.createElement(p.a,{data:x,identifier:C,title:n,subTitle:"Compliant",themeColor:f.q.blue,themeVariant:f.r.light,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:a,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}})))),c.a.createElement(v.GridItem,{sm:12,md:12,lg:12,xl:6},c.a.createElement(j.t,{profile:R})))),c.a.createElement(I.Main,null,c.a.createElement(y.Grid,{hasGutter:!0},c.a.createElement(v.GridItem,{span:12},c.a.createElement(G.b,{showOnlySystemsWithTestResults:!0,compliantFilter:!0,policyId:R.id,columns:D}))))))};t.default=x},660:function(e,t,a){"use strict";var n=a(226),r=a(22),l=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.d[e];if(e){var a,o,i,c;a=Object(r.l)(),o=a.search,i=a.pathName,c=Object(r.k)(),o&&(new URLSearchParams(o).forEach(l),c.push(i));var s=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(s)),s}}},665:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),l=n.__importDefault(a(49)),o=a(2),i=a(93);t.Breadcrumb=e=>{var{children:a=null,className:c="","aria-label":s="Breadcrumb",ouiaId:m,ouiaSafe:d=!0}=e,u=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);return r.createElement("nav",Object.assign({},u,{"aria-label":s,className:o.css(l.default.breadcrumb,c)},i.getOUIAProps(t.Breadcrumb.displayName,m,d)),r.createElement("ol",{className:l.default.breadcrumbList},r.Children.map(a,(e,t)=>{const a=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails-cd3e53b284b2bd2068a3113d3b2ddb84.js.map