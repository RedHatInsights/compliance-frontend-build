(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[4572,5467,9477,3929,9682,9624,6545],{6474:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n.Z});var n=r(51198)},74560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(87462),o=r(4942),i=r(70885),a=r(45987),l=r(92950),c=r.n(l),s=r(45697),u=r.n(s),p=r(72971),d=r(76450),m=r(87604),h=r(77346),f=r(82176),y=r(75659),v=r(55817),b=r(16575),g=r(94263),E=["system","profileRules","columns","remediationsEnabled","ansibleSupportFilter","selectedFilter","handleSelect","selectedRules","hidePassed","options","activeFilters"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.system,r=e.profileRules,o=e.columns,s=void 0===o?g.ZP:o,u=e.remediationsEnabled,T=void 0===u||u,w=e.ansibleSupportFilter,P=void 0!==w&&w,O=e.selectedFilter,j=void 0!==O&&O,Z=e.handleSelect,C=e.selectedRules,R=void 0===C?[]:C,S=e.hidePassed,k=void 0!==S&&S,I=e.options,V=e.activeFilters,F=(0,a.Z)(e,E),N=(0,h.ZP)("manageColumns"),B=Z?[R,Z]:(0,l.useState)([]),H=(0,i.Z)(B,2),D=H[0],A=H[1],L=(0,f.uJ)(r),M=function(e){return(e||[]).filter((function(e){return e.remediationAvailable}))},_=s.filter((function(e){return"Passed"===e.title})).length>0,K=r.filter((function(e){return!!e.profile})).map((function(e){var t=e.profile;return{id:t.id,name:t.name}}));return c().createElement(m.v,(0,n.Z)({"aria-label":"Rules Table",items:L,columns:s,isStickyHeader:!0,filters:x({filterConfig:(0,b.ZP)({showPassFailFilter:_,policies:K,ansibleSupportFilter:P})},k&&{activeFilters:function(e){return x(x({},e),{},{passed:e.passed?e.passed:["failed"]},V)}}),options:x(x(x(x({},p.yi),I),{},{identifier:function(e){return"".concat(e.profile.id,"|").concat(e.refId)},onSelect:(Z||T)&&A,preselected:D,detailsComponent:y.Z,emptyRows:(0,v.Z)(s),selectedFilter:j},T?{dedicatedAction:function(e){var r=e.selected;return c().createElement(d.Z,{allSystems:[{id:t.id,profiles:t.testResultProfiles,ruleObjectsFailed:[],supported:t.supported}],selectedRules:M(r)})}}:{}),{},{manageColumns:N})},F))};w.propTypes={profileRules:u().array,loading:u().bool,hidePassed:u().bool,system:u().object,remediationsEnabled:u().bool,ansibleSupportFilter:u().bool,selectedRules:u().array,selectedFilter:u().bool,handleSelect:u().func,columns:u().array,options:u().object,activeFilters:u().object};const P=w},56085:(e,t,r)=>{"use strict";r.d(t,{Hv:()=>b,uU:()=>m.uU,TB:()=>m.TB,b4:()=>m.b4});var n=r(42982),o=r(45987),i=r(92950),a=r.n(i),l=r(45697),c=r.n(l),s=r(89624),u=r(16051),p=r(56333),d=r(15293),m=r(87968),h=["tabsData","defaultTab","selectedRuleRefIds","setSelectedRuleRefIds","columns","level","ouiaId"],f=function(e,t){var r=e.id,n=e.osMinorVersion;return"rules-".concat(r,"-").concat(n||t)},y=function(e,t){if(e&&0!==e.length){if(!t){var r=e[0];t={id:r.profile.id,osMinorVersion:r.profile.osMinorVersion||r.newOsMinorVersion}}return f(t)}},v=function(e){var t=e.tabsData,r=e.defaultTab,i=e.selectedRuleRefIds,l=e.setSelectedRuleRefIds,c=e.columns,v=e.level,b=void 0===v?0:v,g=e.ouiaId,E=(0,o.Z)(e,h),T=function(e,t,r){var o=(i||[]).filter((function(r){return!(0,m.Tn)(r,e,t)})),a={id:e.id,osMinorVersion:t||e.osMinorVersion,ruleRefIds:r};l([a].concat((0,n.Z)(o)))};return a().createElement(u.tn,{ouiaId:g,level:b,defaultTab:y(t,r)},null==t?void 0:t.map((function(e){var t=e.profile,r=e.newOsMinorVersion,n=e.systemCount;return a().createElement(s.Tab,{key:f(t,r),eventKey:f(t,r),title:a().createElement("span",null,a().createElement("span",{className:"pf-u-pr-sm"},a().createElement(d.Z,{profile:t,newOsMinorVersion:r})),a().createElement(s.Badge,{isRead:!0},n)),ouiaId:"RHEL ".concat(t.osMajorVersion,".").concat(t.osMinorVersion||r)},a().createElement(p.Z,{profile:t,newOsMinorVersion:r,columns:c,rulesTableProps:E,systemCount:n,selectedRuleRefIds:(0,m.p$)(i,t,r),handleSelect:l?T:void 0}))})))};v.propTypes={tabsData:c().arrayOf(c().shape({profile:c().object.isRequired,selectedRuleRefIds:c().arrayOf(c().string),newOsMinorVersion:c().string,systemCount:c().number})).isRequired,selectedRuleRefIds:c().arrayOf(c().shape({id:c().string,ruleRefIds:c().arrayOf(c().string)})),setSelectedRuleRefIds:c().func,columns:c().arrayOf(c().object),defaultTab:c().shape({id:c().string,osMinorVersion:c().string}),level:c().number,ouiaId:c().string};const b=v},16051:(e,t,r)=>{"use strict";r.d(t,{mR:()=>Oe,MU:()=>Se,C:()=>It,OF:()=>A,C$:()=>dt,MT:()=>Rt.Z,X8:()=>ce,_U:()=>I.Z,mf:()=>k,AY:()=>V.Z,Nj:()=>Ft,nv:()=>Dt.Z,Ir:()=>w,JS:()=>Zt,V_:()=>Xe,xB:()=>Ge,PL:()=>M,NP:()=>z,o$:()=>Ke.Z,w8:()=>Ue,_z:()=>ut,ko:()=>oe,Tq:()=>_,vu:()=>te,vm:()=>_e,Ek:()=>Le,Jm:()=>de,tn:()=>me,iK:()=>Ct.Z,Se:()=>ye,K7:()=>he,tC:()=>ve,Zr:()=>Ot,bL:()=>ht,UN:()=>be.Z,Hv:()=>jt.Hv,cT:()=>wt,Vs:()=>be.V,fz:()=>ge.Z,zf:()=>Ht,Oq:()=>D});var n=r(42982),o=r(92950),i=r.n(o),a=r(14040),l=r(96541),c=r(45697),s=r.n(c),u=r(89624),p=r(79886),d=function(e){var t=e.id,r=e.policy,n=e.policyType;return i().createElement(u.TextContent,null,i().createElement(Dt.Z,{to:"/scappolicies/"+t},r.name),i().createElement(V.Z,null,n))};d.propTypes={id:s().string,policy:s().object,policyType:s().string};var m={title:"Name",props:{width:45},sortByProp:"name",renderExport:function(e){return e.name},renderFunc:(0,p.SO)(d)},h=function(e){return"RHEL ".concat(e.osMajorVersion)},f={title:"Operating system",transforms:[a.fitContent],props:{width:15},sortByProp:"osMajorVersion",renderExport:h,renderFunc:function(e,t,r){return h(r)}},y={title:"Systems",props:{width:15},sortByProp:"totalHostCount",renderExport:function(e){return e.totalHostCount},renderFunc:function(e,t,r){return r.totalHostCount>0?r.totalHostCount:i().createElement(be.Z,{count:r.totalHostCount,variant:"count"})}},v=function(e){return e.businessObjective&&e.businessObjective.title||"--"},b={title:"Business objective",sortByFunction:function(e){var t;return null==e||null===(t=e.businessObjective)||void 0===t?void 0:t.title},renderExport:v,renderFunc:function(e,t,r){return v(r)}},g=function(e){return"".concat(e.complianceThreshold,"%")},E={title:"Compliance threshold",sortByProp:"complianceThreshold",renderExport:g,renderFunc:function(e,t,r){return g(r)}},T=[m,{title:"Policy Type",renderExport:function(e){return e.policyType}},f,y,b,E];const x=[m,f,y,b,E],w=function(){return i().createElement(a.Table,{"aria-label":"policies-table",ouiaId:"PoliciesTable",cells:x,rows:(0,n.Z)(Array(5)).map((function(){return{cells:[{title:i().createElement(l.Z,null),colSpan:5}]}}))},i().createElement(a.TableHeader,null),i().createElement(a.TableBody,null))};var P=r(87462),O=r(45987),j=r(43047),Z=r(56700),C=r(85333),R=["error"],S=function(e){var t=e.error,r=(0,O.Z)(e,R);return t.networkError&&401===t.networkError.statusCode?(window.insights.chrome.auth.logout(!0),!1):t.networkError&&403===t.networkError.statusCode?i().createElement(C.Z,{serviceName:"Compliance"}):t.networkError&&404===t.networkError.statusCode?i().createElement(Z.Z,null):i().createElement("section",(0,P.Z)({},r,{className:"pf-l-page__main-section pf-c-page__main-section ins-c-component_invalid-componet"}),i().createElement(j.ZP,{size:"xl",style:{color:"var(--pf-global--danger-color--100)"}}),i().createElement(u.Title,{headingLevel:"h1"},"There was an error"),i().createElement(u.Text,null,"If you need to contact Red Hat Support about this, this is the exact error:",i().createElement(u.Text,null,t.message)),i().createElement(u.Button,{variant:"link",ouiaId:"ErrorPageGoBackButton",onClick:history.goBack},"Go back"))};S.propTypes={error:s().object};const k=S;var I=r(54288),V=r(22169),F=(r(53947),r(44948),r(73479)),N=r(68778),B=r(11443),H=function(e){return e.rulesPassed+e.rulesFailed===0?i().createElement(F.ZP,{color:"var(--pf-global--disabled-color--100)"}):e.compliant?i().createElement(N.ZP,{color:"var(--pf-global--success-color--200)"}):i().createElement(j.ZP,{color:"var(--pf-global--danger-color--100)"})},D=function(e){return!1===e.supported?" Unsupported":e.rulesPassed+e.rulesFailed===0?" N/A":" "+(0,B.P0)(e.score)};const A=function(e){return i().createElement(u.Text,null,e.supported?i().createElement(u.Tooltip,{content:"The system compliance score is calculated by OpenSCAP and is a normalized weighted sum of rules selected for this policy."},i().createElement(H,(0,P.Z)({key:"system-compliance-icon-".concat(e.id)},e)),D(e)):D(e))};var L=r(24561);const M=function(){return i().createElement(L.ZP,{speed:2,width:1e3,height:400,viewBox:"0 0 1000 400",backgroundcolor:"#f3f3f3",foregroundcolor:"#ecebeb"},i().createElement("rect",{x:"-3",y:"7",rx:"3",ry:"3",width:"760",height:"19"}),i().createElement("rect",{x:"823",y:"3",rx:"3",ry:"3",width:"67",height:"29"}),i().createElement("rect",{x:"910",y:"3",rx:"3",ry:"3",width:"67",height:"29"}),i().createElement("rect",{x:"6",y:"54",rx:"0",ry:"0",width:"46",height:"19"}),i().createElement("rect",{x:"68",y:"54",rx:"0",ry:"0",width:"46",height:"19"}),i().createElement("rect",{x:"133",y:"54",rx:"0",ry:"0",width:"46",height:"19"}),i().createElement("rect",{x:"3",y:"110",rx:"0",ry:"0",width:"255",height:"17"}),i().createElement("rect",{x:"1",y:"149",rx:"0",ry:"0",width:"47",height:"16"}),i().createElement("rect",{x:"1",y:"185",rx:"0",ry:"0",width:"255",height:"17"}),i().createElement("rect",{x:"-1",y:"224",rx:"0",ry:"0",width:"187",height:"16"}),i().createElement("rect",{x:"-4",y:"267",rx:"0",ry:"0",width:"255",height:"17"}),i().createElement("rect",{x:"-6",y:"306",rx:"0",ry:"0",width:"47",height:"16"}),i().createElement("rect",{x:"-6",y:"342",rx:"0",ry:"0",width:"255",height:"17"}),i().createElement("rect",{x:"-8",y:"381",rx:"0",ry:"0",width:"187",height:"16"}))},_=function(){return i().createElement(L.ZP,{height:320,width:1550,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},i().createElement("rect",{x:"18",y:"50",rx:"4",ry:"4",width:"478",height:"15"}),i().createElement("rect",{x:"19",y:"18",rx:"3",ry:"3",width:"220",height:"9"}),i().createElement("circle",{cx:"118",cy:"156",r:"73"}),i().createElement("rect",{x:"1002",y:"40",rx:"0",ry:"0",width:"69",height:"23"}),i().createElement("rect",{x:"47",y:"77",rx:"0",ry:"0",width:"0",height:"0"}),i().createElement("rect",{x:"36",y:"77",rx:"0",ry:"0",width:"16",height:"0"}),i().createElement("rect",{x:"409",y:"149",rx:"0",ry:"0",width:"0",height:"0"}),i().createElement("rect",{x:"214",y:"145",rx:"0",ry:"0",width:"205",height:"9"}),i().createElement("rect",{x:"216",y:"119",rx:"0",ry:"0",width:"205",height:"9"}),i().createElement("rect",{x:"526",y:"100",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"526",y:"122",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"526",y:"146",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"527",y:"170",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"527",y:"194",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"527",y:"218",rx:"0",ry:"0",width:"431",height:"8"}),i().createElement("rect",{x:"529",y:"275",rx:"0",ry:"0",width:"231",height:"7"}))};var K=r(19535),q=r(56163),U=r.n(q),G=function(e){var t=e.policy;return i().createElement(u.Card,{ouiaId:"PolicyDetailsCard"},i().createElement(u.CardHeader,null,i().createElement(u.Text,{style:{fontSize:20}},i().createElement("b",null,"Policy details"))),i().createElement(u.CardBody,null,i().createElement(u.TextContent,null,i().createElement(u.Text,{component:u.TextVariants.h5},"Compliance threshold",i().createElement(Ue,null)),i().createElement(u.Text,{className:"threshold-tooltip",component:u.TextVariants.p},"".concat((0,B.P0)(t.complianceThreshold,1),' of rules must be\n        passed for a system to be labeled "Compliant"')),i().createElement(u.Text,{component:u.TextVariants.h5},"Business objective",i().createElement(Ge,null)),i().createElement(u.Text,{component:u.TextVariants.p},t.businessObjective&&t.businessObjective.title||"-"),i().createElement(u.Text,{component:u.TextVariants.h5},"Policy description"),i().createElement(u.Text,{component:u.TextVariants.p},i().createElement(K.Z,{text:U()(t.description||""),length:380,inline:!0})),i().createElement(u.Text,{component:u.TextVariants.h5},"Operating system"),i().createElement(u.Text,{component:u.TextVariants.p},"RHEL ",t.osMajorVersion),i().createElement(u.Text,{component:u.TextVariants.h5},"Policy type "),i().createElement(u.Text,{component:u.TextVariants.p},t.policyType),i().createElement(u.Text,{component:u.TextVariants.h5},"Reference ID"),i().createElement(u.Text,{component:u.TextVariants.p},t.refId))))};G.propTypes={policy:s().object};const z=G;var $=["children"],W=["children"],J={children:s().node},Q=function(e){var t=e.children,r=(0,O.Z)(e,$);return i().createElement(u.TextListItem,(0,P.Z)({},r,{component:u.TextListItemVariants.dt}),t)};Q.propTypes=J;var X=function(e){var t=e.children,r=(0,O.Z)(e,W);return i().createElement(u.TextListItem,(0,P.Z)({},r,{component:u.TextListItemVariants.dd}),t)};X.propTypes=J;var Y=function(e){var t=e.profile;return i().createElement(i().Fragment,null,i().createElement(u.TextList,{component:u.TextListVariants.dl},i().createElement(Q,null,i().createElement(u.Text,{className:"ins-c-non-bold-h2"},"Policy details")),i().createElement(Q,null,"Operating system"),i().createElement(X,null,"RHEL ",t.osMajorVersion),i().createElement(Q,null,"Compliance threshold"),i().createElement(X,null,"".concat((0,B.P0)(t.complianceThreshold,1),' of rules must be\n        passed for a system to be labeled "Compliant"')),i().createElement(Q,null,"Business objective"),i().createElement(X,null,t.businessObjective?t.businessObjective.title:"--")),i().createElement(Dt.Z,{to:"/scappolicies/"+t.policy.id},"View policy"))};Y.propTypes={profile:s().shape({id:s().string,complianceThreshold:s().number,businessObjective:s().object,osMajorVersion:s().string,policy:s().shape({id:s().string}),benchmark:s().shape({version:s().string})})};var ee=function(e){var t=e.profile;return i().createElement(u.TextContent,{className:"policy-details"},i().createElement(Y,{profile:t}))};ee.propTypes={profile:s().object};const te=ee;var re=r(48273),ne=function(e){var t,r,n=e.percent,o=e.failed;return 100===n?(r="Success",t=re.ProgressVariant.success):o?(r="Error",t=re.ProgressVariant.danger):(r="Progress",t=re.ProgressVariant.info),i().createElement(re.Progress,{id:"finished-create-policy",value:n,title:r,variant:t,className:"wizard-progress-bar"})};ne.propTypes={percent:s().number,failed:s().bool};const oe=ne;var ie=r(334),ae=r(52710),le=["children","defaultTab","level","ouiaId"],ce=function(e){return e.children},se=function(e,t){return e.find((function(e){return e.props.eventKey===t}))},ue=function(e,t){var r=(0,ae.Wb)(e).split("|");return{levels:r,currentAnchor:r[t]||e}},pe=function(e){var t=e.children,r=e.activeKey,n=e.defaultTab,o=se(t,r);return o?[o]:[n?se(t,n):t[0]]};pe.propTypes={activeTab:s().number,children:s().node};var de=function(e){var t=e.children,r=e.defaultTab,n=e.level,o=ue(r,n).currentAnchor;return i().createElement(pe,{activeKey:o},t)};de.propTypes={children:s().node,defaultTab:s().string,level:s().number},de.defaultProps={level:0};var me=function(e){var t=e.children,r=e.defaultTab,n=e.level,o=e.ouiaId,a=(0,O.Z)(e,le),l=(0,ie.useHistory)().push,c=(0,ie.useLocation)(),s=c.pathname,p=c.state,d=ue(r,n),m=d.currentAnchor,h=d.levels,f=t.map((function(e){return e.props.eventKey})).find((function(e){return e===m}));return i().createElement(u.Tabs,(0,P.Z)({},a,{ouiaId:o,onSelect:function(e,t){e.preventDefault();var r=t.replace("#",""),o=h;o[n]=r,l({state:p,to:s,hash:o.slice(0,n+1).join("|")})},activeKey:f?m:r}),t)};me.defaultProps={level:0},me.propTypes={children:s().node,defaultTab:s().string,level:s().number,ouiaId:s().string};var he=function(e){return e.children},fe={stateValues:s().object,children:s().node},ye=function(e){var t=e.stateValues;return e.children.flatMap((function(e){return e})).filter((function(e){return t[e.props.stateKey]}))};ye.propTypes=fe;var ve=function(e){var t=e.stateValues,r=e.children;return i().createElement(ye,{stateValues:t},i().createElement(he,{key:"error-state",stateKey:"error"},i().createElement(k,{error:t.error})),r)};ve.propTypes=fe;var be=r(24014),ge=r(10490),Ee=r(4942),Te=["to","hash","children","state","backgroundLocation","checkPermissions"];function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,Ee.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe=function(e){var t=e.to,r=e.hash,n=e.children,o=e.state,a=e.backgroundLocation,l=e.checkPermissions,c=void 0===l||l,s=(0,O.Z)(e,Te),u=we(we({},(0,ie.useLocation)()),a),p=we(we({},o),{},{background:u}),d=c?Dt.Z:ie.Link;return i().createElement(d,(0,P.Z)({to:{pathname:t,state:p,hash:r}},s),n)};Pe.propTypes={backgroundLocation:s().object,children:s().node,hash:s().string,state:s().object,to:s().string.isRequired,checkPermissions:s().bool};const Oe=Pe;var je=["href"],Ze=["children"],Ce=function(e){var t=e.href,r=(0,O.Z)(e,je);return i().createElement(Dt.Z,(0,P.Z)({},r,{to:t}))};Ce.propTypes={href:s().string};var Re=function(e){var t=e.children,r=(0,O.Z)(e,Ze);return i().createElement(u.BreadcrumbItem,(0,P.Z)({},r,{component:Ce}),t)};Re.propTypes={children:s().node};const Se=Re;var ke=r(72971),Ie=r(41532),Ve=r(87604),Fe=r(77346),Ne=r(50993),Be=r(10218);function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){(0,Ee.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae=function(e){var t=e.profiles,r=(0,Fe.ZP)("manageColumns"),o=(0,Fe.ZP)("pdfReport"),a=(0,p.jj)(t.map((function(e){return e.policyType})).filter((function(e){return!!e}))),l=(0,p.jj)(t.map((function(e){return e.osMajorVersion})).filter((function(e){return!!e})));return i().createElement(Ve.v,{"aria-label":"Reports",ouiaId:"ReportsTable",columns:[].concat((0,n.Z)(Ne.ZP),(0,n.Z)(o&&[Ne._C]||[])),items:t,isStickyHeader:!0,filters:{filterConfig:[].concat((0,n.Z)(Be.Yv),(0,n.Z)(a.length>0&&(0,Be.U3)(a)||[]),(0,n.Z)(l.length>0&&(0,Be.W3)(l)||[]),(0,n.Z)(Be.Zl))},options:De(De({},ke.yi),{},{exportable:De(De({},ke.yi.exportable),{},{columns:Ne.dj}),manageColumns:r,emptyRows:(0,Ie.fQ)("reports",Ne.ZP.length)})})};Ae.propTypes={profiles:s().array};const Le=Ae;var Me=r(6474);const _e=function(){return i().createElement(Me.Z,{title:"No policies are reporting",mainButton:i().createElement(Oe,{to:"/scappolicies/new"},i().createElement(u.Button,{variant:"primary",ouiaId:"CreateNewPolicyButton"},"Create new policy"))})};var Ke=r(84206),qe=r(91290);const Ue=function(){return i().createElement(u.Tooltip,{position:"right",content:i().createElement(o.Fragment,null,'The compliance threshold defines what percentage of rules must be met in order for a system to be determined "compliant".')},i().createElement("span",null," ",i().createElement(qe.ZP,{className:"grey-icon"})))},Ge=function(){return i().createElement(u.Tooltip,{position:"right",content:i().createElement(o.Fragment,null,"This is an optional field that can be used to label policies that are related to specific business objectives.")},i().createElement("span",null," ",i().createElement(qe.ZP,{className:"grey-icon"})))};r(23690);var ze=r(48108);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,Ee.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je=function(){return i().createElement("div",null,i().createElement(Oe,{to:"/scappolicies/new"},i().createElement(u.Button,{variant:"primary",ouiaId:"CreateNewPolicyButton"},"Create new policy")))},Qe=function(e){var t=e.policies,r=e.location,n=e.history,o=(0,Fe.ZP)("manageColumns"),a=Object.values(ze);return i().createElement(Ve.v,{"aria-label":"Policies",ouiaId:"PoliciesTable",className:"compliance-policies-table",columns:x,items:t,isStickyHeader:!0,filters:{filterConfig:a},options:We(We({},ke.yi),{},{actionResolver:function(){return[{title:"Delete policy",onClick:function(e,o,i){var a=i.itemId,l=t.find((function(e){return e.id===a}));n.push("/scappolicies/".concat(a,"/delete"),{policy:l,background:r})}},{title:"Edit policy",onClick:function(e,o,i){var a=i.itemId,l=t.find((function(e){return e.id===a}));n.push("/scappolicies/".concat(a,"/edit"),{policy:l,background:r,state:{policy:l}})}}]},dedicatedAction:Je,exportable:We(We({},ke.yi.exportable),{},{columns:T}),manageColumns:o,emptyRows:(0,Ie.fQ)("policies",x.length)})})};Qe.propTypes={policies:s().array.isRequired,history:s().object.isRequired,location:s().object.isRequired},Qe.defaultProps={policies:[]};const Xe=(0,ie.withRouter)(Qe);var Ye=r(15671),et=r(43144),tt=r(97326),rt=r(60136),nt=r(82963),ot=r(61120),it=r(6455),at=r(46314),lt=r(74726),ct=r(70597);var st=function(e){(0,rt.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,ot.Z)(t);if(r){var o=(0,ot.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,nt.Z)(this,e)});function o(){var e;(0,Ye.Z)(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),(0,Ee.Z)((0,tt.Z)(e),"state",{validThreshold:(0,ct.KJ)(e.props.previousThreshold),threshold:e.props.previousThreshold}),(0,Ee.Z)((0,tt.Z)(e),"handleThresholdChange",(function(t){e.setState({validThreshold:(0,ct.KJ)(t),threshold:t})})),e}return(0,et.Z)(o,[{key:"render",value:function(){var e=this.state,t=e.threshold,r=e.validThreshold;return i().createElement(i().Fragment,null,i().createElement(u.FormGroup,{fieldId:"policy-threshold",validated:r?"default":"error",helperTextInvalid:i().createElement(dt,{threshold:t}),helperText:"A value of 95% or higher is recommended",labelIcon:i().createElement(Ue,null),label:"Compliance threshold (%)"},i().createElement(it.Z,{name:"complianceThreshold",id:"complianceThreshold",isRequired:!0,onChange:this.handleThresholdChange,validated:r?"default":"error",defaultValue:t,"aria-label":"compliance threshold",component:lt._,type:"number",style:{width:"60%",display:"block"}})))}}]),o}(i().Component);st.propTypes={previousThreshold:s().number};const ut=(0,at.Z)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0})(st);var pt=function(e){var t=e.threshold,r=parseFloat(t);return i().createElement(i().Fragment,null,i().createElement(u.HelperText,null,(r<0||r>100||isNaN(r))&&i().createElement(u.HelperTextItem,{variant:"error"},"Threshold has to be a number between 0 and 100"),!(0,ct.$X)(r,1)&&i().createElement(u.HelperTextItem,{variant:"error"},"Threshold values can have a maximum of one decimal place")))};pt.propTypes={threshold:s().string};const dt=pt;var mt=r(15265);const ht=function(){return i().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:ke.iK},"Supported SSG versions ",i().createElement(mt.ZP,null))};var ft=r(69957);function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){(0,Ee.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bt=i().createElement(i().Fragment,null,i().createElement(u.Text,{variant:"p",style:{marginBottom:"1rem"}},"These systems are running unsupported versions of the SCAP Security Guide (SSG) for the version of RHEL installed on them. Assessment of rules failed/passed on these systems is a best-guess effort and may not be accurate."),i().createElement(u.Text,{variant:"p"},"The policy's compliance score excludes these systems.")),gt=function(e){var t=e.children,r=e.variant,n=void 0===r?"plural":r;return i().createElement(u.Popover,{id:"unsupported-popover",maxWidth:"25rem",headerContent:"Unsupported SSG versions",bodyContent:"plural"===n?bt:"This system was using an incompatible version of the SSG at the time this report was generated. Assessment of rules failed/passed on this system is a best-guess effort and may not be accurate.",footerContent:i().createElement(ht,null)},t)};gt.propTypes={children:s().node,variant:s().oneOf(["singular","plural"])};var Et=function(e){var t=e.children,r=e.content;return i().createElement(u.Tooltip,{content:r,position:"bottom"},t)};Et.propTypes={content:s().string,children:s().node};var Tt=function(e){var t=e.variant,r=e.children,n=e.tooltipProps,o={tooltip:{Component:Et,componentProps:n},popover:{Component:gt,componentProps:{showHeader:n.showPopupHeader,variant:n.messageVariant}}}[t],a=o.Component,l=o.componentProps;return i().createElement(a,l,r)};Tt.propTypes={children:s().node,variant:s().oneOf(["tooltip","popover"]),tooltipProps:s().object};var xt=function(e){var t=e.children,r=e.showWarningIcon,n=void 0===r||r,o=e.showHelpIcon,a=void 0!==o&&o,l=e.style,c=e.tooltipText,s=e.messageVariant,u={variant:c?"tooltip":"popover",tooltipProps:vt(vt({},c&&{content:i().createElement("div",null,c)}),{},{messageVariant:s})},p=c?{}:{cursor:"pointer"};return i().createElement("span",{style:vt(vt({},l),{},{display:"inline-block"})},n&&i().createElement(Tt,u,i().createElement("span",{style:p,className:"pf-u-mr-xs"},i().createElement(ft.ZP,{color:"var(--pf-global--warning-color--100)"}))),t,a&&i().createElement(Tt,u,i().createElement("span",{style:p,className:"pf-u-ml-xs"},i().createElement(qe.ZP,{className:"grey-icon"}))))};xt.propTypes={showWarningIcon:s().bool,showHelpIcon:s().bool,style:s().object,tooltipText:s().string,children:s().node,variant:s().string,messageVariant:s().string,showPopupHeader:s().bool};const wt=xt;var Pt=function(e){var t=e.children;return i().createElement(u.Text,{component:"h2",style:{color:"var(--pf-global--Color--200)",lineHeight:"2rem"}},t)};Pt.propTypes={children:s().node};const Ot=Pt;var jt=r(56085);const Zt=function(){return i().createElement(u.Bullseye,null,i().createElement(u.EmptyState,{variant:u.EmptyStateVariant.full},i().createElement(u.Title,{headingLevel:"h2",size:"lg",style:{fontWeight:"bold"}},"No systems on this policy"),i().createElement(u.EmptyStateBody,null,i().createElement(u.TextContent,null,i().createElement(u.Text,{component:u.TextVariants.p},"Add systems to this policy from the systems page"),i().createElement(u.Text,{style:{color:"var(--pf-global--warning-color--100)"}},i().createElement(ft.ZP,null)," ",be.V)))))};var Ct=r(74560),Rt=r(86104),St=["children","className"],kt=function(e){var t=e.children,r=e.className,n=void 0===r?"":r,o=(0,O.Z)(e,St);return i().createElement(u.Modal,(0,P.Z)({className:"compliance".concat(n?" ".concat(n):"")},o),t)};kt.propTypes={children:s().node,className:s().string};const It=kt;var Vt=function(e){var t=e.compact;return i().createElement(u.Tooltip,{position:"right",content:"A policy of this type is already in use. Only one policy per policy type can be created for a major release of RHEL."},i().createElement(u.Label,{color:"orange",style:{lineHeight:"1.5em"},compact:t},"In use"))};Vt.propTypes={compact:s().boolean};const Ft=Vt;var Nt=r(43707),Bt=function(e){var t=e.children,r=e.requiredPermissions,n=void 0===r?[]:r,o=e.hide,a=void 0!==o&&o,l=(0,Fe.ZP)("rbac"),c=(0,Nt.T)("compliance",n),s=c.hasAccess,u=c.isLoading;return l?u?"":s?t:!a&&i().createElement(C.Z,{serviceName:"Compliance"}):t};Bt.propTypes={children:s().node,requiredPermissions:s().array,hide:s().bool};const Ht=Bt;var Dt=r(71252)},83129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(92950),o=r.n(n),i=r(89624),a=r(45697),l=r.n(a),c=function(e){var t=e.isChecked,r=e.setActiveFilter;return o().createElement(i.Switch,{label:"Selected only",isChecked:t,onChange:function(){return r("selected",!t)}})};c.propTypes={isChecked:l().bool,setActiveFilter:l().func};const s=c,u=function(e){var t=e.setActiveFilter,r=e.activeFilters,n=!!e.selectedFilter,i={type:"hidden",label:"selectFilter",key:"selected",default:!0,filter:function(e,t){return e.filter((function(e){var r;return(null==e||null===(r=e.rowProps)||void 0===r?void 0:r.selected)===t}))}},a=!0===r.selected;return n?{filterItem:i,toolbarProps:{dedicatedAction:o().createElement(s,{setActiveFilter:t,isChecked:a})}}:{}}},53883:(e,t,r)=>{"use strict";r.r(t);var n=r(92950),o=r.n(n),i=r(12181),a=r.n(i),l=r(45697),c=r.n(l),s=r(19232),u=r(36689),p=r(73980),d=r(48830),m=r(76309),h=r(334),f=r(28216),y=r(35240),v=r(30319),b=r(36873),g=r(60076),E=r(51344),T=r(77346),x={reports:function(e){insights.chrome.appNavClick({id:"reports",redirect:e})},scappolicies:function(e){insights.chrome.appNavClick({id:"scappolicies",redirect:e})},systems:function(e){insights.chrome.appNavClick({id:"systems",redirect:e})}},w=function(e){return(0,T.Br)(),(0,n.useEffect)((function(){var t,r;insights.chrome.init(),null===(t=insights.chrome)||void 0===t||null===(r=t.hideGlobalFilter)||void 0===r||r.call(t),insights.chrome.identifyApp("compliance");var n=e.location.pathname.split("/")[1]||"reports",o=insights.chrome.on("APP_NAVIGATION",(function(t){t.domEvent&&(e.history.push("/".concat(t.navId)),x[n](!0))}));return function(){return o()}}),[]),o().createElement(o().Fragment,null,o().createElement(E.ZP,null),o().createElement(g.Z5,{childProps:e}))};w.propTypes={location:c().object,history:c().object};const P=(0,b.Z)(w);var O=r(72971),j=new p.fe({link:new d.u({credentials:"include",uri:O.dT+"/graphql"}),cache:new m.h4}),Z=function(e){var t=e.logger;return o().createElement(f.zt,{store:(0,v.S1)(t).getStore()},o().createElement(s.Z,{locale:navigator.language},o().createElement(h.BrowserRouter,{basename:(0,y.eb)(window.location.pathname)},o().createElement(u.e,{client:j},o().createElement(P,null)))))};Z.propTypes={logger:c().any};const C=Z;a().render(o().createElement(C,null),document.getElementById("root"))},64640:(e,t)=>{"use strict";t.Z=function(e){void 0===e&&(e={});var t=/^0/,r=/\s+/g,n=/^\s+|\s+$/g,o=/[^\x00-\x80]/,i=/^0x[0-9a-f]+$/i,a=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=String.prototype.toLocaleLowerCase||String.prototype.toLowerCase,s=e.desc?-1:1,u=-s,p=e.insensitive?function(e){return c.call(""+e).replace(n,"")}:function(e){return(""+e).replace(n,"")};function d(e){return e.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function m(e,o){return(!e.match(t)||1===o)&&parseFloat(e)||e.replace(r," ").replace(n,"")||0}return function(e,t){var r=p(e),n=p(t);if(!r&&!n)return 0;if(!r&&n)return u;if(r&&!n)return s;var a=d(r),c=d(n),h=r.match(i),f=n.match(i),y=h&&f?parseInt(h[0],16):1!==a.length&&Date.parse(r),v=h&&f?parseInt(f[0],16):y&&n.match(l)&&Date.parse(n)||null;if(v){if(y===v)return 0;if(y<v)return u;if(y>v)return s}for(var b=a.length,g=c.length,E=0,T=Math.max(b,g);E<T;E+=1){var x=m(a[E]||"",b),w=m(c[E]||"",g);if(isNaN(x)!==isNaN(w))return isNaN(x)?s:u;if(o.test(x+w)&&x.localeCompare){var P=x.localeCompare(w);if(P>0)return s;if(P<0)return u;if(E===T-1)return 0}if(x<w)return u;if(x>w)return s;if(""+x<""+w)return u;if(""+x>""+w)return s}return 0}}},45467:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4572.6f2f771aa9d6a23caf2884a955a4be92.js.map