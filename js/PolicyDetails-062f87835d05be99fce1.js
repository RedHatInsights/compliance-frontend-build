(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1463:function(e,t,a){var n=a(1464);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,r);n.locals&&(e.exports=n.locals)},1464:function(e,t,a){(t=a(6)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=t},1495:function(e,t,a){"use strict";a.r(t),a.d(t,"MULTIVERSION_QUERY",(function(){return $})),a.d(t,"QUERY",(function(){return Q})),a.d(t,"PolicyDetails",(function(){return J}));var n=a(595),r=a.n(n),i=a(1),l=a.n(i),s=a(591),o=a.n(s),c=a(22),u=a(577),d=a(662),m=a(700),f=a(188),p=a(615),b=a(622),v=a(708),y=a(600),g=a(633),E=a(661),h=a(590),_=a(233),S=a(632),T=(a(741),a(12)),O=a.n(T),P=a(706),j=a(586),I=a(709),N=a(603),w=function(e){var t=e.loading,a=e.policy;return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),l.a.createElement(I.PageSection,{variant:I.PageSectionVariants.light},l.a.createElement(j.Text,{component:j.TextVariants.p},l.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",a.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),l.a.createElement(N.SystemRulesTable,{remediationsEnabled:!1,columns:Object(N.selectRulesTableColumns)(["Rule","Severity","Ansible"]),loading:t,profileRules:[{profile:{refId:a.refId,name:a.name},rules:a.rules}]}))};w.propTypes={loading:O.a.bool,policy:O.a.shape({name:O.a.string,refId:O.a.string,rules:O.a.array,benchmark:O.a.object})};var A=w,k=a(94),x=a.n(k),R=a(616),D=a.n(R),V=a(710),C=function(e){var t=e.policy,a=e.systemTableProps,n=Object(S.a)("showSsgVersions");return l.a.createElement(V.b,x()({policyId:t.id,showActions:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}].concat(D()(n?[{key:"facts.compliance",title:"SSG version",renderFunc:function(e){return l.a.createElement(V.a.SSGVersion,{profile:e})}}]:[])),complianceThreshold:t.complianceThreshold},a))};C.propTypes={policy:O.a.shape({id:O.a.string.isRequired,complianceThreshold:O.a.number.isRequired}),systemTableProps:O.a.object};var L=C,M=a(191),B=a.n(M),F=a(775),G=a(794);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){B()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.policy.policy.profiles;return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),l.a.createElement(I.PageSection,{variant:I.PageSectionVariants.light},l.a.createElement(h.x,{level:1,defaultTab:t[0].ssgVersion},t.map((function(e){return l.a.createElement(v.Tab,{key:e.ssg_version,title:l.a.createElement(G.TabTitleText,null,l.a.createElement("span",null,"SSG ",e.ssgVersion+" "),l.a.createElement(F.Label,{color:"blue"},e.rules.length)),eventKey:e.ssgVersion},l.a.createElement(N.SystemRulesTable,{remediationsEnabled:!1,columns:Object(N.selectRulesTableColumns)(["Rule","Severity","Ansible"]),profileRules:[{profile:H({},e),rules:e.rules}]}))})))))};U.propTypes={policy:O.a.object.isRequired};var q=U;a(1463);function z(){var e=r()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return z=function(){return e},e}function W(){var e=r()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n            refId\n            profiles {\n                ssgVersion\n                name\n                refId\n                rules {\n                    title\n                    severity\n                    rationale\n                    refId\n                    description\n                    remediationAvailable\n                    identifier\n                }\n            }\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return W=function(){return e},e}var $=o()(W()),Q=o()(z()),J=function(){var e=Object(S.a)("multiversionTabs"),t=Object(c.m)().policy_id,a=Object(c.l)(),n=Object(_.b)(),r=Object(u.useQuery)(e?$:Q,{variables:{policyId:t}}),s=r.data,o=r.error,T=r.loading,O=r.refetch,P=s&&!T?s.profile:void 0;return P&&P.external&&(o={message:"This is an external SCAP policy."},s=void 0,T=void 0),Object(i.useEffect)((function(){O()}),[a]),l.a.createElement(h.A,{stateValues:{error:o,data:s,loading:T}},l.a.createElement(h.z,{stateKey:"loading"},l.a.createElement(y.PageHeader,null,l.a.createElement(h.k,null)),l.a.createElement(g.Main,null,l.a.createElement(E.Spinner,null))),l.a.createElement(h.z,{stateKey:"data"},P&&l.a.createElement(i.Fragment,null,l.a.createElement(y.PageHeader,{className:"page-header-tabs"},l.a.createElement(d.Breadcrumb,null,l.a.createElement(h.b,{to:"/scappolicies"},"Policies"),l.a.createElement(m.BreadcrumbItem,{isActive:!0},P.name)),l.a.createElement(p.Grid,{gutter:"lg"},l.a.createElement(b.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},l.a.createElement(y.PageHeaderTitle,{title:P.name})),l.a.createElement(b.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},l.a.createElement(h.a,{to:"/scappolicies/".concat(P.id,"/edit"),state:{policy:P},hash:n,backgroundLocation:{hash:"details"}},l.a.createElement(f.Button,{variant:"secondary"},"Edit policy")))),l.a.createElement(h.x,{"aria-label":"Policy Tabs",defaultTab:"details"},l.a.createElement(v.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),l.a.createElement(v.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),l.a.createElement(v.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),l.a.createElement(g.Main,null,l.a.createElement(h.w,{defaultTab:"details"},l.a.createElement(h.d,{eventKey:"details"},l.a.createElement(h.l,{policy:P})),l.a.createElement(h.d,{eventKey:"rules"},e?l.a.createElement(q,{policy:P}):l.a.createElement(A,{policy:P})),l.a.createElement(h.d,{eventKey:"systems"},l.a.createElement(L,{policy:P})))))))};t.default=J},632:function(e,t,a){"use strict";var n=a(226),r=a(22),i=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.d[e];if(e){var a,l,s,o;a=Object(r.l)(),l=a.search,s=a.pathName,o=Object(r.k)(),l&&(new URLSearchParams(l).forEach(i),o.push(s));var c=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(c)),c}}},662:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),i=n.__importDefault(a(49)),l=a(2),s=a(93);t.Breadcrumb=e=>{var{children:a=null,className:o="","aria-label":c="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);return r.createElement("nav",Object.assign({},m,{"aria-label":c,className:l.css(i.default.breadcrumb,o)},s.getOUIAProps(t.Breadcrumb.displayName,u,d)),r.createElement("ol",{className:i.default.breadcrumbList},r.Children.map(a,(e,t)=>{const a=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"},706:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),i=a(1),l=a(2),s=n.__importDefault(a(66)),o=n.__importDefault(a(84)),c=a(791),u=a(93),d=a(792),m=n.__importDefault(a(235));var f;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(f=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:a=f.default,isInline:p=!1,isLiveRegion:b=!1,variantLabel:v=u.capitalize(a)+" alert:","aria-label":y=u.capitalize(a)+" Alert",actionClose:g,actionLinks:E,title:h,children:_="",className:S="",ouiaId:T,ouiaSafe:O=!0,timeout:P=!1,truncateTitle:j=0}=e,I=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","truncateTitle"]);const N=r.createElement(r.Fragment,null,r.createElement("span",{className:l.css(o.default.screenReader)},v),h),[w,A]=i.useState(!1),k=r.useRef(null);r.useEffect(()=>{k.current&&j&&k.current.style.setProperty(m.default.name,j.toString())},[k,j]);const x=l.css(s.default.alert,p&&s.default.modifiers.inline,a!==f.default&&s.default.modifiers[a],S);return!1===w&&P&&0!==P&&setTimeout(()=>{A(!0)},!0===P?8e3:P),!1===w?r.createElement("div",Object.assign({},I,{className:x,"aria-label":y},u.getOUIAProps(t.Alert.displayName,T,O),b&&{"aria-live":"polite","aria-atomic":"false"}),r.createElement(c.AlertIcon,{variant:a}),r.createElement("h4",{ref:k,className:l.css(s.default.alertTitle,j&&s.default.modifiers.truncate)},N),g&&r.createElement(d.AlertContext.Provider,{value:{title:h,variantLabel:v}},r.createElement("div",{className:l.css(s.default.alertAction)},g)),_&&r.createElement("div",{className:l.css(s.default.alertDescription)},_),E&&r.createElement("div",{className:l.css(s.default.alertActionGroup)},E)):null},t.Alert.displayName="Alert"},708:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=()=>null,t.Tab.displayName="Tab"},709:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),i=n.__importDefault(a(13)),l=a(2),s=a(130);var o,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(o=t.PageSectionVariants||(t.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=t.PageSectionTypes||(t.PageSectionTypes={}));const u={[c.default]:i.default.pageMainSection,[c.nav]:i.default.pageMainNav},d={[o.default]:"",[o.light]:i.default.modifiers.light,[o.dark]:i.default.modifiers.dark_200,[o.darker]:i.default.modifiers.dark_100};t.PageSection=e=>{var{className:t="",children:a,variant:o="default",type:c="default",padding:m,isFilled:f,isWidthLimited:p=!1}=e,b=n.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited"]);return r.createElement("section",Object.assign({},b,{className:l.css(u[c],s.formatBreakpointMods(m,i.default),d[o],!1===f&&i.default.modifiers.noFill,!0===f&&i.default.modifiers.fill,p&&i.default.modifiers.limitWidth,t)}),p&&r.createElement("div",{className:l.css(i.default.pageMainBody)},a),!p&&a)},t.PageSection.displayName="PageSection"},791:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),i=a(2),l=n.__importDefault(a(66)),s=n.__importDefault(a(105)),o=n.__importDefault(a(135)),c=n.__importDefault(a(136)),u=n.__importDefault(a(137)),d=n.__importDefault(a(109));t.variantIcons={success:s.default,danger:o.default,warning:c.default,info:u.default,default:d.default},t.AlertIcon=e=>{var{variant:a,className:s=""}=e,o=n.__rest(e,["variant","className"]);const c=t.variantIcons[a];return r.createElement("div",Object.assign({},o,{className:i.css(l.default.alertIcon,s)}),r.createElement(c,null))}},792:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3).__importStar(a(1));t.AlertContext=n.createContext(null)},794:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),r=n.__importStar(a(1)),i=a(2),l=n.__importDefault(a(37));t.TabTitleText=e=>{var{children:t,className:a=""}=e,s=n.__rest(e,["children","className"]);return r.createElement("span",Object.assign({className:i.css(l.default.tabsItemText,a)},s),t)},t.TabTitleText.displayName="TabTitleText"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-d34c30b243e3216358fbabe82eeaca36.js.map