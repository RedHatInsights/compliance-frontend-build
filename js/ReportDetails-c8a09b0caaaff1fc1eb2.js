(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1285:function(e,t,n){(t=n(9)(!1)).push([e.i,".threshold-tooltip {\n  margin-bottom: var(--pf-global--spacer--md); }\n\n.grey-icon {\n  color: var(--pf-global--Color--200); }\n\n.policy-details {\n  padding-top: 10px; }\n\n.report-details-button {\n  text-align: right; }\n",""]),e.exports=t},1305:function(e,t,n){"use strict";n.r(t),n.d(t,"QUERY",(function(){return W})),n.d(t,"ReportDetails",(function(){return Y}));var a=n(332),r=n.n(a),l=n(682),o=n.n(l),c=n(674),i=n.n(c),s=n(1),m=n.n(s),u=n(1078),d=n(684),p=n(687),y=n(20),b=n.n(y),f=n(31),E=n(175),g=n(653),h=n(671),v=n.n(h),O=n(1301),j=n(1288),w=n(782),_=n(815),I=n(333),S=n(714),k=n(725),P=n(663),D=n(681),G=n(746),C=n(1010),N=n(777),x=n(732),H=n(709),B=n(668),F=n(822),T=n(368),R=n(754),V=(n(844),n(4)),M=n.n(V),z=n(1285),A=n.n(z),L={insert:"head",singleton:!1},q=(M()(A.a,L),A.a.locals,n(776)),J=n(775),K=n(1090);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        testResultHostCount\n        compliantHostCount\n        unsupportedHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return $=function(){return e},e}var W=v()($()),Y=function(e){var t,n,a,r,l,c,i=e.route,s=Object(H.a)("showSsgVersions"),y=Object(H.a)("newInventory"),b=Object(f.m)().report_id,h=Object(g.useQuery)(W,{variables:{policyId:b}}),v=h.data,V=h.error,M=h.loading,z=[],A="loading-donut",L={};if(!M&&v){var Q;a=(L=v.profile).policy?L.policy.name:L.name,t=!(null===(Q=L)||void 0===Q||!Q.policy)&&s,c="Report: ".concat(a);var $=L.compliantHostCount,Y=L.testResultHostCount;A=L.name.replace(/ /g,""),z=[{x:"Compliant",y:Y?$:"0"},{x:"Non-compliant",y:Y-$}],n=0===Y&&[u.a.value]||[d.a.value,p.a.value],r=[{name:z[0].y+" "+Object(x.b)(z[0].y,"system")+" compliant"},{name:z[1].y+" "+Object(x.b)(z[1].y,"system")+" non-compliant"}],l=Y?Object(x.a)(Math.floor(z[0].y/(z[0].y+z[1].y)*100)):0}var X=[U({key:"facts.compliance.display_name",title:"Name",props:{width:30}},y&&{key:"display_name",renderFunc:J.d})].concat(o()(t?[{key:"facts.compliance",title:"SSG version",props:{width:5},renderFunc:function(e){return e&&m.a.createElement(F.a.SSGVersion,{supported:e.supported,ssgVersion:e.ssg_version})}}]:[]),[U({key:"facts.compliance.rules_failed",title:"Failed rules",props:{width:5}},y&&{key:"rulesFailed",renderFunc:function(e,t){return m.a.createElement(E.Link,{to:{pathname:"/systems/".concat(t)}}," ",e," ")}}),U({key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},y&&{key:"score",renderFunc:function(e,t,n){return Object(B.c)(n)}}),U({key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}},y&&{key:"lastScanned",renderFunc:function(e){return e instanceof Date?m.a.createElement(K.DateFormat,{date:Date.parse(e),type:"relative"}):e}})]),Z=y?R.b:R.c;return Object(T.b)(i,a),m.a.createElement(B.A,{stateValues:{error:V,data:v,loading:M}},m.a.createElement(B.z,{stateKey:"loading"},m.a.createElement(D.PageHeader,null,m.a.createElement(B.s,null)),m.a.createElement(G.Main,null,m.a.createElement(C.EmptyTable,null,m.a.createElement(N.Spinner,null)))),m.a.createElement(B.z,{stateKey:"data"},m.a.createElement(D.PageHeader,null,m.a.createElement(w.Breadcrumb,null,m.a.createElement(B.b,{to:"/reports"},"Reports"),m.a.createElement(_.BreadcrumbItem,{isActive:!0},c)),m.a.createElement(S.Grid,{hasGutter:!0},m.a.createElement(k.GridItem,{sm:9,md:9,lg:9,xl:9},m.a.createElement(D.PageHeaderTitle,{title:c}),m.a.createElement(B.B,null,L.policyType)),m.a.createElement(k.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},m.a.createElement(B.a,{state:{profile:L},to:"/reports/".concat(L.id,"/delete")},m.a.createElement(I.Button,{variant:"link",isInline:!0},"Delete report")))),m.a.createElement(S.Grid,{hasGutter:!0},m.a.createElement(k.GridItem,{sm:12,md:12,lg:12,xl:6},m.a.createElement("div",{className:"chart-inline"},m.a.createElement("div",{className:"chart-container"},m.a.createElement(O.a,{data:z,identifier:A,title:l,subTitle:"Compliant",themeVariant:j.r.light,colorScale:n,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:r,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}}))),L.unsupportedHostCount>0&&m.a.createElement(P.Text,null,m.a.createElement(B.D,{showHelpIcon:!0},m.a.createElement("strong",{className:"ins-c-warning-text"},L.unsupportedHostCount," systems not supported")))),m.a.createElement(k.GridItem,{sm:12,md:12,lg:12,xl:6},m.a.createElement(B.t,{profile:L})))),m.a.createElement(G.Main,null,m.a.createElement(S.Grid,{hasGutter:!0},m.a.createElement(k.GridItem,{span:12},m.a.createElement(Z,{query:q.a,showOnlySystemsWithTestResults:!0,compliantFilter:!0,defaultFilter:"with_results_for_policy_id = ".concat(L.id),policyId:L.id,columns:X}))))))};Y.propTypes={route:b.a.object};t.default=Y},782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const a=n(3),r=a.__importStar(n(1)),l=a.__importDefault(n(71)),o=n(2),c=n(83);t.Breadcrumb=e=>{var{children:n=null,className:i="","aria-label":s="Breadcrumb",ouiaId:m,ouiaSafe:u=!0}=e,d=a.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=c.useOUIAProps(t.Breadcrumb.displayName,m,u);return r.createElement("nav",Object.assign({},d,{"aria-label":s,className:o.css(l.default.breadcrumb,i)},p),r.createElement("ol",{className:l.default.breadcrumbList},r.Children.map(n,(e,t)=>{const n=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:n}):e})))},t.Breadcrumb.displayName="Breadcrumb"}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails-27632cb3864e8b3c1e2414541ef0cc88.js.map