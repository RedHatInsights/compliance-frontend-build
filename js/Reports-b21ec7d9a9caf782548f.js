(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1568:function(e,n,t){"use strict";t.r(n),t.d(n,"Reports",(function(){return O}));var a=t(585),o=t.n(a),r=t(1),c=t.n(r),l=t(12),i=t.n(l),s=t(22),u=t(568),m=t(581),f=t.n(m),d=t(592),p=t(646),g=t(929),h=t(582),v=t(236),b=function(e,n){var t="enable"===e;t?(console.log("Setting feature value for ".concat(n," to ").concat(t)),localStorage.setItem("".concat("insights:compliance",":").concat(n),t)):(console.log("Removing feature setting of ".concat(n)),localStorage.removeItem("".concat("insights:compliance",":").concat(n)))},w=function(e){var n=v.d[e];if(e){var t,a,o,r;t=Object(s.l)(),a=t.search,o=t.pathName,r=Object(s.k)(),a&&(new URLSearchParams(a).forEach(b),r.push(o));var c=function(e){return localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||n;return console.log("Feature ".concat(e," is set to ").concat(c)),c}};function E(){var e=o()(['\n{\n    profiles(search: "has_test_results = true", limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                totalHostCount\n                compliantHostCount\n                majorOsVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n']);return E=function(){return e},e}var S=f()(E()),T=function(e){return e.showTableView?c.a.createElement(g.SkeletonTable,{colSize:3,rowSize:10}):c.a.createElement(h.f,null)};T.propTypes={showTableView:i.a.bool};var j=function(){return c.a.createElement(d.PageHeader,null,c.a.createElement(d.PageHeaderTitle,{title:"Reports"}))},O=function(){var e=[],n=!1,t=Object(s.l)(),a=Object(u.useQuery)(S),o=a.data,l=a.error,i=a.loading,m=a.refetch,f=w("reportsTableView"),d=f?h.s:h.o;return Object(r.useEffect)((function(){m()}),[t]),o&&(l=void 0,i=void 0,n=(e=function(e){var n;return((null==e||null===(n=e.profiles)||void 0===n?void 0:n.edges)||[]).map((function(e){return e.node})).filter((function(e){return e.totalHostCount>0}))}(o))&&e.length>0),c.a.createElement(h.x,{stateValues:{error:l,data:o,loading:i}},c.a.createElement(h.w,{stateKey:"loading"},c.a.createElement(j,null),c.a.createElement(p.Main,null,c.a.createElement(T,{showTableView:f}))),c.a.createElement(h.w,{stateKey:"data"},c.a.createElement(j,null),c.a.createElement(p.Main,null,n?c.a.createElement(d,{profiles:e}):c.a.createElement(h.r,null))))};n.default=O}}]);
//# sourceMappingURL=../sourcemaps/Reports-3c9556cbb3ba12c3b7f65e4cdfb17086.js.map