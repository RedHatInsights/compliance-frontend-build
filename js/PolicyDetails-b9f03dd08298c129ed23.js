(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1534:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(3),l=n.__importStar(t(1)),i=t(1),r=t(2),s=n.__importDefault(t(66)),o=n.__importDefault(t(86)),c=t(1535),d=t(94),u=t(1536),m=n.__importDefault(t(240));var f;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(f=a.AlertVariant||(a.AlertVariant={})),a.Alert=e=>{var{variant:t=f.default,isInline:p=!1,isLiveRegion:v=!1,variantLabel:y=d.capitalize(t)+" alert:","aria-label":b=d.capitalize(t)+" Alert",actionClose:g,actionLinks:E,title:h,children:_="",className:S="",ouiaId:I,ouiaSafe:N=!0,timeout:P=!1,truncateTitle:T=0}=e,A=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","truncateTitle"]);const j=l.createElement(l.Fragment,null,l.createElement("span",{className:r.css(o.default.screenReader)},y),h),[k,O]=i.useState(!1),w=l.useRef(null);l.useEffect(()=>{w.current&&T&&w.current.style.setProperty(m.default.name,T.toString())},[w,T]);const x=r.css(s.default.alert,p&&s.default.modifiers.inline,t!==f.default&&s.default.modifiers[t],S);return!1===k&&P&&0!==P&&setTimeout(()=>{O(!0)},!0===P?8e3:P),!1===k?l.createElement("div",Object.assign({},A,{className:x,"aria-label":b},d.getOUIAProps(a.Alert.displayName,I,N),v&&{"aria-live":"polite","aria-atomic":"false"}),l.createElement(c.AlertIcon,{variant:t}),l.createElement("h4",{ref:w,className:r.css(s.default.alertTitle,T&&s.default.modifiers.truncate)},j),g&&l.createElement(u.AlertContext.Provider,{value:{title:h,variantLabel:y}},l.createElement("div",{className:r.css(s.default.alertAction)},g)),_&&l.createElement("div",{className:r.css(s.default.alertDescription)},_),E&&l.createElement("div",{className:r.css(s.default.alertActionGroup)},E)):null},a.Alert.displayName="Alert"},1535:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(3),l=n.__importStar(t(1)),i=t(2),r=n.__importDefault(t(66)),s=n.__importDefault(t(108)),o=n.__importDefault(t(142)),c=n.__importDefault(t(143)),d=n.__importDefault(t(144)),u=n.__importDefault(t(110));a.variantIcons={success:s.default,danger:o.default,warning:c.default,info:d.default,default:u.default},a.AlertIcon=e=>{var{variant:t,className:s=""}=e,o=n.__rest(e,["variant","className"]);const c=a.variantIcons[t];return l.createElement("div",Object.assign({},o,{className:i.css(r.default.alertIcon,s)}),l.createElement(c,null))}},1536:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(3).__importStar(t(1));a.AlertContext=n.createContext(null)},1537:function(e,a,t){var n=t(1538);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t(8)(n,l);n.locals&&(e.exports=n.locals)},1538:function(e,a,t){(a=t(6)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=a},1567:function(e,a,t){"use strict";t.r(a),t.d(a,"QUERY",(function(){return C})),t.d(a,"PolicyDetails",(function(){return M}));var n=t(586),l=t.n(n),i=t(1),r=t.n(i),s=t(581),o=t.n(s),c=t(22),d=t(568),u=t(680),m=t(716),f=t(187),p=t(607),v=t(611),y=t(948),b=t(593),g=t(646),E=t(676),h=t(582),_=t(232),S=(t(743),t(12)),I=t.n(S),N=t(1534),P=t(577),T=t(949),A=t(601),j=t(806),k=function(e){var a=e.loading,t=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(T.PageSection,{variant:T.PageSectionVariants.light},r.a.createElement(P.Text,{component:P.TextVariants.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",t.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(A.SystemRulesTable,{remediationsEnabled:!1,columns:[{title:"Rule",transforms:[j.a]},{title:"Severity",transforms:[j.a]},{title:r.a.createElement(r.a.Fragment,null,A.ANSIBLE_ICON," Ansible"),transforms:[j.a],original:"Ansible"}],loading:a,profileRules:[{profile:{refId:t.refId,name:t.name},rules:t.rules}]}))};k.propTypes={loading:I.a.bool,policy:I.a.shape({name:I.a.string,refId:I.a.string,rules:I.a.array,benchmark:I.a.object})};var O=k,w=t(95),x=t.n(w),D=t(654),L=function(e){var a=e.policy,t=e.systemTableProps;return r.a.createElement(D.b,x()({policyId:a.id,showActions:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}],complianceThreshold:a.complianceThreshold},t))};L.propTypes={policy:I.a.shape({id:I.a.string.isRequired,complianceThreshold:I.a.number.isRequired}),systemTableProps:I.a.object};var R=L;t(1537);function B(){var e=l()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return B=function(){return e},e}var C=o()(B()),M=function(){var e=Object(c.m)().policy_id,a=Object(c.l)(),t=Object(_.b)(),n=Object(d.useQuery)(C,{variables:{policyId:e}}),l=n.data,s=n.error,o=n.loading,S=n.refetch,I=l&&!o?l.profile:void 0;return I&&I.external&&(s={message:"This is an external SCAP policy."},l=void 0,o=void 0),Object(i.useEffect)((function(){S()}),[a]),r.a.createElement(h.z,{stateValues:{error:s,data:l,loading:o}},r.a.createElement(h.y,{stateKey:"loading"},r.a.createElement(b.PageHeader,null,r.a.createElement(h.j,null)),r.a.createElement(g.Main,null,r.a.createElement(E.Spinner,null))),r.a.createElement(h.y,{stateKey:"data"},I&&r.a.createElement(i.Fragment,null,r.a.createElement(b.PageHeader,{className:"page-header-tabs"},r.a.createElement(u.Breadcrumb,null,r.a.createElement(h.b,{to:"/scappolicies"},"Policies"),r.a.createElement(m.BreadcrumbItem,{isActive:!0},I.name)),r.a.createElement(p.Grid,{gutter:"lg"},r.a.createElement(v.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(b.PageHeaderTitle,{title:I.name})),r.a.createElement(v.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(h.a,{to:"/scappolicies/".concat(I.id,"/edit"),state:{policy:I},hash:t,backgroundLocation:{hash:"details"}},r.a.createElement(f.Button,{variant:"secondary"},"Edit policy")))),r.a.createElement(h.w,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(y.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(y.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(y.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(g.Main,null,r.a.createElement(h.v,{defaultTab:"details"},r.a.createElement(h.d,{eventKey:"details"},r.a.createElement(h.k,{policy:I})),r.a.createElement(h.d,{eventKey:"rules"},r.a.createElement(O,{policy:I})),r.a.createElement(h.d,{eventKey:"systems"},r.a.createElement(R,{policy:I})))))))};a.default=M},680:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(3),l=n.__importStar(t(1)),i=n.__importDefault(t(49)),r=t(2),s=t(94);a.Breadcrumb=e=>{var{children:t=null,className:o="","aria-label":c="Breadcrumb",ouiaId:d,ouiaSafe:u=!0}=e,m=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);return l.createElement("nav",Object.assign({},m,{"aria-label":c,className:r.css(i.default.breadcrumb,o)},s.getOUIAProps(a.Breadcrumb.displayName,d,u)),l.createElement("ol",{className:i.default.breadcrumbList},l.Children.map(t,(e,a)=>{const t=a>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:t}):e})))},a.Breadcrumb.displayName="Breadcrumb"},949:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(3),l=n.__importStar(t(1)),i=n.__importDefault(t(13)),r=t(2),s=t(130);var o,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(o=a.PageSectionVariants||(a.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=a.PageSectionTypes||(a.PageSectionTypes={}));const d={[c.default]:i.default.pageMainSection,[c.nav]:i.default.pageMainNav},u={[o.default]:"",[o.light]:i.default.modifiers.light,[o.dark]:i.default.modifiers.dark_200,[o.darker]:i.default.modifiers.dark_100};a.PageSection=e=>{var{className:a="",children:t,variant:o="default",type:c="default",padding:m,isFilled:f,isWidthLimited:p=!1}=e,v=n.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited"]);return l.createElement("section",Object.assign({},v,{className:r.css(d[c],s.formatBreakpointMods(m,i.default),u[o],!1===f&&i.default.modifiers.noFill,!0===f&&i.default.modifiers.fill,p&&i.default.modifiers.limitWidth,a)}),p&&l.createElement("div",{className:r.css(i.default.pageMainBody)},t),!p&&t)},a.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-1e690ff576005b71aeb88f16cb90af59.js.map