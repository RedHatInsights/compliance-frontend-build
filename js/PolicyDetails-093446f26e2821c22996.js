(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1194:function(e,a,t){var n=t(1195);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t(10)(n,l);n.locals&&(e.exports=n.locals)},1195:function(e,a,t){(a=t(8)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=a},1216:function(e,a,t){"use strict";t.r(a),t.d(a,"QUERY",(function(){return V})),t.d(a,"PolicyDetails",(function(){return C}));var n=t(373),l=t.n(n),i=t(1),r=t.n(i),s=t(367),o=t.n(s),c=t(6),d=t(347),m=t(503),u=t(544),p=t(55),f=t(388),y=t(403),b=t(709),g=t(379),v=t(458),E=t(457),h=t(368),S=t(98),P=(t(571),t(9)),T=t.n(P),_=t(183),I=t(137),k=t(710),N=t(390),j=t(623),w=function(e){var a=e.loading,t=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(k.PageSection,{variant:k.PageSectionVariants.light},r.a.createElement(I.Text,{component:I.TextVariants.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",t.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(N.SystemRulesTable,{remediationsEnabled:!1,columns:[{title:"Rule",transforms:[j.a]},{title:"Severity",transforms:[j.a]},{title:r.a.createElement(r.a.Fragment,null,N.ANSIBLE_ICON," Ansible"),transforms:[j.a],original:"Ansible"}],loading:a,profileRules:[{profile:{refId:t.refId,name:t.name},rules:t.rules}]}))};w.propTypes={loading:T.a.bool,policy:T.a.shape({name:T.a.string,refId:T.a.string,rules:T.a.array,benchmark:T.a.object})};var O=w,x=t(33),B=t.n(x),A=t(402),K=function(e){var a=e.policy,t=e.systemTableProps;return r.a.createElement(A.f,B()({policyId:a.id,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}],complianceThreshold:a.complianceThreshold},t))};K.propTypes={policy:T.a.shape({id:T.a.string.isRequired,complianceThreshold:T.a.number.isRequired}),systemTableProps:T.a.object};var R=K;t(1194);function M(){var e=l()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return M=function(){return e},e}var V=o()(M()),C=function(){var e=Object(c.m)().policy_id,a=Object(c.l)(),t=Object(S.b)(),n=Object(d.useQuery)(V,{variables:{policyId:e}}),l=n.data,s=n.error,o=n.loading,P=n.refetch,T=l&&!o?l.profile:void 0;return T&&T.external&&(s={message:"This is an external SCAP policy."},l=void 0,o=void 0),Object(i.useEffect)((function(){P()}),[a]),r.a.createElement(h.v,{stateValues:{error:s,data:l,loading:o}},r.a.createElement(h.u,{stateKey:"loading"},r.a.createElement(g.PageHeader,null,r.a.createElement(h.j,null)),r.a.createElement(v.Main,null,r.a.createElement(E.Spinner,null))),r.a.createElement(h.u,{stateKey:"data"},T&&r.a.createElement(i.Fragment,null,r.a.createElement(g.PageHeader,{className:"page-header-tabs"},r.a.createElement(m.Breadcrumb,null,r.a.createElement(h.b,{to:"/scappolicies"},"Policies"),r.a.createElement(u.BreadcrumbItem,{isActive:!0},T.name)),r.a.createElement(f.Grid,{gutter:"lg"},r.a.createElement(y.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(g.PageHeaderTitle,{title:T.name})),r.a.createElement(y.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(h.a,{to:"/scappolicies/".concat(T.id,"/edit"),state:{policy:T},hash:t,backgroundLocation:{hash:"details"}},r.a.createElement(p.Button,{variant:"secondary"},"Edit policy")))),r.a.createElement(h.r,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(b.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(b.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(b.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(v.Main,null,r.a.createElement(h.s,{defaultTab:"details"},r.a.createElement(h.e,{eventKey:"details"},r.a.createElement(h.k,{policy:T})),r.a.createElement(h.e,{eventKey:"rules"},r.a.createElement(O,{policy:T})),r.a.createElement(h.e,{eventKey:"systems"},r.a.createElement(R,{policy:T})))))))};a.default=C},503:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(0),l=n.__importStar(t(1)),i=n.__importDefault(t(408)),r=t(5),s=t(18);a.Breadcrumb=e=>{var{children:t=null,className:o="","aria-label":c="Breadcrumb",ouiaId:d,ouiaSafe:m=!0}=e,u=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);return l.createElement("nav",Object.assign({},u,{"aria-label":c,className:r.css(i.default.breadcrumb,o)},s.getOUIAProps(a.Breadcrumb.displayName,d,m)),l.createElement("ol",{className:i.default.breadcrumbList},l.Children.map(t,(e,a)=>{const t=a>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:t}):e})))},a.Breadcrumb.displayName="Breadcrumb"},710:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=t(0),l=n.__importStar(t(1)),i=n.__importDefault(t(395)),r=t(5),s=t(59);var o,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(o=a.PageSectionVariants||(a.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=a.PageSectionTypes||(a.PageSectionTypes={}));const d={[c.default]:i.default.pageMainSection,[c.nav]:i.default.pageMainNav},m={[o.default]:"",[o.light]:i.default.modifiers.light,[o.dark]:i.default.modifiers.dark_200,[o.darker]:i.default.modifiers.dark_100};a.PageSection=e=>{var{className:a="",children:t,variant:o="default",type:c="default",padding:u,isFilled:p}=e,f=n.__rest(e,["className","children","variant","type","padding","isFilled"]);return l.createElement("section",Object.assign({},f,{className:r.css(d[c],s.formatBreakpointMods(u,i.default),m[o],!1===p&&i.default.modifiers.noFill,!0===p&&i.default.modifiers.fill,a)}),t)},a.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-22975c3cceed816c21e5af4f08f97d4e.js.map