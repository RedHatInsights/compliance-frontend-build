(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1116:function(e,t,n){"use strict";n.r(t),n.d(t,"Reports",(function(){return E}));var a=n(671),r=n.n(a),l=n(1),o=n.n(l),i=n(20),c=n.n(i),s=n(31),u=n(650),f=n(668),m=n.n(f),d=n(729),p=n(660),v=n(678),_=n(705),h=n(768),b=n(666),g=n(683);function S(){var e=r()(["\nquery Profiles($filter: String!) {\n    profiles(search: $filter, limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                policyType\n                totalHostCount\n                testResultHostCount\n                compliantHostCount\n                unsupportedHostCount\n                majorOsVersion\n                ssgVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n"]);return S=function(){return e},e}var y=m()(S()),w=function(e){return e.showTableView?o.a.createElement(h.SkeletonTable,{colSize:3,rowSize:10}):o.a.createElement(b.g,null)};w.propTypes={showTableView:c.a.bool};var A=function(){return o.a.createElement(v.PageHeader,null,o.a.createElement(v.PageHeaderTitle,{title:"Reports",className:"pad-bottom"}),o.a.createElement(d.Alert,{variant:"info",isInline:!0,title:"Support for external reports has been removed.",actionLinks:o.a.createElement("a",{href:"https://access.redhat.com/solutions/5249481"},"Learn more")},o.a.createElement(p.Text,{variant:"p"},"Support for SCAP policies NOT defined within Compliance has been removed. The associated reports for these policies will be removed from Insights by Jan 11th, 2021. Create a policy within the Compliance service for compliance reporting.")))},E=function(){var e=[],t=!1,n=Object(s.l)(),a=Object(g.a)("reportsTableView"),r=a?b.w:b.s,i=Object(u.useQuery)(y,{variables:{filter:"(has_policy_test_results = true AND external = false)\n                    OR (has_policy = false AND has_test_results = true)"}}),c=i.data,f=i.error,m=i.loading,d=i.refetch;return Object(l.useEffect)((function(){d()}),[n]),c&&(f=void 0,m=void 0,t=(e=function(e){var t;return((null==e||null===(t=e.profiles)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node}))}(c))&&e.length>0),o.a.createElement(b.B,{stateValues:{error:f,data:c,loading:m}},o.a.createElement(b.A,{stateKey:"loading"},o.a.createElement(A,null),o.a.createElement(_.Main,null,o.a.createElement(w,{showTableView:a}))),o.a.createElement(b.A,{stateKey:"data"},o.a.createElement(A,null),o.a.createElement(_.Main,null,t?o.a.createElement(r,{profiles:e}):o.a.createElement(b.v,null))))};t.default=E},683:function(e,t,n){"use strict";var a=n(178),r=n(31),l=function(e,t){var n="enable"===e;n?(console.log("Setting feature value for ".concat(t," to ").concat(n)),localStorage.setItem("".concat("insights:compliance",":").concat(t),n)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=a.f[e];if(e){var n,o,i,c;n=Object(r.l)(),o=n.search,i=n.pathName,c=Object(r.k)(),o&&(new URLSearchParams(o).forEach(l),c.push(i));var s=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(s)),s}}},729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertVariant=void 0;const a=n(3),r=a.__importStar(n(1)),l=n(1),o=n(2),i=a.__importDefault(n(93)),c=a.__importDefault(n(100)),s=n(817),u=n(83),f=n(818),m=a.__importDefault(n(819)),d=n(226);var p;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(p=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:n=p.default,isInline:v=!1,isLiveRegion:_=!1,variantLabel:h=u.capitalize(n)+" alert:","aria-label":b=u.capitalize(n)+" Alert",actionClose:g,actionLinks:S,title:y,children:w="",className:A="",ouiaId:E,ouiaSafe:C=!0,timeout:I=!1,onTimeout:T,truncateTitle:R=0,tooltipPosition:z,customIcon:P}=e,O=a.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","onTimeout","truncateTitle","tooltipPosition","customIcon"]);const V=u.useOUIAProps(t.Alert.displayName,E,C,n),k=r.createElement(r.Fragment,null,r.createElement("span",{className:o.css(c.default.screenReader)},h),y),[N,j]=l.useState(!1),[x,D]=l.useState(!1),L=r.useRef(null);r.useEffect(()=>{if(!L.current||!R)return;L.current.style.setProperty(m.default.name,R.toString());const e=L.current&&L.current.offsetHeight<L.current.scrollHeight;x!==e&&D(e)},[L,R,x]);const H=o.css(i.default.alert,v&&i.default.modifiers.inline,n!==p.default&&i.default.modifiers[n],A),M=r.createElement("h4",Object.assign({},x&&{tabIndex:0},{ref:L,className:o.css(i.default.alertTitle,R&&i.default.modifiers.truncate)}),k);return!1===N&&I&&0!==I&&setTimeout(()=>{j(!0),T&&T()},!0===I?8e3:I),!1===N?r.createElement("div",Object.assign({},O,{className:H,"aria-label":b},V,_&&{"aria-live":"polite","aria-atomic":"false"}),r.createElement(s.AlertIcon,{variant:n,customIcon:P}),x?r.createElement(d.Tooltip,{content:k,position:z},M):M,g&&r.createElement(f.AlertContext.Provider,{value:{title:y,variantLabel:h}},r.createElement("div",{className:o.css(i.default.alertAction)},g)),w&&r.createElement("div",{className:o.css(i.default.alertDescription)},w),S&&r.createElement("div",{className:o.css(i.default.alertActionGroup)},S)):null},t.Alert.displayName="Alert"},768:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(224),n(443);var r=n(441);n(444);var l=a(n(1)),o=a(n(20));n(672),n(345);var i=n(447),c=n(446),s=n(674),u=n(689);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){c._inherits(n,e);var t=function(e){return function(){var t,n=c._getPrototypeOf(e);if(f()){var a=c._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return c._possibleConstructorReturn(this,t)}}(n);function n(){var e;c._classCallCheck(this,n);for(var a=arguments.length,o=new Array(a),f=0;f<a;f++)o[f]=arguments[f];return e=t.call.apply(t,[this].concat(o)),r._defineProperty(c._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return i._toConsumableArray(Array(t)).map((function(){return{title:l.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),r._defineProperty(c._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,a=t.columns;return e.newArray(n).map((function(){return""})).concat(a||e.createColumns())})),r._defineProperty(c._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,a=t.rowSize,r=t.columns,o=t.paddingColumnSize,i=r?r.length:n;return e.newArray(a).map((function(){return{disableSelection:!0,cells:e.newArray(o).map((function(){return""})).concat(e.newArray(i).map((function(){return{title:l.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),r._defineProperty(c._assertThisInitialized(e),"selectVariant",(function(){return e.props.hasRadio?(null===s.RowSelectVariant||void 0===s.RowSelectVariant?void 0:s.RowSelectVariant.radio)||"radio":(null===s.RowSelectVariant||void 0===s.RowSelectVariant?void 0:s.RowSelectVariant.checkbox)||"checkbox"})),r._defineProperty(c._assertThisInitialized(e),"newArray",(function(e){return i._toConsumableArray(Array(e))})),e}return c._createClass(n,[{key:"render",value:function(){var e=this.props,t=e.canSelectAll,n=e.isSelectable,a=e.sortBy;return l.createElement(s.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:a,"aria-label":"Loading",onSelect:n,selectVariant:n?this.selectVariant():null,canSelectAll:t},l.createElement(s.TableHeader,null),l.createElement(s.TableBody,null))}}]),n}(l.Component);m.propTypes={colSize:o.number,rowSize:o.number,columns:o.array,paddingColumnSize:o.number,sortBy:o.shape({index:o.number,direction:o.oneOf(["asc","desc"])}),isSelectable:o.bool,canSelectAll:o.bool,hasRadio:o.bool},m.defaultProps={rowSize:0,paddingColumnSize:0,canSelectAll:!1,isSelectable:!1,hasRadio:!1},t.SkeletonTable=m},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const a=n(3),r=a.__importStar(n(1)),l=n(2),o=a.__importDefault(n(93)),i=a.__importDefault(n(761)),c=a.__importDefault(n(808)),s=a.__importDefault(n(762)),u=a.__importDefault(n(809)),f=a.__importDefault(n(810));t.variantIcons={success:i.default,danger:c.default,warning:s.default,info:u.default,default:f.default},t.AlertIcon=e=>{var{variant:n,customIcon:i,className:c=""}=e,s=a.__rest(e,["variant","customIcon","className"]);const u=t.variantIcons[n];return r.createElement("div",Object.assign({},s,{className:l.css(o.default.alertIcon,c)}),i||r.createElement(u,null))}},818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const a=n(3).__importStar(n(1));t.AlertContext=a.createContext(null)},819:function(e,t,n){"use strict";t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines}}]);
//# sourceMappingURL=../sourcemaps/Reports-3c0ed59efebd7e9b951b62f6b6318634.js.map