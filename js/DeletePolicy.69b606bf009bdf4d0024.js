(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[164],{62103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var a=n(63038),l=n.n(a),c=n(4092),i=n(69957),o=n(45697),s=n.n(o),r=n(77865),d=n.n(r),p=n(334),u=n(46829),m=n(13173),y=n(83215),h=n(3906),C=function(){var e=(0,r.useState)(!1),t=l()(e,2),n=t[0],a=t[1],o=(0,p.useLocation)(),s=(0,p.useHistory)(),C=o.state.policy,b=C.name,k=C.id,E=function(){s.push("/scappolicies")},f=(0,u.useMutation)(m._v,{onCompleted:function(){(0,h.C)((0,y.wN)({variant:"success",title:"The policy ".concat(b," and its associated reports has been deleted")})),E()},onError:function(e){(0,h.C)((0,y.wN)({variant:"danger",title:"Error removing policy",description:e.message})),E()}}),v=l()(f,1)[0];return d().createElement(c.Modal,{variant:c.ModalVariant.small,title:d().createElement(d().Fragment,null,d().createElement(i.ZP,{className:"ins-u-warning"}),d().createElement(c.Text,{component:"span",className:"policy-delete-header-text"},"Delete policy?")),isOpen:!0,onClose:E,actions:[d().createElement(c.Button,{key:"destroy","aria-label":"delete",isDisabled:!n,variant:"danger",onClick:function(){return v({variables:{input:{id:k}}})}},"Delete policy and associated reports"),d().createElement(c.Button,{key:"cancel",variant:"secondary",onClick:E},"Cancel")]},d().createElement(c.Text,{className:"policy-delete-body-text"},"Deleting the policy ",d().createElement("b",null,b)," will also delete its associated reports."),d().createElement(c.Checkbox,{label:"I understand this will delete the policy and all associated reports",id:"deleting-policy-check-".concat(k),isChecked:n,onChange:a}))};C.propTypes={policy:s().object};const b=C}}]);
//# sourceMappingURL=DeletePolicy.69b606bf009bdf4d0024.js.map