(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1228:function(e,t,a){var n=a(1229);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(11)(n,l);n.locals&&(e.exports=n.locals)},1229:function(e,t,a){(t=a(10)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-details{padding-top:10px}.report-details-button{text-align:right}\n",""]),e.exports=t},1247:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return x})),a.d(t,"ReportDetails",(function(){return j}));var n=a(523),l=a.n(n),r=a(514),i=a.n(r),o=a(0),c=a.n(o),s=a(15),m=a(490),p=a(510),d=a.n(p),u=a(1250),y=a(1235),f=a(799),E=a(770),h=a(528),g=a(529),b=a(155),v=a(84),w=a(547),O=a(511),C=a(527);a(668),a(1228);function k(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return k=function(){return e},e}var x=d()(k()),j=function(){var e,t,a=Object(s.m)().report_id,n=Object(m.useQuery)(x,{variables:{policyId:a}}),r=n.data,i=n.error,p=n.loading,d=Object(o.useState)(!1),k=l()(d,2),j=k[0],I=k[1],H=Object(s.k)(),R=[],S="loading-donut",P={};if(!p&&r){var T=(P=r.profile).compliantHostCount,_=P.totalHostCount;S=P.name.replace(/ /g,""),e=[{name:(R=[{x:"Compliant",y:T},{x:"Non-compliant",y:_-T}])[0].y+" "+Object(w.b)(R[0].y,"system")+" compliant"},{name:R[1].y+" "+Object(w.b)(R[1].y,"system")+" non-compliant"}],t=Object(w.a)(Math.floor(R[0].y/(R[0].y+R[1].y)*100))}return c.a.createElement(O.v,{stateValues:{error:i,data:r,loading:p}},c.a.createElement(O.u,{stateKey:"loading"},c.a.createElement(v.PageHeader,null,c.a.createElement(O.o,null)),c.a.createElement(v.Main,null,c.a.createElement(v.EmptyTable,null,c.a.createElement(v.Spinner,null)))),c.a.createElement(O.u,{stateKey:"data"},c.a.createElement(v.PageHeader,null,c.a.createElement(f.a,null,c.a.createElement(O.b,{to:"/reports"},"Reports"),c.a.createElement(E.a,{isActive:!0},P.name)),c.a.createElement(h.a,{hasGutter:!0},c.a.createElement(g.a,{sm:9,md:9,lg:9,xl:9},c.a.createElement(v.PageHeaderTitle,{title:P.name+" report"})),c.a.createElement(g.a,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},c.a.createElement(b.a,{isInline:!0,variant:"link",onClick:function(){return I(!0)}},"Delete Report"))),c.a.createElement(h.a,{hasGutter:!0},c.a.createElement(g.a,{sm:12,md:12,lg:12,xl:6},c.a.createElement("div",{className:"chart-inline"},c.a.createElement("div",{className:"chart-container"},c.a.createElement(u.a,{data:R,identifier:S,title:t,subTitle:"Compliant",themeColor:y.q.blue,themeVariant:y.r.light,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:e,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}})))),c.a.createElement(g.a,{sm:12,md:12,lg:12,xl:6},c.a.createElement(O.p,{profile:P})))),c.a.createElement(v.Main,null,c.a.createElement(h.a,{hasGutter:!0},c.a.createElement(g.a,{span:12},c.a.createElement(C.h,{showOnlySystemsWithTestResults:!0,compliantFilter:!0,policyId:P.id,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:30}},{key:"facts.compliance.rules_failed",title:"Rules failed",props:{width:5}},{key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},{key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}}]})))),c.a.createElement(C.c,{isModalOpen:j,policyId:P.id,onClose:function(e){I(!1),e&&H.push("/reports")}})))};t.default=j}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails.js.map