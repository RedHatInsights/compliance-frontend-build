(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1265:function(e,t,a){(t=a(8)(!1)).push([e.i,".threshold-tooltip {\n  margin-bottom: var(--pf-global--spacer--md); }\n\n.grey-icon {\n  color: var(--pf-global--Color--200); }\n\n.policy-details {\n  padding-top: 10px; }\n\n.report-details-button {\n  text-align: right; }\n",""]),e.exports=t},1300:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return D})),a.d(t,"ReportDetails",(function(){return M}));var n=a(718),r=a.n(n),l=a(680),o=a.n(l),c=a(1),i=a.n(c),s=a(20),m=a.n(s),u=a(30),d=a(658),p=a(676),b=a.n(p),f=a(1296),g=a(1283),h=a(776),y=a(813),E=a(333),v=a(717),I=a(729),S=a(668),w=a(684),O=a(750),j=a(1013),C=a(775),G=a(736),_=a(749),N=a(675),H=a(823),k=a(369),x=(a(846),a(4)),R=a.n(x),B=a(1265),P=a.n(B),T={insert:"head",singleton:!1};R()(P.a,T),P.a.locals;function V(){var e=o()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        testResultHostCount\n        compliantHostCount\n        unsupportedHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return V=function(){return e},e}var D=b()(V()),M=function(e){var t,a,n,l,o=e.route,c=Object(_.a)("showSsgVersions"),s=Object(u.m)().report_id,m=Object(d.useQuery)(D,{variables:{policyId:s}}),p=m.data,b=m.error,x=m.loading,R=[],B="loading-donut",P={};if(!x&&p){var T;a=(P=p.profile).policy?P.policy.name:P.name,t=!(null===(T=P)||void 0===T||!T.policy)&&c;var V=P.compliantHostCount,M=P.testResultHostCount;B=P.name.replace(/ /g,""),n=[{name:(R=[{x:"Compliant",y:V},{x:"Non-compliant",y:M-V}])[0].y+" "+Object(G.b)(R[0].y,"system")+" compliant"},{name:R[1].y+" "+Object(G.b)(R[1].y,"system")+" non-compliant"}],l=M?Object(G.a)(Math.floor(R[0].y/(R[0].y+R[1].y)*100)):0}var z=[{key:"facts.compliance.display_name",title:"System name",props:{width:30}},{key:"facts.compliance.rules_failed",title:"Rules failed",props:{width:5}}].concat(r()(t?[{key:"facts.compliance",title:"SSG version",props:{width:5},renderFunc:function(e){return e&&i.a.createElement(H.a.SSGVersion,{profile:e})}}]:[]),[{key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},{key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}}]);return Object(k.b)(o,a),i.a.createElement(N.A,{stateValues:{error:b,data:p,loading:x}},i.a.createElement(N.z,{stateKey:"loading"},i.a.createElement(w.PageHeader,null,i.a.createElement(N.s,null)),i.a.createElement(O.Main,null,i.a.createElement(j.EmptyTable,null,i.a.createElement(C.Spinner,null)))),i.a.createElement(N.z,{stateKey:"data"},i.a.createElement(w.PageHeader,null,i.a.createElement(h.Breadcrumb,null,i.a.createElement(N.b,{to:"/reports"},"Reports"),i.a.createElement(y.BreadcrumbItem,{isActive:!0},a)),i.a.createElement(v.Grid,{hasGutter:!0},i.a.createElement(I.GridItem,{sm:9,md:9,lg:9,xl:9},i.a.createElement(w.PageHeaderTitle,{title:a+" report"})),i.a.createElement(I.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},i.a.createElement(N.a,{state:{profile:P},to:"/reports/".concat(P.id,"/delete")},i.a.createElement(E.Button,{variant:"link",isInline:!0},"Delete report")))),i.a.createElement(v.Grid,{hasGutter:!0},i.a.createElement(I.GridItem,{sm:12,md:12,lg:12,xl:6},i.a.createElement("div",{className:"chart-inline"},i.a.createElement("div",{className:"chart-container"},i.a.createElement(f.a,{data:R,identifier:B,title:l,subTitle:"Compliant",themeColor:g.q.blue,themeVariant:g.r.light,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:n,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}}))),P.unsupportedHostCount>0&&i.a.createElement(S.Text,null,i.a.createElement(N.C,{showHelpIcon:!0},i.a.createElement("strong",{className:"ins-u-warning"},P.unsupportedHostCount," systems not supported")))),i.a.createElement(I.GridItem,{sm:12,md:12,lg:12,xl:6},i.a.createElement(N.t,{profile:P})))),i.a.createElement(O.Main,null,i.a.createElement(v.Grid,{hasGutter:!0},i.a.createElement(I.GridItem,{span:12},i.a.createElement(H.b,{showOnlySystemsWithTestResults:!0,compliantFilter:!0,policyId:P.id,columns:z}))))))};M.propTypes={route:m.a.object};t.default=M},749:function(e,t,a){"use strict";var n=a(178),r=a(30),l=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.f[e];if(e){var a,o,c,i;a=Object(r.l)(),o=a.search,c=a.pathName,i=Object(r.k)(),o&&(new URLSearchParams(o).forEach(l),i.push(c));var s=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(s)),s}}},776:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const n=a(3),r=n.__importStar(a(1)),l=n.__importDefault(a(71)),o=a(2),c=a(82);t.Breadcrumb=e=>{var{children:a=null,className:i="","aria-label":s="Breadcrumb",ouiaId:m,ouiaSafe:u=!0}=e,d=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=c.useOUIAProps(t.Breadcrumb.displayName,m,u);return r.createElement("nav",Object.assign({},d,{"aria-label":s,className:o.css(l.default.breadcrumb,i)},p),r.createElement("ol",{className:l.default.breadcrumbList},r.Children.map(a,(e,t)=>{const a=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails-bbe9d57397bd16f54de5cbb1bb50308b.js.map