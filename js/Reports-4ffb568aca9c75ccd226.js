(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1481:function(e,t,n){"use strict";n.r(t),n.d(t,"Reports",(function(){return z}));var a=n(595),r=n.n(a),i=n(1),o=n.n(i),l=n(12),s=n.n(l),c=n(22),u=n(577),f=n(590),m=n.n(f),d=n(703),p=n(586),v=n(600),_=n(629),b=n(785),g=n(591),y=n(784);function h(){var e=r()(['\n{\n    profiles(search: "has_test_results = true", limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                totalHostCount\n                compliantHostCount\n                majorOsVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n']);return h=function(){return e},e}var S=m()(h()),E=function(e){return e.showTableView?o.a.createElement(b.SkeletonTable,{colSize:3,rowSize:10}):o.a.createElement(g.f,null)};E.propTypes={showTableView:s.a.bool};var w=function(){return o.a.createElement(v.PageHeader,null,o.a.createElement(v.PageHeaderTitle,{title:"Reports",className:"pad-bottom"}),o.a.createElement(d.Alert,{variant:"info",isInline:!0,title:"Support for external reports will be removed in December 2020.",actionLinks:o.a.createElement("a",{href:"https://access.redhat.com/solutions/5249481"},"Learn more")},o.a.createElement(p.Text,{variant:"p"},"As of December 2020 users will no longer be able to upload reports for SCAP policies not defined within Insights. Create a SCAP policy within Insights to continue reporting on your systems.")))},z=function(){var e=[],t=!1,n=Object(c.l)(),a=Object(u.useQuery)(S),r=a.data,l=a.error,s=a.loading,f=a.refetch,m=Object(y.a)("reportsTableView"),d=m?g.u:g.q;return Object(i.useEffect)((function(){f()}),[n]),r&&(l=void 0,s=void 0,t=(e=function(e){var t;return((null==e||null===(t=e.profiles)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node})).filter((function(e){return e.totalHostCount>0}))}(r))&&e.length>0),o.a.createElement(g.z,{stateValues:{error:l,data:r,loading:s}},o.a.createElement(g.y,{stateKey:"loading"},o.a.createElement(w,null),o.a.createElement(_.Main,null,o.a.createElement(E,{showTableView:m}))),o.a.createElement(g.y,{stateKey:"data"},o.a.createElement(w,null),o.a.createElement(_.Main,null,t?o.a.createElement(d,{profiles:e}):o.a.createElement(g.t,null))))};t.default=z},618:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156);var r=n(301),i=n(299),o=n(302),l=a(n(1)),s=a(n(12)),c=a(n(594)),u={xs:"xs",sm:"sm",md:"md",lg:"lg"},f=function(e){var t=e.size,n=e.isDark,a=e.className,s=o._objectWithoutProperties(e,["size","isDark","className"]),u=c("ins-c-skeleton","ins-c-skeleton__".concat(t),i._defineProperty({},"ins-m-dark",n),a);return l.createElement("div",r._extends({className:u},s),"Â ")};f.propTypes={className:s.string,size:s.oneOf(Object.values(u)),isDark:s.bool},f.defaultProps={size:u.md,isDark:!1},t.Skeleton=f,t.SkeletonSize=u},703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3),r=a.__importStar(n(1)),i=n(1),o=n(2),l=a.__importDefault(n(66)),s=a.__importDefault(n(84)),c=n(786),u=n(93),f=n(787),m=a.__importDefault(n(235));var d;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(d=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:n=d.default,isInline:p=!1,isLiveRegion:v=!1,variantLabel:_=u.capitalize(n)+" alert:","aria-label":b=u.capitalize(n)+" Alert",actionClose:g,actionLinks:y,title:h,children:S="",className:E="",ouiaId:w,ouiaSafe:z=!0,timeout:A=!1,truncateTitle:C=0}=e,k=a.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","truncateTitle"]);const P=r.createElement(r.Fragment,null,r.createElement("span",{className:o.css(s.default.screenReader)},_),h),[T,I]=i.useState(!1),O=r.useRef(null);r.useEffect(()=>{O.current&&C&&O.current.style.setProperty(m.default.name,C.toString())},[O,C]);const j=o.css(l.default.alert,p&&l.default.modifiers.inline,n!==d.default&&l.default.modifiers[n],E);return!1===T&&A&&0!==A&&setTimeout(()=>{I(!0)},!0===A?8e3:A),!1===T?r.createElement("div",Object.assign({},k,{className:j,"aria-label":b},u.getOUIAProps(t.Alert.displayName,w,z),v&&{"aria-live":"polite","aria-atomic":"false"}),r.createElement(c.AlertIcon,{variant:n}),r.createElement("h4",{ref:O,className:o.css(l.default.alertTitle,C&&l.default.modifiers.truncate)},P),g&&r.createElement(f.AlertContext.Provider,{value:{title:h,variantLabel:_}},r.createElement("div",{className:o.css(l.default.alertAction)},g)),S&&r.createElement("div",{className:o.css(l.default.alertDescription)},S),y&&r.createElement("div",{className:o.css(l.default.alertActionGroup)},y)):null},t.Alert.displayName="Alert"},784:function(e,t,n){"use strict";var a=n(233),r=n(22),i=function(e,t){var n="enable"===e;n?(console.log("Setting feature value for ".concat(t," to ").concat(n)),localStorage.setItem("".concat("insights:compliance",":").concat(t),n)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=a.d[e];if(e){var n,o,l,s;n=Object(r.l)(),o=n.search,l=n.pathName,s=Object(r.k)(),o&&(new URLSearchParams(o).forEach(i),s.push(l));var c=function(e){return localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(c)),c}}},785:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156),n(301);var r=n(299);n(302);var i=a(n(1)),o=a(n(12));n(594);var l=n(305),s=n(303),c=n(604),u=n(618);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){s._inherits(n,e);var t=function(e){return function(){var t,n=s._getPrototypeOf(e);if(f()){var a=s._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return s._possibleConstructorReturn(this,t)}}(n);function n(){var e;s._classCallCheck(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),r._defineProperty(s._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return l._toConsumableArray(Array(t)).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),r._defineProperty(s._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,a=t.columns;return e.newArray(n).map((function(){return""})).concat(a||e.createColumns())})),r._defineProperty(s._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,a=t.rowSize,r=t.columns,o=t.paddingColumnSize,l=r?r.length:n;return e.newArray(a).map((function(){return{cells:e.newArray(o).map((function(){return""})).concat(e.newArray(l).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),r._defineProperty(s._assertThisInitialized(e),"newArray",(function(e){return l._toConsumableArray(Array(e))})),e}return s._createClass(n,[{key:"render",value:function(){return i.createElement(c.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:this.props.sortBy,"aria-label":"Loading"},i.createElement(c.TableHeader,null),i.createElement(c.TableBody,null))}}]),n}(i.Component);m.propTypes={colSize:o.number,rowSize:o.number,columns:o.array,paddingColumnSize:o.number,sortBy:o.shape({index:o.number,direction:o.oneOf(["asc","desc"])})},m.defaultProps={rowSize:0,paddingColumnSize:0},t.SkeletonTable=m},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3),r=a.__importStar(n(1)),i=n(2),o=a.__importDefault(n(66)),l=a.__importDefault(n(105)),s=a.__importDefault(n(135)),c=a.__importDefault(n(136)),u=a.__importDefault(n(137)),f=a.__importDefault(n(109));t.variantIcons={success:l.default,danger:s.default,warning:c.default,info:u.default,default:f.default},t.AlertIcon=e=>{var{variant:n,className:l=""}=e,s=a.__rest(e,["variant","className"]);const c=t.variantIcons[n];return r.createElement("div",Object.assign({},s,{className:i.css(o.default.alertIcon,l)}),r.createElement(c,null))}},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3).__importStar(n(1));t.AlertContext=a.createContext(null)}}]);
//# sourceMappingURL=../sourcemaps/Reports-86ccf81ec2dc7cffe7daed08ba2c4c71.js.map