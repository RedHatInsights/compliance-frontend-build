(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5,6],{1429:function(e,t,n){var r=n(325),a=n(945),i=n(1430),o=n(1433);e.exports=function(e,t){if(null==e)return{};var n=r(o(e),(function(e){return[e]}));return t=a(t),i(e,n,(function(e,n){return t(e,n[0])}))}},1430:function(e,t,n){var r=n(948),a=n(1431),i=n(951);e.exports=function(e,t,n){for(var o=-1,s=t.length,c={};++o<s;){var l=t[o],u=r(e,l);n(u,l)&&a(c,i(l,e),u)}return c}},1431:function(e,t,n){var r=n(941),a=n(951),i=n(1432),o=n(307),s=n(315);e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,u=(t=a(t,e)).length,d=u-1,p=e;null!=p&&++l<u;){var m=s(t[l]),f=n;if(l!=d){var b=p[m];void 0===(f=c?c(b,m,p):void 0)&&(f=o(b)?b:i(t[l+1])?[]:{})}r(p,m,f),p=p[m]}return e}},1432:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},1433:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1434:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156);var a=n(301),i=n(299),o=r(n(1)),s=r(n(12)),c=n(300),l=864e5,u=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},d=[{rightBound:1/0,description:function(e){return u(Math.round(e/31536e6),"year")}},{rightBound:31536e6,description:function(e){return u(Math.round(e/2592e6),"month")}},{rightBound:2592e6,description:function(e){return u(Math.round(e/l),"day")}},{rightBound:l,description:function(e){return u(Math.round(e/36e5),"hour")}},{rightBound:36e5,description:function(e){return u(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],p=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},m=function(e){return{exact:function(e){return p(e)+" UTC"},onlyDate:function(e){return p(e).slice(0,-6)},relative:function(e){return d.reduce((function(t,n){return n.rightBound>Date.now()-e?n.description(Date.now()-e):t}),p(e))},invalid:function(){return"Invalid date"}}[e]},f=function(e,t,n){return{exact:function(t){return m(e)(t)},onlyDate:function(t){return m(e)(t)},relative:function(r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return o.createElement(c.Tooltip,a._extends({},n,{content:o.createElement("div",null,r,e)}),t)}(m("exact")(r),o.createElement("span",null,m(e)(r)),t,n)},invalid:function(){return"Invalid date"}}[e]};function b(e){var t=e.date,n=e.type,r=void 0===n?"relative":n,a=e.extraTitle,i=e.tooltipProps,s=void 0===i?{}:i,c=t instanceof Date?t:new Date(t),l=null==t||"Invalid Date"===c.toString()?"invalid":r;return o.createElement(o.Fragment,null,f(l,s,a)(c))}b.propTypes={date:s.oneOfType([s.instanceOf(Date),s.string,s.number]),type:s.oneOf(["exact","onlyDate","relative"]),extraTitle:s.string,tooltipProps:s.shape(i._defineProperty({},s.string,s.oneOfType([s.number,s.string])))},t.DateFormat=b},1435:function(e,t,n){!function(e,t){"use strict";var n=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},r=function(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.compose;a(this,e);var s=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o;this.store=t.createStore((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return e}),n,s(t.applyMiddleware.apply(void 0,r(i)))),this.reducers={}}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"getStore",value:function(){return this.store}},{key:"register",value:function(e){this.reducers=c({},this.reducers,{},e),this.store.replaceReducer(t.combineReducers(c({},this.reducers)))}}]),e}(),u=new l;e.ReducerRegistry=l,e.applyReducerHash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return Object.prototype.hasOwnProperty.call(e,r.type)?e[r.type](n,r):n}},e.default=l,e.dispatchActionsToStore=function(e,t){return Object.keys(e).reduce((function(n,r){return c({},n,o({},r,(function(){return t&&t.dispatch(e[r].apply(e,arguments))})))}),{})},e.reduxRegistry=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(157))},1436:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(45));t.EmptyStateIcon=e=>{var{className:t="",icon:n,component:s,variant:c="icon"}=e,l=r.__rest(e,["className","icon","component","variant"]);const u=i.css(o.default.emptyStateIcon,t);return"icon"===c?a.createElement(n,Object.assign({className:u},l,{"aria-hidden":"true"})):a.createElement("div",{className:u},a.createElement(s,null))},t.EmptyStateIcon.displayName="EmptyStateIcon"},1437:function(e,t,n){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.WrenchIcon=n(193).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},1438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(45));t.EmptyStateSecondaryActions=e=>{var{children:t=null,className:n=""}=e,s=r.__rest(e,["children","className"]);return a.createElement("div",Object.assign({className:i.css(o.default.emptyStateSecondary,n)},s),t)},t.EmptyStateSecondaryActions.displayName="EmptyStateSecondaryActions"},1439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(102),o=n(2),s=r.__importDefault(n(18)),c=n(1440),l=n(1441),u=n(1442),d=n(1444),p=n(1445),m=n(1446),f=n(1447);class b extends a.Component{constructor(e){super(e),this.handleKeyClicks=e=>{e.keyCode===i.KEY_CODES.ESCAPE_KEY&&(this.state.isNavOpen?this.setState({isNavOpen:!this.state.isNavOpen}):this.props.isOpen&&this.props.onClose())},this.onNext=()=>{const{onNext:e,onClose:t,onSave:n}=this.props,{currentStep:r}=this.state,a=this.getFlattenedSteps();if(r>=a.length)return n?n():t();{const t=r+1;this.setState({currentStep:t});const{id:n,name:i}=a[r-1],{id:o,name:s}=a[t-1];return e&&e({id:o,name:s},{prevId:n,prevName:i})}},this.onBack=()=>{const{onBack:e}=this.props,{currentStep:t}=this.state,n=this.getFlattenedSteps();if(!(n.length<t)){const r=t-1<=0?0:t-1;this.setState({currentStep:r});const{id:a,name:i}=n[r],{id:o,name:s}=n[r-1];return e&&e({id:o,name:s},{prevId:a,prevName:i})}{const e=n.length;this.setState({currentStep:e})}},this.goToStep=e=>{const{onGoToStep:t}=this.props,{currentStep:n}=this.state,r=this.getFlattenedSteps(),a=r.length;e<1?e=1:e>a&&(e=a),this.setState({currentStep:e,isNavOpen:!1});const{id:i,name:o}=r[n-1],{id:s,name:c}=r[e-1];return t&&t({id:s,name:c},{prevId:i,prevName:o})},this.goToStepById=e=>{const t=this.getFlattenedSteps();let n;for(let r=0;r<t.length;r++)if(t[r].id===e){n=r+1;break}n&&this.setState({currentStep:n})},this.goToStepByName=e=>{const t=this.getFlattenedSteps();let n;for(let r=0;r<t.length;r++)if(t[r].name===e){n=r+1;break}n&&this.setState({currentStep:n})},this.getFlattenedSteps=()=>{const{steps:e}=this.props,t=[];for(const n of e)if(n.steps)for(const e of n.steps)t.push(e);else t.push(n);return t},this.getFlattenedStepsIndex=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},this.initSteps=e=>{for(let t=0;t<e.length;t++){if(e[t].steps)for(let n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},this.getElement=e=>"function"==typeof e?e():e||document.body;const t=b.currentId++;this.titleId=e.titleId||"pf-wizard-title-"+t,this.descriptionId=e.descriptionId||"pf-wizard-description-"+t,this.state={currentStep:this.props.startAtStep&&Number.isInteger(this.props.startAtStep)?this.props.startAtStep:1,isNavOpen:!1}}componentDidMount(){const e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)}componentWillUnmount(){const e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)}render(){const e=this.props,{width:t,height:n,title:i,description:b,onClose:y,onSave:h,onBack:v,onNext:g,onGoToStep:E,className:O,steps:S,startAtStep:I,nextButtonText:_="Next",backButtonText:j="Back",cancelButtonText:T="Cancel",hideClose:x,closeButtonAriaLabel:R="Close",navAriaLabel:w,navAriaLabelledBy:P,mainAriaLabel:C,mainAriaLabelledBy:N,hasNoBodyPadding:k,footer:B,appendTo:D,isOpen:F,titleId:M,descriptionId:q}=e,A=r.__rest(e,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","className","steps","startAtStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),{currentStep:z}=this.state,L=this.getFlattenedSteps(),W=L.length<z?L.length:z,V=L[W-1],U=this.initSteps(S),$=V===L[0],J=!V||void 0===V.enableNext||V.enableNext,H={goToStepById:this.goToStepById,goToStepByName:this.goToStepByName,onNext:this.onNext,onBack:this.onBack,onClose:y,activeStep:V},K=a.createElement(m.WizardContextProvider,{value:H},a.createElement("div",Object.assign({},A,{className:o.css(s.default.wizard,V&&V.isFinishedStep&&"pf-m-finished",O)},n&&{style:{height:n}}),i&&a.createElement(f.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:y,title:i,description:b,closeButtonAriaLabel:R,hideClose:x}),a.createElement(u.WizardToggle,{mainAriaLabel:C,isInPage:void 0===F,mainAriaLabelledBy:(i||N)&&(N||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:e=>this.setState({isNavOpen:e}),nav:e=>{const t={isOpen:e,"aria-label":w,"aria-labelledby":(i||P)&&(P||this.titleId)};return a.createElement(d.WizardNav,Object.assign({},t),U.map((e,n)=>{if(e.isFinishedStep)return;let r,i;if(e.steps){let o=!1,s=!1;for(const t of e.steps)V.name===t.name&&(o=!0),t.canJumpTo&&(s=!0);return i=this.getFlattenedStepsIndex(L,e.steps[0].name),a.createElement(p.WizardNavItem,{key:n,content:e.name,isCurrent:o,isDisabled:!s,step:i,onNavItemClick:this.goToStep},a.createElement(d.WizardNav,Object.assign({},t,{returnList:!0}),e.steps.map((e,t)=>{if(!e.isFinishedStep)return i=this.getFlattenedStepsIndex(L,e.name),r=e.canJumpTo,a.createElement(p.WizardNavItem,{key:"child_"+t,content:e.name,isCurrent:V.name===e.name,isDisabled:!r,step:i,onNavItemClick:this.goToStep})})))}return i=this.getFlattenedStepsIndex(L,e.name),r=e.canJumpTo,a.createElement(p.WizardNavItem,Object.assign({},e.stepNavItemProps,{key:n,content:e.name,isCurrent:V.name===e.name,isDisabled:!r,step:i,onNavItemClick:this.goToStep}))}))},steps:S,activeStep:V,hasNoBodyPadding:k},B||a.createElement(l.WizardFooterInternal,{onNext:this.onNext,onBack:this.onBack,onClose:y,isValid:J,firstStep:$,activeStep:V,nextButtonText:V&&V.nextButtonText||_,backButtonText:j,cancelButtonText:T}))));return void 0!==F?a.createElement(c.Modal,{isOpen:F,variant:c.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},K):K}}t.Wizard=b,b.displayName="Wizard",b.currentId=0,b.defaultProps={title:null,description:"",className:"",startAtStep:1,nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:null,navAriaLabelledBy:null,mainAriaLabel:null,mainAriaLabelledBy:null,hasNoBodyPadding:!1,onBack:null,onNext:null,onGoToStep:null,width:null,height:null,footer:null,onClose:()=>{},appendTo:null,isOpen:void 0}},1440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);r.__exportStar(n(598),t),r.__exportStar(n(633),t),r.__exportStar(n(631),t),r.__exportStar(n(632),t),r.__exportStar(n(635),t),r.__exportStar(n(634),t),r.__exportStar(n(630),t)},1441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(18)),s=n(194);t.WizardFooterInternal=({onNext:e,onBack:t,onClose:n,isValid:r,firstStep:c,activeStep:l,nextButtonText:u,backButtonText:d,cancelButtonText:p})=>a.createElement("footer",{className:i.css(o.default.wizardFooter)},a.createElement(s.Button,{variant:s.ButtonVariant.primary,type:"submit",onClick:e,isDisabled:!r},u),!l.hideBackButton&&a.createElement(s.Button,{variant:s.ButtonVariant.secondary,onClick:t,className:i.css(c&&"pf-m-disabled")},d),!l.hideCancelButton&&a.createElement(s.Button,{variant:s.ButtonVariant.link,onClick:n},p)),t.WizardFooterInternal.displayName="WizardFooterInternal"},1442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(18)),s=r.__importDefault(n(29)),c=r.__importDefault(n(65)),l=n(1443);t.WizardToggle=({isNavOpen:e,onNavToggle:t,nav:n,steps:r,activeStep:u,children:d,hasNoBodyPadding:p=!1,"aria-label":m="Wizard Toggle",mainAriaLabelledBy:f=null,mainAriaLabel:b=null,isInPage:y=!0})=>{let h,v,g;for(let e=0;e<r.length;e++){if(u.id&&r[e].id===u.id||r[e].name===u.name){h=e+1,v=r[e].name;break}if(r[e].steps)for(const t of r[e].steps)if(u.id&&t.id===u.id||t.name===u.name){h=e+1,v=r[e].name,g=t.name;break}}return a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>t(!e),className:i.css(o.default.wizardToggle,e&&"pf-m-expanded"),"aria-label":m,"aria-expanded":e},a.createElement("ol",{className:i.css(o.default.wizardToggleList)},a.createElement("li",{className:i.css(o.default.wizardToggleListItem)},a.createElement("span",{className:i.css(o.default.wizardToggleNum)},h)," ",v,g&&a.createElement(s.default,{className:i.css(o.default.wizardToggleSeparator),"aria-hidden":"true"})),g&&a.createElement("li",{className:i.css(o.default.wizardToggleListItem)},g)),a.createElement("span",{className:i.css(o.default.wizardToggleIcon)},a.createElement(c.default,{"aria-hidden":"true"}))),a.createElement("div",{className:i.css(o.default.wizardOuterWrap)},a.createElement("div",{className:i.css(o.default.wizardInnerWrap)},n(e),a.createElement(l.WizardBody,{mainComponent:y?"div":"main","aria-label":b,"aria-labelledby":f,hasNoBodyPadding:p},u.component)),d))},t.WizardToggle.displayName="WizardToggle"},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importDefault(n(18)),o=n(2);t.WizardBody=({children:e,hasNoBodyPadding:t=!1,"aria-label":n,"aria-labelledby":r,mainComponent:s="div"})=>{const c=s;return a.createElement(c,{"aria-label":n,"aria-labelledby":r,className:o.css(i.default.wizardMain)},a.createElement("div",{className:o.css(i.default.wizardMainBody,t&&i.default.modifiers.noPadding)},e))},t.WizardBody.displayName="WizardBody"},1444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importDefault(n(18)),o=n(2);t.WizardNav=({children:e,"aria-label":t,"aria-labelledby":n,isOpen:r=!1,returnList:s=!1})=>{const c=a.createElement("ol",{className:o.css(i.default.wizardNavList)},e);return s?c:a.createElement("nav",{className:o.css(i.default.wizardNav,r&&i.default.modifiers.expanded),"aria-label":t,"aria-labelledby":n},a.createElement("ol",{className:o.css(i.default.wizardNavList)},e))},t.WizardNav.displayName="WizardNav"},1445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(18));t.WizardNavItem=e=>{var{children:t=null,content:n="",isCurrent:s=!1,isDisabled:c=!1,step:l,onNavItemClick:u=(()=>{}),navItemComponent:d="button",href:p=null}=e,m=r.__rest(e,["children","content","isCurrent","isDisabled","step","onNavItemClick","navItemComponent","href"]);const f=d;const b={disabled:c},y={tabIndex:c?-1:void 0,href:p};return a.createElement("li",{className:i.css(o.default.wizardNavItem)},a.createElement(f,Object.assign({},m,"a"===d?Object.assign({},y):Object.assign({},b),{onClick:()=>u(l),className:i.css(o.default.wizardNavLink,s&&"pf-m-current",c&&"pf-m-disabled"),"aria-disabled":!!c||null,"aria-current":!(!s||t)&&"page"}),n),t)},t.WizardNavItem.displayName="WizardNavItem"},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3).__importStar(n(1)).createContext({goToStepById:()=>null,goToStepByName:()=>null,onNext:()=>null,onBack:()=>null,onClose:()=>null,activeStep:{name:null}});t.WizardContextProvider=r.Provider,t.WizardContextConsumer=r.Consumer},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importDefault(n(18)),o=n(2),s=n(194),c=n(935),l=r.__importDefault(n(35));t.WizardHeader=({onClose:e=(()=>{}),title:t,description:n,hideClose:r,closeButtonAriaLabel:u,titleId:d,descriptionId:p})=>a.createElement("div",{className:o.css(i.default.wizardHeader)},!r&&a.createElement(s.Button,{variant:"plain",className:o.css(i.default.wizardClose),"aria-label":u,onClick:e},a.createElement(l.default,{"aria-hidden":"true"})),a.createElement(c.Title,{headingLevel:"h2",size:"3xl",className:o.css(i.default.wizardTitle),"aria-label":t,id:d},t||a.createElement(a.Fragment,null," ")),n&&a.createElement("p",{className:o.css(i.default.wizardDescription),id:p},n)),t.WizardHeader.displayName="WizardHeader"},598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importStar(n(24)),o=n(93),s=n(2),c=r.__importDefault(n(48)),l=n(630);!function(e){e.small="small",e.medium="medium",e.large="large",e.default="default"}(t.ModalVariant||(t.ModalVariant={}));class u extends a.Component{constructor(e){super(e),this.boxId="",this.labelId="",this.descriptorId="",this.handleEscKeyClick=e=>{const{onEscapePress:t}=this.props;e.keyCode===o.KEY_CODES.ESCAPE_KEY&&this.props.isOpen&&(t?t(e):this.props.onClose())},this.getElement=e=>"function"==typeof e?e():e||document.body,this.toggleSiblingsFromScreenReaders=e=>{const{appendTo:t}=this.props,n=this.getElement(t).children;for(const t of Array.from(n))t!==this.state.container&&(e?t.setAttribute("aria-hidden",""+e):t.removeAttribute("aria-hidden"))},this.isEmpty=e=>null==e||""===e;const t=u.currentId++,n=t+1,r=t+2;this.boxId=e.id||"pf-modal-part-"+t,this.labelId="pf-modal-part-"+n,this.descriptorId="pf-modal-part-"+r,this.state={container:void 0}}componentDidMount(){const{appendTo:e,title:t,"aria-label":n,"aria-labelledby":r,hasNoBodyWrapper:a,header:i}=this.props,o=this.getElement(e),l=document.createElement("div");this.setState({container:l}),o.appendChild(l),o.addEventListener("keydown",this.handleEscKeyClick,!1),this.props.isOpen?o.classList.add(s.css(c.default.backdropOpen)):o.classList.remove(s.css(c.default.backdropOpen)),this.isEmpty(t)&&this.isEmpty(n)&&this.isEmpty(r)&&console.error("Modal: Specify at least one of: title, aria-label, aria-labelledby."),this.isEmpty(n)&&this.isEmpty(r)&&(a||i)&&console.error("Modal: When using hasNoBodyWrapper or setting a custom header, ensure you assign an accessible name to the the modal container with aria-label or aria-labelledby.")}componentDidUpdate(){const{appendTo:e}=this.props,t=this.getElement(e);this.props.isOpen?(t.classList.add(s.css(c.default.backdropOpen)),this.toggleSiblingsFromScreenReaders(!0)):(t.classList.remove(s.css(c.default.backdropOpen)),this.toggleSiblingsFromScreenReaders(!1))}componentWillUnmount(){const{appendTo:e}=this.props,t=this.getElement(e);this.state.container&&t.removeChild(this.state.container),t.removeEventListener("keydown",this.handleEscKeyClick,!1),t.classList.remove(s.css(c.default.backdropOpen))}render(){const e=this.props,{appendTo:t,onEscapePress:n,"aria-labelledby":s,"aria-label":c,"aria-describedby":u,title:d,ouiaId:p,ouiaSafe:m}=e,f=r.__rest(e,["appendTo","onEscapePress","aria-labelledby","aria-label","aria-describedby","title","ouiaId","ouiaSafe"]),{container:b}=this.state;return o.canUseDOM&&b?i.createPortal(a.createElement(l.ModalContent,Object.assign({},f,{boxId:this.boxId,labelId:this.labelId,descriptorId:this.descriptorId,title:d,"aria-label":c,"aria-describedby":u,"aria-labelledby":s,ouiaId:p,ouiaSafe:m})),b):null}}t.Modal=u,u.displayName="Modal",u.currentId=0,u.defaultProps={className:"",isOpen:!1,title:"","aria-label":"",showClose:!0,"aria-describedby":"","aria-labelledby":"",id:void 0,actions:[],onClose:()=>{},variant:"default",hasNoBodyWrapper:!1,appendTo:()=>document.body,ouiaSafe:!0}},613:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return g}));var r=n(595),a=n.n(r),i=n(590),o=n.n(i);function s(){var e=a()(["\nmutation DeleteReport($input: deleteTestResultsInput!) {\n    deleteTestResults(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return s=function(){return e},e}function c(){var e=a()(["\nmutation DeleteProfile($input: deleteProfileInput!) {\n    deleteProfile(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return c=function(){return e},e}function l(){var e=a()(["\nmutation createBusinessObjective($input: createBusinessObjectiveInput!) {\n    createBusinessObjective(input: $input) {\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return l=function(){return e},e}function u(){var e=a()(["\nmutation UpdateProfile($input: UpdateProfileInput!) {\n    updateProfile(input: $input) {\n        profile {\n            id,\n            name,\n            complianceThreshold,\n            businessObjectiveId,\n            description\n        }\n    }\n}\n"]);return u=function(){return e},e}function d(){var e=a()(["\nmutation associateProfiles($input: associateProfilesInput!) {\n    associateProfiles(input: $input) {\n        system {\n            id\n            name\n            profiles {\n                id\n                name\n            }\n        }\n    }\n}\n"]);return d=function(){return e},e}function p(){var e=a()(["\nmutation associateSystems($input: associateSystemsInput!) {\n    associateSystems(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return p=function(){return e},e}function m(){var e=a()(["\nmutation CreateProfile($input: createProfileInput!) {\n    createProfile(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return m=function(){return e},e}var f=o()(m()),b=o()(p()),y=(o()(d()),o()(u())),h=o()(l()),v=o()(c()),g=o()(s())},618:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156);var a=n(301),i=n(299),o=n(302),s=r(n(1)),c=r(n(12)),l=r(n(594)),u={xs:"xs",sm:"sm",md:"md",lg:"lg"},d=function(e){var t=e.size,n=e.isDark,r=e.className,c=o._objectWithoutProperties(e,["size","isDark","className"]),u=l("ins-c-skeleton","ins-c-skeleton__".concat(t),i._defineProperty({},"ins-m-dark",n),r);return s.createElement("div",a._extends({className:u},c)," ")};d.propTypes={className:c.string,size:c.oneOf(Object.values(u)),isDark:c.bool},d.defaultProps={size:u.md,isDark:!1},t.Skeleton=d,t.SkeletonSize=u},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(93),o=r.__importDefault(n(41)),s=r.__importDefault(n(104)),c=n(2),l=n(93),u=n(659),d=n(631),p=n(632),m=n(633),f=n(634),b=n(660),y=n(635),h=n(661);t.ModalContent=e=>{var{children:n,className:v="",isOpen:g=!1,header:E=null,description:O=null,title:S="","aria-label":I="","aria-describedby":_,"aria-labelledby":j,showClose:T=!0,footer:x=null,actions:R=[],onClose:w=(()=>{}),variant:P="default",width:C=-1,boxId:N,labelId:k,descriptorId:B,disableFocusTrap:D=!1,hasNoBodyWrapper:F=!1,ouiaId:M,ouiaSafe:q=!0}=e,A=r.__rest(e,["children","className","isOpen","header","description","title","aria-label","aria-describedby","aria-labelledby","showClose","footer","actions","onClose","variant","width","boxId","labelId","descriptorId","disableFocusTrap","hasNoBodyWrapper","ouiaId","ouiaSafe"]);if(!g)return null;const z=E?a.createElement(y.ModalBoxHeader,null,E):S&&a.createElement(y.ModalBoxHeader,null,a.createElement(h.ModalBoxTitle,{title:S,id:k,className:c.css(o.default.modalBoxTitle)}),O&&a.createElement(b.ModalBoxDescription,{id:B},O)),L=x?a.createElement(f.ModalBoxFooter,null,x):R.length>0&&a.createElement(f.ModalBoxFooter,null,R),W=F?n:a.createElement(d.ModalBoxBody,Object.assign({},A,!O&&!_&&{id:B}),n),V=-1===C?{}:{width:C},U=a.createElement(m.ModalBox,Object.assign({id:N,style:V,className:v,variant:P,"aria-label":I,"aria-labelledby":(()=>{if(null===j)return null;const e=[];return""!==(I&&N)&&e.push(I&&N),j&&e.push(j),S&&e.push(k),e.join(" ")})(),"aria-describedby":_||(F?null:B)},l.getOUIAProps(t.ModalContent.displayName,M,q)),T&&a.createElement(p.ModalBoxCloseButton,{onClose:w}),z,W,L);return a.createElement(u.Backdrop,null,a.createElement(i.FocusTrap,{active:!D,focusTrapOptions:{clickOutsideDeactivates:!0},className:c.css(s.default.bullseye)},U))},t.ModalContent.displayName="ModalContent"},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(41));t.ModalBoxBody=e=>{var{children:t=null,className:n=""}=e,s=r.__rest(e,["children","className"]);return a.createElement("div",Object.assign({},s,{className:i.css(o.default.modalBoxBody,n)}),t)},t.ModalBoxBody.displayName="ModalBoxBody"},632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(194),o=r.__importDefault(n(35));t.ModalBoxCloseButton=e=>{var{className:t="",onClose:n=(()=>{})}=e,s=r.__rest(e,["className","onClose"]);return a.createElement(i.Button,Object.assign({className:t,variant:"plain",onClick:n,"aria-label":"Close"},s),a.createElement(o.default,null))},t.ModalBoxCloseButton.displayName="ModalBoxCloseButton"},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(41));t.ModalBox=e=>{var{children:t,className:n="",variant:s="default","aria-labelledby":c,"aria-label":l="","aria-describedby":u}=e,d=r.__rest(e,["children","className","variant","aria-labelledby","aria-label","aria-describedby"]);return a.createElement("div",Object.assign({},d,{role:"dialog","aria-label":l||null,"aria-labelledby":c||null,"aria-describedby":u,"aria-modal":"true",className:i.css(o.default.modalBox,n,"large"===s&&o.default.modifiers.lg,"small"===s&&o.default.modifiers.sm,"medium"===s&&o.default.modifiers.md)}),t)},t.ModalBox.displayName="ModalBox"},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(41));t.ModalBoxFooter=e=>{var{children:t=null,className:n=""}=e,s=r.__rest(e,["children","className"]);return a.createElement("footer",Object.assign({},s,{className:i.css(o.default.modalBoxFooter,n)}),t)},t.ModalBoxFooter.displayName="ModalBoxFooter"},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2);t.ModalBoxHeader=e=>{var{children:t=null,className:n=""}=e,o=r.__rest(e,["children","className"]);return a.createElement("header",Object.assign({className:i.css("pf-c-modal-box__header",n)},o),t)},t.ModalBoxHeader.displayName="ModalBoxHeader"},636:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(229);function a(e){return Object(r.a)().dispatch(e)}},637:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return $e}));n(950);var r,a=n(94),i=n.n(a),o=n(166),s=n.n(o),c=n(191),l=n.n(c),u=n(225),d=n.n(u),p=n(202),m=n.n(p),f=n(195),b=n.n(f),y=n(304),h=n.n(y),v=n(203),g=n.n(v),E=n(204),O=n.n(E),S=n(160),I=n.n(S),_=n(1),j=n.n(_),T=n(12),x=n.n(T),R=n(128),w=n(196),P=n(604),C=n(129),N=n(306),k=n(618),B=n(243),D=n.n(B);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var A=D()()(r=function(e){g()(r,e);var t,n=q(r);function r(e){var t;return m()(this,r),(t=n.call(this,e)).state={InventoryCmp:function(){return j.a.createElement(k.Skeleton,{size:k.SkeletonSize.md})},InvWrapper:j.a.Fragment},t.fetchInventory=t.fetchInventory.bind(h()(t)),t.fetchInventory(),t}return b()(r,[{key:"fetchInventory",value:(t=d()(s.a.mark((function e(){var t,n,r,a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:C,react:j.a,reactRouterDom:R,pfReact:w,reactIcons:N,pfReactTable:P});case 2:t=e.sent,n=t.inventoryConnector,r=t.mergeWithDetail,this.getRegistry().register(M({},r())),this.setState((function(){return{InventoryCmp:n(a.props.store).InventoryDetail,InvWrapper:n(a.props.store).DetailWrapper}}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.InventoryCmp,n=e.InvWrapper||j.a.Fragment;return j.a.createElement(n,null,j.a.createElement(t,{hideBack:!0}))}}]),r}(j.a.Component))||r;A.propTypes={entity:x.a.object,store:x.a.object};var z=function(e){return j.a.createElement(A,i()({},e,{store:C.useStore()}))},L=n(652),W=n.n(L),V=n(667),U=n.n(V),$=n(595),J=n.n($),H=n(1429),K=n.n(H),G=n(268),Y=n(615),Q=n(961),X=n(590),Z=n.n(X),ee=n(783),te=n(603),ne=n(591),re="@@COMPLIANCE/EXPORT";function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ie=function(e){return e.flatMap((function(e){return e.rules&&e.rules.filter((function(e){return!e.compliant}))}))},oe=function(e){return e.flatMap((function(e){return e.rules&&e.rules.filter((function(e){return e.compliant}))}))},se=function(e){return e.profiles?ie(e.profiles):[]},ce=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ruleObjectsFailed:se(e)},e)}))},le=n(1435),ue=n(1434),de=n(330),pe=n.n(de),me=function(e,t){return t.split(".").reduce((function(e,t){return e&&"undefined"!==e[t]?e[t]:void 0}),e)},fe=function(e,t){var n=me(e,t);return n.exportValue&&(n=n.exportValue),"object"===pe()(n)&&(n=me(e,t+"_text")),"string"==typeof n&&n.includes(",")&&(n='"'+n+'"'),n},be=function(e,t){var n;"csv"===t?n=function(e){var t=e.rows,n=e.columns,r=e.selectedEntities;if(t){var a=[n.map((function(e){return e.title})).join(",")];return a=a.concat((r||t).map((function(t){return e.columns.map((function(e){return fe(t,e.key)})).join(",")}))),encodeURI("data:text/csv;charset=utf-8,"+a.join("\n"))}}(e):"json"===t&&(n=function(e){var t,n=e.rows,r=e.columns,a=e.selectedEntities;if(n)return t=(a||n).map((function(e){var t={};return r.forEach((function(n){var r=n.key.split("."),a=r[r.length-1];t[a]=fe(e,n.key)})),t})),encodeURI("data:application/json;charset=utf-8,"+JSON.stringify(t))}(e)),function(e,t){if(e){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}}(n,function(e){return"compliance-export-"+(new Date).toISOString()+"."+e}(t))},ye=n(300),he=n(586),ve=n(589),ge=n(676);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se,Ie=function(e,t){var n=e.profiles;return void 0!==t&&""!==t.toString()&&(n=n.filter((function(e){return t.includes(e.id)}))),n},_e=function(e){return{title:e.profileNames?j.a.createElement(ye.Tooltip,{content:e.profileNames},j.a.createElement(ge.default,{lines:2,width:540},e.profileNames)):j.a.createElement(he.Text,{className:"grey-icon"},"No policies"),exportValue:e.profileNames}},je=function(e){return void 0!==e.osMajorVersion&&void 0!==e.osMinorVersion&&null!==e.osMajorVersion&&null!==e.osMinorVersion&&!(0===e.osMajorVersion&&0===e.osMinorVersion)},Te=function(e,t){return{title:j.a.createElement(ve.TextContent,null,t.name?j.a.createElement(R.Link,{to:{pathname:"/systems/".concat(t.id)}},t.name):e.display_name,je(t)&&j.a.createElement(he.Text,{component:he.TextVariants.small},"RHEL ",t.osMajorVersion,".",t.osMinorVersion)),exportValue:e.display_name||t.name}},xe=function(e,t){return!!(t||[]).find((function(t){return t.id===e}))},Re=function(e,t,n,r,a){return t.map((function(t){void 0===t.facts&&(t.facts={});var i,o=e.map((function(e){return e.node})).find((function(e){return t.id===e.id}));if(void 0===o){if(!n)return;o={profiles:[]}}return o.profileNames=(i=o)==={}?"":i.profiles.map((function(e){return"".concat(e.policy?"":"(External) ").concat(e.name)})).join(", "),o.rulesPassed=oe(Ie(o,[r])).length,o.rulesFailed=ie(Ie(o,[r])).length,o.lastScanned=function(e,t){var n=Ie(e,[t]).map((function(e){return new Date(e.lastScanned)})),r=new Date(Math.max.apply(null,n.filter((function(e){return isFinite(e)}))));return r instanceof Date&&isFinite(r)?r:"Never"}(o,r),o.compliant=function(e,t){return Ie(e,[t]).every((function(e){return!0===e.compliant}))}(o,r),o.score=function(e,t){var n=Ie(e,[t]),r=n.reduce((function(e,t){return e+t.score}),0),a=n.reduce((function(e,t){return oe([t]).length+ie([t]).length>0?e+1:e}),0);return a?r/a:0}(o,r),{id:t.id,selected:xe(t.id,a),account:t.account,bios_uuid:t.bios_uuid,created:t.created,display_name:t.display_name||o.name,fqdn:t.fqdn,insights_id:t.insights_id,ip_addresses:t.ip_addresses,mac_addresses:t.mac_addresses,rhel_machine_id:t.rhel_machine_id,satellite_id:t.satellite_id,subscription_manager_id:t.subscription_manager_id,tags:t.tags,updated:t.updated,facts:{inventory:{hostname:void 0!==t.facts.inventory?t.facts.inventory.hostname:t.facts.hostname,machine_id:void 0!==t.facts.inventory?t.facts.inventory.machine_id:t.facts.machine_id,release:void 0!==t.facts.inventory?t.facts.inventory.release:t.facts.release},compliance:{display_name:Te(t,o),policies:_e(o),details_link:o.profileNames&&{title:j.a.createElement(R.Link,{to:{pathname:"/systems/".concat(o.id)}},"View report")},rules_passed:o.rulesPassed,rules_failed:{title:j.a.createElement(R.Link,{to:{pathname:"/systems/".concat(o.id),query:{hidePassed:!0}}},o.rulesFailed)},rules_failed_text:o.rulesFailed,compliance_score:Object(ne.c)(o),compliance_score_text:Object(ne.D)(o),last_scanned:o.lastScanned instanceof Date?{title:j.a.createElement(ue.DateFormat,{date:Date.parse(o.lastScanned),type:"relative"})}:o.lastScanned,last_scanned_text:o.lastScanned}}}})).filter((function(e){return!!e}))},we=function(e,t){var n=e.rows.filter((function(n){return t.includes(n.id)&&!(e.selectedEntities||[]).map((function(e){return e.id})).includes(n.id)}));return Oe(Oe({},e),{},{selectedEntities:(e.selectedEntities||[]).concat(n)})},Pe=function(e,t){return Oe(Oe({},e),{},{selectedEntities:(e.selectedEntities||[]).filter((function(e){return!t.includes(e.id)}))})},Ce=function(e,t,n,r){var a;return Object(le.applyReducerHash)((a={},l()(a,"UPDATE_SYSTEMS",(function(e,t){var n=t.systems,r=t.systemsCount;return Oe(Oe({},e),{},{systems:n,systemsCount:r})})),l()(a,"UPDATE_ROWS",(function(e){return Oe(Oe({},e),{},{loaded:!0,rows:Re(e.systems||[],e.rows||[],n,r,e.selectedEntities)})})),l()(a,e.LOAD_ENTITIES_FULFILLED,(function(e){return Oe(Oe({},e),{},{rows:Re(e.systems||[],e.rows,n,r,e.selectedEntities),total:n?e.total:e.systemsCount,columns:e.total>0?t:[{title:""}]})})),l()(a,re,(function(e,t){var n=t.payload.format;return be(e,n),e})),l()(a,"SELECT_ENTITY",(function(e,t){var n,r=t.payload,a=r.id,i=r.selected,o=r.clearAll;return(0===(n=0===a?i?function(e){return we(e,e.rows.map((function(e){return e.id})))}(e):function(e){return Pe(e,e.rows.map((function(e){return e.id})))}(e):i?function(e,t){return we(e,[t])}(e,a):function(e,t){return Pe(e,[t])}(e,a)).selectedEntities.length||o)&&(n.selectedEntities=void 0),n})),l()(a,"SELECT_ENTITIES",(function(e,t){return{selectedEntities:t.payload.ids}})),a))},Ne=n(233);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var a=I()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}function Fe(){var e=J()(["\nquery getSystems($filter: String!, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                profiles {\n                    id\n                    name\n                    lastScanned\n                    external\n                    compliant\n                    score\n                    policy {\n                        id\n                    }\n                }\n            }\n        }\n    }\n}\n"]);return Fe=function(){return e},e}function Me(){var e=J()(["\nquery getSystems($filter: String!, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                profiles {\n                    id\n                    name\n                    refId\n                    lastScanned\n                    compliant\n                    external\n                    score\n                    rules {\n                        refId\n                        title\n                        compliant\n                        remediationAvailable\n                    }\n                }\n            }\n        }\n    }\n}\n"]);return Me=function(){return e},e}var qe=Z()(Me()),Ae=Z()(Fe()),ze=function(e){return K()(e.initialDefaultState(),(function(e){return!!e}))},Le={page:1},We=function(e,t){return[].concat(U()(Object(Ne.f)(e)),U()(t?Object(Ne.e)(e):[]))},Ve=D()()(Se=function(e){g()(r,e);var t,n=De(r);function r(){var e;m()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),l()(h()(e),"inventory",j.a.createRef()),l()(h()(e),"filterConfig",new te.FilterConfigBuilder([].concat(U()(Ne.c),U()(e.props.compliantFilter?Ne.b:[]),U()(e.props.policies&&e.props.policies.length>0?We(e.props.policies,e.props.showOsFilter):[])))),l()(h()(e),"chipBuilder",e.filterConfig.getChipBuilder()),l()(h()(e),"filterBuilder",e.filterConfig.getFilterBuilder()),l()(h()(e),"state",Be(Be({},Le),{},{InventoryCmp:null,policyId:e.props.policyId,perPage:50,totalCount:0,activeFilters:ze(e.filterConfig)})),l()(h()(e),"componentDidMount",(function(){var t=e.props,n=t.clearAll,r=t.selectedEntities;r&&r.length>0&&n(),(e.props.preselectedSystems?Promise.resolve(e.props.selectEntities(e.props.preselectedSystems)):Promise.resolve()).then((function(){e.updateSystems().then((function(){return e.fetchInventory()}))}))})),l()(h()(e),"componentDidUpdate",(function(t){t.complianceThreshold!==e.props.complianceThreshold&&e.updateSystems()})),l()(h()(e),"onRefresh",(function(t){var n=t.page,r=t.per_page,a=W()(t,["page","per_page"]);e.props.showAllSystems&&e.inventory&&e.inventory.current?e.setState({page:n,perPage:r},(function(){e.inventory.current.onRefreshData(Be(Be({page:n,perPage:r},a),{},{per_page:r}))})):e.setState({page:n,perPage:r},(function(){return e.updateSystems().then((function(){e.inventory&&e.inventory.current&&e.inventory.current.onRefreshData(Be(Be({page:n,perPage:r},a),{},{per_page:r}))}))}))})),l()(h()(e),"fetchSystems",(function(){var t=e.props,n=t.client,r=t.showOnlySystemsWithTestResults,a=t.remediationsEnabled,i=e.state,o=i.policyId,s=i.perPage,c=i.page,l=i.activeFilters,u=e.filterBuilder.buildFilterString(l);return r&&(u="has_test_results = true ".concat(u.length>0?"and ".concat(u):"")),o&&o.length>0&&(u="policy_id = ".concat(o," and ").concat(u)),n.query({query:a?qe:Ae,fetchResults:!0,fetchPolicy:"no-cache",variables:{filter:u,perPage:s,page:c,policyId:o}})})),l()(h()(e),"updateSystems",(function(){var t=e.props.systems.map((function(e){return e.node.id})).sort();return e.fetchSystems().then((function(t){return e.props.updateSystems({systems:t.data.systems.edges,systemsCount:t.data.systems.totalCount})})).then((function(){var n=e.props.systems.map((function(e){return e.node.id})).sort();JSON.stringify(n)===JSON.stringify(t)&&e.props.updateRows()})).catch((function(t){e.setState((function(e){return Be(Be({},e),{},{error:t})}))}))})),l()(h()(e),"onExportSelect",(function(t,n){return e.props.exportFromState(n)})),l()(h()(e),"onFilterUpdate",(function(t,n){e.props.updateSystems({systems:[],systemsCount:0}),e.setState(Be(Be({},Le),{},{activeFilters:Be(Be({},e.state.activeFilters),{},l()({},t,n))}),e.updateSystems)})),l()(h()(e),"deleteFilter",(function(t){var n=e.filterConfig.removeFilterWithChip(t,e.state.activeFilters);e.setState(Be(Be({},Le),{},{activeFilters:n}),e.updateSystems)})),l()(h()(e),"clearAllFilter",(function(){e.setState(Be(Be({},Le),{},{activeFilters:ze(e.filterConfig)}),e.updateSystems)})),l()(h()(e),"onFilterDelete",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?e.clearAllFilter():e.deleteFilter(n[0])})),l()(h()(e),"onBulkSelect",(function(){var t=e.props,n=t.selectedEntities,r=t.selectAll,a=t.clearSelection,i=t.allSelectedOnPage;0===n.length||n.length>0&&!i?r():a()})),l()(h()(e),"isExportDisabled",(function(){var t=e.props,n=t.total,r=t.selectedEntities;return 0===(n||0)&&0===r.length})),e}return b()(r,[{key:"fetchInventory",value:(t=d()(s.a.mark((function e(){var t,n,r,a,i,o,c,l,u,d=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.columns,r=t.policyId,a=t.showAllSystems,i=t.clearInventoryFilter,e.next=3,insights.loadInventory({ReactRedux:C,react:j.a,reactRouterDom:R,pfReact:w,reactIcons:N,pfReactTable:P});case 3:o=e.sent,c=o.inventoryConnector,l=o.INVENTORY_ACTION_TYPES,u=o.mergeWithEntities,i(),this.getRegistry().register(Be({},u(Ce(l,n,a,r)))),this.setState((function(){return{InventoryCmp:c(d.props.store).InventoryTable}}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.remediationsEnabled,r=t.compact,a=t.enableExport,i=t.showAllSystems,o=t.showActions,s=t.showComplianceSystemsInfo,c=t.selectedEntities,l=t.selectedEntitiesIds,u=t.systems,d=t.total,p=t.policyId,m=t.systemProps,f=this.state,b=f.page,y=f.perPage,h=f.InventoryCmp,v=f.activeFilters,g=f.error,E=this.filterConfig.buildConfiguration(this.onFilterUpdate,v,{hideLabel:!0}),O=this.chipBuilder.chipsFor(this.state.activeFilters),S=a?{isDisabled:this.isExportDisabled(),onSelect:this.onExportSelect}:{},I=Be(Be({},m),{},{onRefresh:this.onRefresh,ref:this.inventory,page:b,perPage:y,exportConfig:S,tableProps:{canSelectAll:!1},bulkSelect:{checked:c.length>0&&(!!this.props.allSelectedOnPage||null),onSelect:this.onBulkSelect,count:c.length,label:c.length>0?"".concat(c.length," Selected"):void 0}});return o&&(I.actions=[{title:"View in inventory",onClick:function(e,t,n){var r=n.id,a="beta"===window.location.pathname.split("/")[1];window.location.href="".concat(window.location.origin).concat(a?"/beta":"","/insights/inventory/").concat(r)}}]),i||(I.total=d,I.items=u.map((function(e){return e.node.id})),I.filterConfig=E,I.activeFiltersConfig={filters:O,onDelete:this.onFilterDelete}),r&&(I.variant=Y.f.compact),void 0===g&&(e=!0),p&&0===d&&0===Object.keys(v).length&&(I.tableProps.rows=[{cells:[{title:j.a.createElement(ne.h,null)}]}],I.tableProps.columns=[],I.hasItems=!1,I.hasCheckbox=!1),!i&&n&&(I.dedicatedAction=j.a.createElement(te.ComplianceRemediationButton,{allSystems:ce(u.filter((function(e){return l.includes(e.node.id)})).map((function(e){return e.node}))),selectedRules:[]})),j.a.createElement(ne.x,{stateValues:{error:g,noError:e}},j.a.createElement(ne.y,{stateKey:"error"},j.a.createElement(ne.e,{error:g})),j.a.createElement(ne.y,{stateKey:"noError"},s&&j.a.createElement(G.a,{isInline:!0,variant:"info",title:"The list of systems in this view is different than those that appear in the Inventory. Only systems previously or currently associated with compliance policies are displayed."}),h?j.a.createElement(h,I):j.a.createElement(ee.SkeletonTable,{colSize:2,rowSize:15})))}}]),r}(j.a.Component))||Se;Ve.propTypes={allSelectedOnPage:x.a.bool,clearAll:x.a.func,clearInventoryFilter:x.a.func,clearSelection:x.a.func,client:x.a.object,columns:x.a.array,compact:x.a.bool,complianceThreshold:x.a.number,compliantFilter:x.a.bool,enableExport:x.a.bool,error:x.a.object,exportFromState:x.a.func,policies:x.a.array,policyId:x.a.string,preselectedSystems:x.a.array,remediationsEnabled:x.a.bool,selectAll:x.a.func,selectEntities:x.a.func,selectedEntities:x.a.array,selectedEntitiesIds:x.a.array,showActions:x.a.bool,showAllSystems:x.a.bool,showOnlySystemsWithTestResults:x.a.bool,showOsFilter:x.a.bool,store:x.a.object,systems:x.a.array,total:x.a.number,updateRows:x.a.func,updateSystems:x.a.func,systemProps:x.a.shape({isFullView:x.a.bool}),showComplianceSystemsInfo:x.a.bool},Ve.defaultProps={policyId:"",remediationsEnabled:!0,compact:!1,enableExport:!0,showAllSystems:!1,complianceThreshold:0,showOnlySystemsWithTestResults:!1,showActions:!0,compliantFilter:!1,selectedEntities:[],selectedEntitiesIds:[],systems:[],clearAll:function(){return{}},exportFromState:function(){return{}},systemProps:{},showComplianceSystemsInfo:!1};var Ue=Object(Q.a)((function(e){return j.a.createElement(Ve,i()({},e,{store:C.useStore()}))})),$e=Object(C.connect)((function(e){return void 0===e.entities||void 0===e.entities.rows?{selectedEntities:[],systems:[]}:{allSelectedOnPage:0===e.entities.rows.filter((function(t){return!(e.entities.selectedEntities||[]).map((function(e){return e.id})).includes(t.id)})).length,selectedEntities:e.entities.selectedEntities,selectedEntitiesIds:(e.entities.selectedEntities||[]).map((function(e){return e.id})),systems:e.entities.systems,total:e.entities.total}}),(function(e){return{clearInventoryFilter:function(){return e({type:"CLEAR_FILTERS"})},exportFromState:function(t){return e(function(e){return{type:re,payload:{format:e}}}(t))},updateSystems:function(t){e(Be({type:"UPDATE_SYSTEMS"},t))},updateRows:function(){return e({type:"UPDATE_ROWS"})},selectAll:function(){return e({type:"SELECT_ENTITY",payload:{id:0,selected:!0}})},clearSelection:function(){return e({type:"SELECT_ENTITY",payload:{id:0,selected:!1}})},clearAll:function(){return e({type:"SELECT_ENTITY",payload:{clearAll:!0}})},selectEntities:function(t){return e({type:"SELECT_ENTITIES",payload:{ids:t}})}}}))(Ue);n(956),n(784),n(958),n(786)},658:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156);var a=n(301),i=n(299),o=n(302),s=r(n(1)),c=r(n(12)),l=r(n(594)),u=function(e){var t=e.centered,n=e.className,r=o._objectWithoutProperties(e,["centered","className"]),c=l("ins-c-spinner",i._defineProperty({},"ins-m-center",t),n);return s.createElement("div",a._extends({role:"status",className:c},r),s.createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};u.propTypes={centered:c.bool,className:c.string},t.Spinner=u},659:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(48));t.Backdrop=e=>{var{children:t=null,className:n=""}=e,s=r.__rest(e,["children","className"]);return a.createElement("div",Object.assign({},s,{className:i.css(o.default.backdrop,n)}),t)},t.Backdrop.displayName="Backdrop"},660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(41));t.ModalBoxDescription=e=>{var{children:t=null,className:n="",id:s=""}=e,c=r.__rest(e,["children","className","id"]);return a.createElement("div",Object.assign({},c,{id:s,className:i.css(o.default.modalBoxDescription,n)}),t)},t.ModalBoxDescription.displayName="ModalBoxDescription"},661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importDefault(n(41)),o=n(2),s=n(164);t.ModalBoxTitle=e=>{var{className:t="",id:n,title:c}=e,l=r.__rest(e,["className","id","title"]);const[u,d]=a.useState(!1),p=a.useRef();return a.useLayoutEffect(()=>{d(p.current&&p.current.offsetWidth<p.current.scrollWidth)},[]),u?a.createElement(s.Tooltip,{content:c},a.createElement("h1",Object.assign({id:n,ref:p,className:o.css(i.default.modalBoxTitle,t)},l),c)):a.createElement("h1",Object.assign({id:n,ref:p,className:o.css(i.default.modalBoxTitle,t)},l),c)},t.ModalBoxTitle.displayName="ModalBoxTitle"},700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=r.__importDefault(n(19)),o=n(2);t.Form=e=>{var{children:t=null,className:n="",isHorizontal:s=!1}=e,c=r.__rest(e,["children","className","isHorizontal"]);return a.createElement("form",Object.assign({noValidate:!0},c,{className:o.css(i.default.form,s&&i.default.modifiers.horizontal,n)}),t)},t.Form.displayName="Form"},783:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156),n(301);var a=n(299);n(302);var i=r(n(1)),o=r(n(12));n(594);var s=n(305),c=n(303),l=n(604),u=n(618);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var p=function(e){c._inherits(n,e);var t=function(e){return function(){var t,n=c._getPrototypeOf(e);if(d()){var r=c._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c._possibleConstructorReturn(this,t)}}(n);function n(){var e;c._classCallCheck(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),a._defineProperty(c._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return s._toConsumableArray(Array(t)).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),a._defineProperty(c._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,r=t.columns;return e.newArray(n).map((function(){return""})).concat(r||e.createColumns())})),a._defineProperty(c._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,r=t.rowSize,a=t.columns,o=t.paddingColumnSize,s=a?a.length:n;return e.newArray(r).map((function(){return{cells:e.newArray(o).map((function(){return""})).concat(e.newArray(s).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),a._defineProperty(c._assertThisInitialized(e),"newArray",(function(e){return s._toConsumableArray(Array(e))})),e}return c._createClass(n,[{key:"render",value:function(){return i.createElement(l.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:this.props.sortBy,"aria-label":"Loading"},i.createElement(l.TableHeader,null),i.createElement(l.TableBody,null))}}]),n}(i.Component);p.propTypes={colSize:o.number,rowSize:o.number,columns:o.array,paddingColumnSize:o.number,sortBy:o.shape({index:o.number,direction:o.oneOf(["asc","desc"])})},p.defaultProps={rowSize:0,paddingColumnSize:0},t.SkeletonTable=p},784:function(e,t,n){"use strict";n.r(t);var r=n(597),a=n.n(r),i=n(188),o=n(598),s=n(589),c=n(12),l=n.n(c),u=n(1),d=n.n(u),p=n(22),m=n(577),f=n(613),b=n(131),y=n(636),h=function(){var e,t=Object(p.k)(),n=Object(p.l)(),r=(null===(e=n.state)||void 0===e?void 0:e.profile).id,c=function(){t.push(n.state.background)},l=Object(m.useMutation)(f.e,{onCompleted:function(){Object(y.a)(Object(b.addNotification)({variant:"success",title:"Removed report"})),t.push("/reports")},onError:function(e){Object(y.a)(Object(b.addNotification)({variant:"danger",title:"Error removing report",description:e.message})),c()}}),u=a()(l,1)[0];return d.a.createElement(o.Modal,{isOpen:!0,variant:o.ModalVariant.small,title:"Delete report",onClose:c,actions:[d.a.createElement(i.Button,{key:"destroy","aria-label":"delete",variant:"danger",onClick:function(){return u({variables:{input:{profileId:r}}})}},"Delete report"),d.a.createElement(i.Button,{key:"cancel",variant:"secondary",onClick:function(){return c()}},"Cancel")]},d.a.createElement(s.TextContent,null,"Deleting a report is permanent and cannot be undone."))};h.propTypes={onClose:l.a.func,isModalOpen:l.a.bool,onDelete:l.a.func,policyId:l.a.string},h.defaultProps={onDelete:function(){},onClose:function(){}},t.default=h},785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=()=>null,t.Tab.displayName="Tab"},786:function(e,t,n){"use strict";n.r(t);var r=n(597),a=n.n(r),i=n(188),o=n(598),s=n(589),c=n(12),l=n.n(c),u=n(1),d=n.n(u),p=n(22),m=n(577),f=n(613),b=n(131),y=n(636),h=function(){var e=Object(p.l)(),t=Object(p.k)(),n=e.state.policy,r=n.name,c=n.id,l=function(){t.push("/scappolicies")},u=Object(m.useMutation)(f.d,{onCompleted:function(){Object(y.a)(Object(b.addNotification)({variant:"success",title:"Removed policy ".concat(r)})),l()},onError:function(e){Object(y.a)(Object(b.addNotification)({variant:"danger",title:"Error removing policy",description:e.message})),l()}}),h=a()(u,1)[0];return d.a.createElement(o.Modal,{variant:o.ModalVariant.small,title:"Delete policy",isOpen:!0,onClose:l,actions:[d.a.createElement(i.Button,{key:"destroy","aria-label":"delete",variant:"danger",onClick:function(){return h({variables:{input:{id:c}}})}},"Delete policy"),d.a.createElement(i.Button,{key:"cancel",variant:"secondary",onClick:l},"Cancel")]},d.a.createElement(s.TextContent,null,"Are you sure you want to delete ",d.a.createElement("b",null,r),"? This cannot be undone."))};h.propTypes={policy:l.a.object},t.default=h},950:function(e,t,n){"use strict";n.r(t),n.d(t,"ComplianceSystems",(function(){return y}));var r=n(595),a=n.n(r),i=n(1),o=n.n(i),s=n(590),c=n.n(s),l=n(577),u=n(599),d=n(629),p=n(591),m=n(637);function f(){var e=a()(['\n{\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                name\n                refId\n                majorOsVersion\n            }\n        }\n    }\n}\n']);return f=function(){return e},e}var b=c()(f()),y=function(){var e,t,n=Object(l.useQuery)(b),r=n.data,a=n.error,i=n.loading;r&&(e=null==r||null===(t=r.profiles)||void 0===t?void 0:t.edges.map((function(e){return e.node})));return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.PageHeader,{className:"page-header"},o.a.createElement(u.PageHeaderTitle,{title:"Compliance systems"})),o.a.createElement(d.Main,null,o.a.createElement(p.z,{stateValues:{error:a,data:r,loading:i}},o.a.createElement(p.y,{stateKey:"data"},e&&o.a.createElement(m.b,{systemProps:{isFullView:!0},showOsFilter:!0,showComplianceSystemsInfo:!0,enableEditPolicy:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"Name",props:{width:40,isStatic:!0}},{key:"facts.compliance.policies",title:"Policies",props:{width:40,isStatic:!0}},{key:"facts.compliance.details_link",title:"",props:{width:20,isStatic:!0}}],policies:e})))))};t.default=y},951:function(e,t,n){var r=n(163);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},952:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),a=r.__importStar(n(1)),i=n(2),o=r.__importDefault(n(37));t.TabTitleText=e=>{var{children:t,className:n=""}=e,s=r.__rest(e,["children","className"]);return a.createElement("span",Object.assign({className:i.css(o.default.tabsItemText,n)},s),t)},t.TabTitleText.displayName="TabTitleText"},956:function(e,t,n){"use strict";n.r(t),n.d(t,"CreatePolicy",(function(){return rt}));var r=n(597),a=n.n(r),i=n(1),o=n.n(i),s=n(22),c=n(124),l=n.n(c),u=n(63);var d,p,m=(d=u.a,p=d.getIn,function(e,t){l()(e,"Form value must be specified");var n=t||function(e){return p(e,"form")};return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return l()(a.length,"No fields specified"),1===a.length?p(n(t),e+".values."+a[0]):a.reduce((function(r,a){var i=p(n(t),e+".values."+a);return void 0===i?r:u.a.setIn(r,a,i)}),{})}}),f=n(129),b=n(12),y=n.n(b),h=n(1439),v=n(191),g=n.n(v),E=n(595),O=n.n(E),S=n(188),I=n(700),_=n(657),j=n(586),T=n(589),x=n(300),R=n(651),w=n.n(R),P=n(591),C=n(590),N=n.n(C),k=n(577),B=n(658),D=y.a.any,F=y.a.bool,M=y.a.func,q=y.a.shape,A=y.a.string,z=y.a.oneOfType,L=y.a.object,W=y.a.number,V={anyTouched:F.isRequired,asyncValidating:z([F,A]).isRequired,dirty:F.isRequired,error:D,form:A.isRequired,invalid:F.isRequired,initialized:F.isRequired,initialValues:L,pristine:F.isRequired,pure:F.isRequired,submitting:F.isRequired,submitAsSideEffect:F.isRequired,submitFailed:F.isRequired,submitSucceeded:F.isRequired,valid:F.isRequired,warning:D,array:q({insert:M.isRequired,move:M.isRequired,pop:M.isRequired,push:M.isRequired,remove:M.isRequired,removeAll:M.isRequired,shift:M.isRequired,splice:M.isRequired,swap:M.isRequired,unshift:M.isRequired}),asyncValidate:M.isRequired,autofill:M.isRequired,blur:M.isRequired,change:M.isRequired,clearAsyncError:M.isRequired,clearFields:M.isRequired,clearSubmitErrors:M.isRequired,destroy:M.isRequired,dispatch:M.isRequired,handleSubmit:M.isRequired,initialize:M.isRequired,reset:M.isRequired,resetSection:M.isRequired,touch:M.isRequired,submit:M.isRequired,untouch:M.isRequired,triggerSubmit:F,clearSubmit:M.isRequired},U={checked:F,name:A.isRequired,onBlur:M.isRequired,onChange:M.isRequired,onDragStart:M.isRequired,onDrop:M.isRequired,onFocus:M.isRequired,value:D},$={active:F.isRequired,asyncValidating:F.isRequired,autofilled:F.isRequired,dirty:F.isRequired,dispatch:M.isRequired,error:D,form:A.isRequired,invalid:F.isRequired,pristine:F.isRequired,submitting:F.isRequired,submitFailed:F.isRequired,touched:F.isRequired,valid:F.isRequired,visited:F.isRequired,warning:A},J={dirty:F.isRequired,error:D,form:A.isRequired,invalid:F.isRequired,pristine:F.isRequired,submitFailed:F,submitting:F,valid:F.isRequired,warning:A},H={name:A.isRequired,forEach:M.isRequired,get:M.isRequired,getAll:M.isRequired,insert:M.isRequired,length:W.isRequired,map:M.isRequired,move:M.isRequired,pop:M.isRequired,push:M.isRequired,reduce:M.isRequired,remove:M.isRequired,removeAll:M.isRequired,shift:M.isRequired,swap:M.isRequired,unshift:M.isRequired},K=(q(U).isRequired,q($).isRequired,q(H).isRequired,q(J).isRequired,V),G=n(1482),Y=n(157);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){var e=O()(['\nquery benchmarksAndProfiles {\n    latestBenchmarks {\n        id\n        title\n        refId\n        version\n        profiles {\n            id\n            name\n            refId\n            description\n            complianceThreshold\n        }\n    }\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                refId\n                benchmarkId\n            }\n        }\n    }\n}\n']);return Z=function(){return e},e}var ee=N()(Z()),te=function(e){var t=e.change,n=e.selectedBenchmarkId,r=Object(k.useQuery)(ee,{fetchPolicy:"no-cache"}),a=r.data,i=r.error,s=r.loading;if(i)return i;if(s)return o.a.createElement(B.Spinner,null);var c,l,u,d,p=a.latestBenchmarks;if(n){c=p.find((function(e){return e.id===n}));var m=(u=a.profiles.edges,d=n,u.filter((function(e){return d===e.node.benchmarkId})).map((function(e){return e.node.refId})));l=c.profiles.map((function(e){return X(X({},e),{},{disabled:m.includes(e.refId)})}))}return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,{component:j.TextVariants.h1},"Create SCAP policy"),o.a.createElement(j.Text,{component:j.TextVariants.h4},"Select the operating system and policy type")),o.a.createElement(I.Form,null,o.a.createElement(_.FormGroup,{label:"Operating system",isRequired:!0,fieldId:"benchmark"},o.a.createElement("br",null),p&&p.sort((function(e,t){return e.refId.localeCompare(t.refId)})).map((function(e){var r=e.refId,a=e.id;return o.a.createElement(S.Button,{key:a,onClick:function(){t("benchmark",a)},className:"wizard-os-button ".concat(n===a?"active-wizard-os-button":""),variant:"tertiary"},r&&r.split("xccdf_org.ssgproject.content_benchmark_")[1].replace("-"," "))}))),c&&o.a.createElement(j.Text,{component:j.TextVariants.small},"SCAP Security Guide (SSG): ",c.title," - ",c.version,o.a.createElement(x.Tooltip,{position:x.TooltipPosition.right,content:"Policies configured in the Compliance services use\n                                                                        the latest version of the SSG packaged with RHEL."},o.a.createElement("span",null," ",o.a.createElement(w.a,{className:"grey-icon"})))),o.a.createElement(_.FormGroup,{label:"Policy type",isRequired:!0,fieldId:"policy-type"},o.a.createElement(P.n,{profiles:c&&l,onClick:function(){t("selectedRuleRefIds",null)}}))))};te.propTypes={selectedBenchmarkId:y.a.string,change:K.change};var ne=m("policyForm"),re=Object(Y.compose)(Object(f.connect)((function(e){return{selectedBenchmarkId:ne(e,"benchmark")}})),Object(G.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(te),ae=n(603),ie=n(778);function oe(){var e=O()(["\nquery benchmarkAndProfile($benchmarkId: String!, $profileId: String!){\n    benchmark(id: $benchmarkId) {\n        id\n        rules {\n            id\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n    }\n    profile(id: $profileId) {\n        id\n        name\n        refId\n        rules {\n            id\n            refId\n        }\n    }\n}\n"]);return oe=function(){return e},e}var se=N()(oe()),ce=function(e){var t,n,r=e.profileId,s=e.benchmarkId,c=e.selectedRuleRefIds,l=e.change,u=Object(ae.selectRulesTableColumns)(["Rule","Severity","Ansible"]),d=Object(k.useQuery)(se,{variables:{profileId:r,benchmarkId:s}}),p=d.data,m=d.error,f=d.loading,b=Object(i.useState)(null),y=a()(b,2),h=y[0],v=y[1],g=p&&[{profile:{refId:p.profile.refId,name:p.profile.name},rules:p.benchmark.rules}];return Object(i.useEffect)((function(){if(p){var e=p.profile.rules.map((function(e){return e.refId}));v(e),c||l("selectedRuleRefIds",e)}}),[p]),o.a.createElement(P.z,{stateValues:{error:m,data:p,loading:f}},o.a.createElement(P.y,{stateKey:"loading"},o.a.createElement(ie.EmptyTable,null,o.a.createElement(B.Spinner,null))),o.a.createElement(P.y,{stateKey:"data"},o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,{component:j.TextVariants.h1},"Rules")),o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,null,"Edit your policy by including and excluding rules."),o.a.createElement(j.Text,null,"Selected policy type ",o.a.createElement("strong",null,null==p?void 0:p.profile.name)," has ",null==h?void 0:h.length," rules. ",c&&(n=null==(t=c)?void 0:t.filter((function(e){return null==h?void 0:h.includes(e)})),!(t&&h&&n.length===h.length))&&o.a.createElement(S.Button,{variant:"link",isInline:!0,onClick:function(){return l("selectedRuleRefIds",h)}},"Reset to default selection"))),o.a.createElement(ae.SystemRulesTable,{remediationsEnabled:!1,tailoringEnabled:!0,selectedFilter:!0,columns:u,loading:f,handleSelect:function(e){return l("selectedRuleRefIds",e)},profileRules:g,selectedRefIds:c||[]})))};ce.propTypes={profileId:y.a.string,benchmarkId:y.a.string,change:K.change,selectedRuleRefIds:y.a.array};var le=m("policyForm"),ue=Object(Y.compose)(Object(f.connect)((function(e){return{benchmarkId:le(e,"benchmark"),profileId:JSON.parse(le(e,"profile")).id,selectedRuleRefIds:le(e,"selectedRuleRefIds")}})),Object(G.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(ce),de=n(637),pe=function(e){var t=e.change,n=e.selectedSystemIds;return Object(i.useEffect)((function(){n&&t("systems",n)}),[n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,{component:j.TextVariants.h1},"Systems"),o.a.createElement(j.Text,{component:j.TextVariants.h4},"Choose systems to scan with this policy. You can add and remove systems later.")),o.a.createElement(I.Form,null,o.a.createElement(_.FormGroup,null,o.a.createElement(de.b,{columns:[{composed:["facts.os_release","display_name"],key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}},{key:"facts.compliance.profiles",title:"Policies",props:{width:40,isStatic:!0}}],remediationsEnabled:!1,compact:!0,showActions:!1,showAllSystems:!0,enableExport:!1}))))};pe.propTypes={selectedSystemIds:y.a.array,change:K.change},pe.defaultProps={selectedSystemIds:[]};var me=Object(Y.compose)(Object(f.connect)((function(e){var t=e.entities;return{selectedSystemIds:((null==t?void 0:t.selectedEntities)||[]).map((function(e){return e.id}))}})),Object(G.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(pe),fe=n(1483),be=n(954),ye=function(e){var t=e.profile;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,{component:j.TextVariants.h1},"Policy details")),o.a.createElement("br",null),o.a.createElement(I.Form,{id:"editpolicydetails"},o.a.createElement(_.FormGroup,{label:"Policy name",isRequired:!0,fieldId:"name"},o.a.createElement(fe.a,{component:be.b,type:"text",isRequired:!0,id:"name",name:"name","aria-describedby":"name"})),o.a.createElement(_.FormGroup,{label:"Reference ID",isRequired:!0,fieldId:"refId"},o.a.createElement(fe.a,{type:"text",component:be.b,isDisabled:!0,id:"refId",name:"refId","aria-describedby":"refId"})),o.a.createElement(_.FormGroup,{label:"Description",fieldId:"description"},o.a.createElement(fe.a,{type:"text",component:be.a,id:"description",name:"description","aria-describedby":"description"})),o.a.createElement(_.FormGroup,{label:"Business objective",fieldId:"businessObjective"},o.a.createElement(fe.a,{type:"text",component:be.b,id:"businessObjective",name:"businessObjective","aria-describedby":"businessObjective",defaultValue:t.businessObjective})),o.a.createElement(P.m,{showTitle:!1,previousThreshold:t.complianceThreshold})))},he=m("policyForm");ye.propTypes={profile:y.a.object,dispatch:y.a.func};var ve=Object(Y.compose)(Object(f.connect)((function(e){return{profile:JSON.parse(he(e,"profile")),initialValues:{name:"".concat(JSON.parse(he(e,"profile")).name),refId:"".concat(JSON.parse(he(e,"profile")).refId),description:"".concat(JSON.parse(he(e,"profile")).description),benchmark:he(e,"benchmark"),profile:he(e,"profile")}}})),Object(G.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(ye),ge=n(626),Ee=n(627);function Oe(){var e=O()(["\nquery review($benchmarkId: String!) {\n    benchmark(id: $benchmarkId) {\n        id\n        title\n        refId\n        version\n    }\n}\n"]);return Oe=function(){return e},e}var Se=N()(Oe()),Ie=function(e){var t=e.benchmarkId,n=e.name,r=e.refId,a=e.businessObjective,i=e.systemsCount,s=e.rulesCount,c=e.complianceThreshold,l=e.parentProfileName,u=Object(k.useQuery)(Se,{variables:{benchmarkId:t}}),d=u.data,p=u.error,m=u.loading;if(p)return p;if(m)return o.a.createElement(B.Spinner,null);var f=d.benchmark;return o.a.createElement(T.TextContent,null,o.a.createElement(j.Text,{component:j.TextVariants.h1},"Review"),o.a.createElement(j.Text,{component:j.TextVariants.h4},"Review your policy before finishing."),o.a.createElement(ge.TextList,{component:ge.TextListVariants.dl},o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Operating system"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},f.refId.split("xccdf_org.ssgproject.content_benchmark_")[1].replace("-"," ")),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Security guide"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd}," ".concat(f.title," - ").concat(f.version)),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Policy type"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},l),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Policy name"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},n),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Reference ID"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},r),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Compliance threshold"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},c,"%"),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"Business objective"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},a)),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"No. of rules"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},s),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dt},"No. of systems"),o.a.createElement(Ee.TextListItem,{component:Ee.TextListItemVariants.dd},i>0?i:o.a.createElement(P.A,{variant:"compact",count:i}))))};Ie.propTypes={benchmarkId:y.a.string,refId:y.a.string,name:y.a.string,businessObjective:y.a.string,systemsCount:y.a.number,rulesCount:y.a.number,complianceThreshold:y.a.number,parentProfileName:y.a.string};var _e=m("policyForm"),je=Object(f.connect)((function(e){return{benchmarkId:_e(e,"benchmark"),refId:_e(e,"refId"),name:_e(e,"name"),businessObjective:_e(e,"businessObjective"),systemsCount:_e(e,"systems").length,complianceThreshold:parseFloat(_e(e,"complianceThreshold"))||100,parentProfileName:JSON.parse(_e(e,"profile")).name,rulesCount:_e(e,"selectedRuleRefIds").length}}))(Ie),Te=n(166),xe=n.n(Te),Re=n(225),we=n.n(Re),Pe=n(202),Ce=n.n(Pe),Ne=n(195),ke=n.n(Ne),Be=n(304),De=n.n(Be),Fe=n(203),Me=n.n(Fe),qe=n(204),Ae=n.n(qe),ze=n(160),Le=n.n(ze),We=n(617),Ve=n(769),Ue=n(628),$e=n(770),Je=n(1438),He=n(1436),Ke=n(1437),Ge=n.n(Ke),Ye=n(961),Qe=n(613);function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le()(e);if(t){var a=Le()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ae()(this,n)}}var Ze=function(e){Me()(n,e);var t=Xe(n);function n(){var e;Ce()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),g()(De()(e),"state",{percent:0,message:"This usually takes a minute or two.",failed:!1}),g()(De()(e),"createProfile",we()(xe.a.mark((function t(){var n,r,a,i,o,s,c,l,u,d,p,m;return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.businessObjective,a=n.benchmarkId,i=n.cloneFromProfileId,o=n.refId,s=n.name,c=n.description,l=n.complianceThreshold,u=n.selectedRuleRefIds,d=n.client,p={benchmarkId:a,cloneFromProfileId:i,complianceThreshold:l,description:c,name:s,refId:o,selectedRuleRefIds:u},!r){t.next=7;break}return t.next=5,d.mutate({mutation:Qe.b,variables:{input:{title:r}}});case 5:m=t.sent,p.businessObjectiveId=m.data.createBusinessObjective.businessObjective.id;case 7:return t.abrupt("return",d.mutate({mutation:Qe.c,variables:{input:p}}));case 8:case"end":return t.stop()}}),t)})))),g()(De()(e),"associateSystems",(function(){var t=e.props,n=t.systemIds,r=t.client,a=e.state.profileId;return r.mutate({mutation:Qe.a,variables:{input:{id:a,systemIds:n}}}).then((function(){e.setState((function(e){return{percent:e.percent+50,message:""}}))})).catch((function(t){e.setState({message:t.networkError.message,failed:!0})}))})),e}return ke()(n,[{key:"componentDidMount",value:function(){var e=this;this.createProfile().then((function(t){e.setState((function(e){return{percent:e.percent+50,profileId:t.data.createProfile.profile.id}}),e.associateSystems)})).catch((function(t){e.setState({message:t.networkError.message,failed:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.percent,n=e.message,r=e.failed,a=this.props.onWizardFinish;return o.a.createElement(Ve.Bullseye,null,o.a.createElement(Ue.EmptyState,{variant:Ue.EmptyStateVariant.full},o.a.createElement(He.EmptyStateIcon,{icon:Ge.a}),o.a.createElement("br",null),o.a.createElement(We.Title,{headingLevel:"h1",size:"lg"},"Creating policy"),o.a.createElement($e.EmptyStateBody,null,o.a.createElement(P.o,{percent:t,failed:r})),o.a.createElement($e.EmptyStateBody,{className:r&&"wizard-failed-message"},n),o.a.createElement(Je.EmptyStateSecondaryActions,null,100===t?o.a.createElement(S.Button,{variant:"primary",onClick:function(){a()}},"Return to application"):"")))}}]),n}(o.a.Component);Ze.propTypes={benchmarkId:y.a.string.isRequired,client:y.a.object.isRequired,businessObjective:y.a.object,cloneFromProfileId:y.a.string.isRequired,refId:y.a.string.isRequired,name:y.a.string.isRequired,description:y.a.string,systemIds:y.a.array,complianceThreshold:y.a.number,onWizardFinish:y.a.func,selectedRuleRefIds:y.a.arrayOf(y.a.string).isRequired};var et=m("policyForm"),tt=Object(Y.compose)(Object(f.connect)((function(e){return{benchmarkId:et(e,"benchmark"),businessObjective:et(e,"businessObjective"),cloneFromProfileId:JSON.parse(et(e,"profile")).id,refId:et(e,"refId"),name:et(e,"name"),description:et(e,"description"),complianceThreshold:parseFloat(et(e,"complianceThreshold"))||100,systemIds:et(e,"systems"),selectedRuleRefIds:et(e,"selectedRuleRefIds")}})),Object(G.a)({form:"policyForm",destroyOnUnmount:!0,forceUnregisterOnUnmount:!0}),Ye.a)(Ze),nt=n(780),rt=function(e){var t=e.benchmark,n=e.complianceThreshold,r=e.name,c=e.profile,l=e.refId,u=e.selectedRuleRefIds,d=Object(s.k)(),p=Object(i.useState)(1),m=a()(p,2),f=m[0],b=m[1],y=function(){d.push("/scappolicies")},v=[{id:1,name:"Create SCAP policy",component:o.a.createElement(re,null),enableNext:Object(nt.b)(t,c)},{id:2,name:"Details",component:o.a.createElement(ve,null),canJumpTo:f>=2,enableNext:Object(nt.c)(r,l,n)},{id:3,name:"Rules",component:o.a.createElement(ue,null),canJumpTo:f>=3,enableNext:Object(nt.d)(u)},{id:4,name:"Systems",component:o.a.createElement(me,null),canJumpTo:f>=4},{id:5,name:"Review",component:o.a.createElement(je,null),nextButtonText:"Finish",canJumpTo:f>=5},{id:6,name:"Finished",component:o.a.createElement(tt,{onWizardFinish:y}),isFinishedStep:!0,canJumpTo:f>=6}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.Wizard,{isOpen:!0,onClose:y,title:"Create SCAP policy",description:"Create a new policy for managing SCAP compliance",steps:v,onNext:function(e){var t=e.id;b(f<t?t:f)}}))};rt.propTypes={benchmark:y.a.string,complianceThreshold:y.a.string,businessObjective:y.a.object,dispatch:y.a.func,isOpen:y.a.bool,name:y.a.string,onWizardFinish:y.a.func,profile:y.a.string,refId:y.a.string,selectedRuleRefIds:y.a.arrayOf(y.a.string)},rt.defaultProps={isOpen:!1};var at=m("policyForm");t.default=Object(f.connect)((function(e){return{benchmark:at(e,"benchmark"),businessObjective:at(e,"businessObjective"),complianceThreshold:at(e,"complianceThreshold")||100,name:at(e,"name"),profile:at(e,"profile"),refId:at(e,"refId"),selectedRuleRefIds:at(e,"selectedRuleRefIds")}}))(rt)},958:function(e,t,n){"use strict";n.r(t),n.d(t,"EditPolicy",(function(){return q}));var r=n(191),a=n.n(r),i=n(597),o=n.n(i),s=n(1),c=n.n(s),l=n(22),u=n(129),d=n(188),p=n(700),m=n(598),f=n(785),b=n(952),y=n(591),h=n(637),v=n(232),g=n(12),E=n.n(g),O=n(657),S=n(936),I=n(314),_=n(780);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t,n=e.policy,r=e.setUpdatedPolicy,a=function(){var e=Object(s.useState)(!0),t=o()(e,2),n=t[0],r=t[1];return[n,function(e){var t=Object(_.a)(e);return r(t),t}]}(),i=o()(a,2),l=i[0],u=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(O.FormGroup,{label:"Policy description",isRequired:!0,fieldId:"description"},c.a.createElement(S.TextArea,{style:{width:800,height:110},isRequired:!0,type:"text",id:"description",name:"description","aria-describedby":"description",defaultValue:n.description,onChange:function(e){r((function(t){return T(T({},t),{},{description:e})}))}})),c.a.createElement(O.FormGroup,{label:"Business objective",fieldId:"business-objective"},c.a.createElement(I.TextInput,{type:"text",style:{width:300},id:"business-objective",name:"business-objective","aria-describedby":"business-objective",defaultValue:null==n||null===(t=n.businessObjective)||void 0===t?void 0:t.title,onChange:function(e){r((function(t){return T(T({},t),{},{businessObjective:T(T({},t.businessObjective),{},{title:e})})}))}})),c.a.createElement(O.FormGroup,{validated:l?"default":"error",label:"Compliance threshold (%)",fieldId:"policy-threshold",helperTextInvalid:"Threshold has to be a number between 0 and 100",helperText:"A value of 95% or higher is recommended"},c.a.createElement(I.TextInput,{type:"number",style:{width:150},name:"compliance-threshold",id:"compliance-threshold",defaultValue:n.complianceThreshold,"aria-describedby":"policy-threshold",onChange:function(e){r((function(t){return T(T({},t),{},{complianceThreshold:e,complianceThresholdValid:u(e)})}))}})))};x.propTypes={policy:E.a.shape({description:E.a.string,businessObjective:E.a.object,complianceThreshold:E.a.oneOfType([E.a.string,E.a.number])}),setUpdatedPolicy:E.a.func};var R=x,w=n(166),P=n.n(w),C=n(225),N=n.n(C),k=n(577),B=n(613),D=function(){var e,t,n=(e=Object(k.useMutation)(B.b),t=o()(e,1)[0],function(){var e=N()(P.a.mark((function e(n,r){var a,i,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==n||null===(a=n.businessObjective)||void 0===a?void 0:a.title)!==(null==r?void 0:r.title)){e.next=4;break}return e.abrupt("return",null==n||null===(i=n.businessObjective)||void 0===i?void 0:i.id);case 4:if(""!==(null==r?void 0:r.title)){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,t({variables:{input:{title:r.title}}});case 10:return o=e.sent,e.abrupt("return",o.data.createBusinessObjective.businessObjective.id);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r=Object(k.useMutation)(B.f),a=o()(r,1)[0],i=Object(k.useMutation)(B.a),s=o()(i,1)[0];return function(){var e=N()(P.a.mark((function e(t,r){var i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.id,e.t1=r.name,e.t2=r.description,e.t3=parseFloat(r.complianceThreshold),e.next=6,n(t,null==r?void 0:r.businessObjective);case 6:return e.t4=e.sent,i={id:e.t0,name:e.t1,description:e.t2,complianceThreshold:e.t3,businessObjectiveId:e.t4},s({variables:{input:{id:t.id,systemIds:r.hosts.map((function(e){return e.id}))}}}),e.next=11,a({variables:{input:i}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){var e,t=Object(l.l)(),n=null==t||null===(e=t.state)||void 0===e?void 0:e.policy,r=Object(v.b)(),a=Object(s.useState)(null),i=o()(a,2),g=i[0],E=i[1],O=D(),S=Object(v.c)("/scappolicies"),I=function(){return S({hash:r})},_=Object(u.useSelector)((function(e){var t;return null==e||null===(t=e.entities)||void 0===t?void 0:t.selectedEntities})),j=g&&!g.complianceThresholdValid,T=[c.a.createElement(d.Button,{isDisabled:j,key:"save",variant:"primary",onClick:function(){return O(n,g).then((function(){return I()}))}},"Save"),c.a.createElement(d.Button,{key:"cancel",variant:"secondary",onClick:function(){return I()}},"Cancel")];return Object(s.useEffect)((function(){E(M(M({},g),{},{hosts:_||[]}))}),[_]),Object(s.useEffect)((function(){var e=n.complianceThreshold<101&&n.complianceThreshold>0;E(M(M({},n),{},{complianceThresholdValid:e}))}),[n]),n&&c.a.createElement(m.Modal,{isOpen:!0,style:{height:"400px"},width:1e3,title:"Edit ".concat(n.name),onClose:function(){return I()},actions:T},c.a.createElement(p.Form,null,c.a.createElement(y.w,{defaultTab:"details"},c.a.createElement(f.Tab,{eventKey:"details",title:c.a.createElement(b.TabTitleText,null,"Details")},c.a.createElement(R,{policy:n,setUpdatedPolicy:E})),c.a.createElement(f.Tab,{eventKey:"rules",title:c.a.createElement(b.TabTitleText,null,"Rules")},"Rule editing coming soon"),c.a.createElement(f.Tab,{eventKey:"systems",title:c.a.createElement(b.TabTitleText,null,"Systems")},c.a.createElement(h.b,{compact:!0,showActions:!1,enableExport:!1,showAllSystems:!0,remediationsEnabled:!1,policyId:n.id,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}],preselectedSystems:(null==n?void 0:n.hosts.map((function(e){return{id:e.id}})))||[]})))))};t.default=q},961:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(576),a=n(3),i=n(1),o=n.n(i),s=n(96),c=n.n(s),l=n(577),u=n(12),d=n.n(u);function p(e){var t=e.children,n=e.query,r=Object(a.__rest)(e,["children","query"]),i=Object(l.useQuery)(n,r);return t&&i?t(i):null}function m(e){var t=Object(l.useMutation)(e.mutation,e),n=t[0],r=t[1];return e.children?e.children(n,r):null}function f(e){var t=Object(l.useSubscription)(e.subscription,e);return e.children&&t?e.children(t):null}(p||(p={})).propTypes={client:d.a.object,children:d.a.func.isRequired,fetchPolicy:d.a.string,notifyOnNetworkStatusChange:d.a.bool,onCompleted:d.a.func,onError:d.a.func,pollInterval:d.a.number,query:d.a.object.isRequired,variables:d.a.object,ssr:d.a.bool,partialRefetch:d.a.bool,returnPartialData:d.a.bool},(m||(m={})).propTypes={mutation:d.a.object.isRequired,variables:d.a.object,optimisticResponse:d.a.oneOfType([d.a.object,d.a.func]),refetchQueries:d.a.oneOfType([d.a.arrayOf(d.a.oneOfType([d.a.string,d.a.object])),d.a.func]),awaitRefetchQueries:d.a.bool,update:d.a.func,children:d.a.func.isRequired,onCompleted:d.a.func,onError:d.a.func,fetchPolicy:d.a.string},(f||(f={})).propTypes={subscription:d.a.object.isRequired,variables:d.a.object,children:d.a.func,onSubscriptionData:d.a.func,onSubscriptionComplete:d.a.func,shouldResubscribe:d.a.oneOfType([d.a.func,d.a.bool])};var b=n(10);!function(e){function t(t){var n=e.call(this,t)||this;return n.withRef=!1,n.setWrappedInstance=n.setWrappedInstance.bind(n),n}Object(a.__extends)(t,e),t.prototype.getWrappedInstance=function(){return Object(b.b)(this.withRef,2),this.wrappedInstance},t.prototype.setWrappedInstance=function(e){this.wrappedInstance=e}}(o.a.Component);function y(e,t){void 0===t&&(t={});var n="withApollo("+function(e){return e.displayName||e.name||"Component"}(e)+")",i=function(i){function s(e){var t=i.call(this,e)||this;return t.setWrappedInstance=t.setWrappedInstance.bind(t),t}return Object(a.__extends)(s,i),s.prototype.getWrappedInstance=function(){return Object(b.b)(t.withRef,1),this.wrappedInstance},s.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},s.prototype.render=function(){var n=this;return o.a.createElement(r.a,null,(function(r){var i=Object.assign({},n.props,{client:r,ref:t.withRef?n.setWrappedInstance:void 0});return o.a.createElement(e,Object(a.__assign)({},i))}))},s.displayName=n,s.WrappedComponent=e,s}(o.a.Component);return c()(i,e,{})}}}]);
//# sourceMappingURL=../sourcemaps/EditPolicy-fc0f55bdbb081596810cf9cb70dede06.js.map