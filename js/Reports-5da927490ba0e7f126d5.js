(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1573:function(e,n,t){"use strict";t.r(n),t.d(n,"Reports",(function(){return k}));var r=t(586),a=t.n(r),o=t(1),i=t.n(o),c=t(12),l=t.n(c),s=t(22),u=t(568),f=t(581),m=t.n(f),d=t(592),p=t(646),y=t(790),h=t(582),v=t(236),b=function(e,n){var t="enable"===e;t?(console.log("Setting feature value for ".concat(n," to ").concat(t)),localStorage.setItem("".concat("insights:compliance",":").concat(n),t)):(console.log("Removing feature setting of ".concat(n)),localStorage.removeItem("".concat("insights:compliance",":").concat(n)))},g=function(e){var n=v.d[e];if(e){var t,r,a,o;t=Object(s.l)(),r=t.search,a=t.pathName,o=Object(s.k)(),r&&(new URLSearchParams(r).forEach(b),o.push(a));var i=function(e){return localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||n;return console.log("Feature ".concat(e," is set to ").concat(i)),i}};function S(){var e=a()(['\n{\n    profiles(search: "has_test_results = true", limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                totalHostCount\n                compliantHostCount\n                majorOsVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n']);return S=function(){return e},e}var w=m()(S()),_=function(e){return e.showTableView?i.a.createElement(y.SkeletonTable,{colSize:3,rowSize:10}):i.a.createElement(h.f,null)};_.propTypes={showTableView:l.a.bool};var z=function(){return i.a.createElement(d.PageHeader,null,i.a.createElement(d.PageHeaderTitle,{title:"Reports"}))},k=function(){var e=[],n=!1,t=Object(s.l)(),r=Object(u.useQuery)(w),a=r.data,c=r.error,l=r.loading,f=r.refetch,m=g("reportsTableView"),d=m?h.u:h.q;return Object(o.useEffect)((function(){f()}),[t]),a&&(c=void 0,l=void 0,n=(e=function(e){var n;return((null==e||null===(n=e.profiles)||void 0===n?void 0:n.edges)||[]).map((function(e){return e.node})).filter((function(e){return e.totalHostCount>0}))}(a))&&e.length>0),i.a.createElement(h.z,{stateValues:{error:c,data:a,loading:l}},i.a.createElement(h.y,{stateKey:"loading"},i.a.createElement(z,null),i.a.createElement(p.Main,null,i.a.createElement(_,{showTableView:m}))),i.a.createElement(h.y,{stateKey:"data"},i.a.createElement(z,null),i.a.createElement(p.Main,null,n?i.a.createElement(d,{profiles:e}):i.a.createElement(h.t,null))))};n.default=k},609:function(e,n,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0}),t(156);var a=t(293),o=t(291),i=t(294),c=r(t(1)),l=r(t(12)),s=r(t(585)),u={xs:"xs",sm:"sm",md:"md",lg:"lg"},f=function(e){var n=e.size,t=e.isDark,r=e.className,l=i._objectWithoutProperties(e,["size","isDark","className"]),u=s("ins-c-skeleton","ins-c-skeleton__".concat(n),o._defineProperty({},"ins-m-dark",t),r);return c.createElement("div",a._extends({className:u},l),"Â ")};f.propTypes={className:l.string,size:l.oneOf(Object.values(u)),isDark:l.bool},f.defaultProps={size:u.md,isDark:!1},n.Skeleton=f,n.SkeletonSize=u},790:function(e,n,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0}),t(156),t(293);var a=t(291);t(294);var o=r(t(1)),i=r(t(12));t(585);var c=t(297),l=t(295),s=t(595),u=t(609);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){l._inherits(t,e);var n=function(e){return function(){var n,t=l._getPrototypeOf(e);if(f()){var r=l._getPrototypeOf(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return l._possibleConstructorReturn(this,n)}}(t);function t(){var e;l._classCallCheck(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=n.call.apply(n,[this].concat(i)),a._defineProperty(l._assertThisInitialized(e),"createColumns",(function(){var n=e.props.colSize;return c._toConsumableArray(Array(n)).map((function(){return{title:o.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),a._defineProperty(l._assertThisInitialized(e),"getColumns",(function(){var n=e.props,t=n.paddingColumnSize,r=n.columns;return e.newArray(t).map((function(){return""})).concat(r||e.createColumns())})),a._defineProperty(l._assertThisInitialized(e),"createRows",(function(){var n=e.props,t=n.colSize,r=n.rowSize,a=n.columns,i=n.paddingColumnSize,c=a?a.length:t;return e.newArray(r).map((function(){return{cells:e.newArray(i).map((function(){return""})).concat(e.newArray(c).map((function(){return{title:o.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),a._defineProperty(l._assertThisInitialized(e),"newArray",(function(e){return c._toConsumableArray(Array(e))})),e}return l._createClass(t,[{key:"render",value:function(){return o.createElement(s.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:this.props.sortBy,"aria-label":"Loading"},o.createElement(s.TableHeader,null),o.createElement(s.TableBody,null))}}]),t}(o.Component);m.propTypes={colSize:i.number,rowSize:i.number,columns:i.array,paddingColumnSize:i.number,sortBy:i.shape({index:i.number,direction:i.oneOf(["asc","desc"])})},m.defaultProps={rowSize:0,paddingColumnSize:0},n.SkeletonTable=m}}]);
//# sourceMappingURL=../sourcemaps/Reports-ff9f88e3c311a96ab7f42764a134f661.js.map