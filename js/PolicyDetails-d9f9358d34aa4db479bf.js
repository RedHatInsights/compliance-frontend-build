(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1486:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),l=n.__importStar(a(1)),i=a(1),r=a(2),s=n.__importDefault(a(66)),o=n.__importDefault(a(85)),c=a(1487),d=a(93),u=a(1488),m=n.__importDefault(a(239));var f;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(f=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:a=f.default,isInline:p=!1,isLiveRegion:v=!1,variantLabel:y=d.capitalize(a)+" alert:","aria-label":b=d.capitalize(a)+" Alert",actionClose:g,actionLinks:E,title:h,children:_="",className:S="",ouiaId:I,ouiaSafe:N=!0,timeout:P=!1,truncateTitle:T=0}=e,A=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","truncateTitle"]);const j=l.createElement(l.Fragment,null,l.createElement("span",{className:r.css(o.default.screenReader)},y),h),[w,O]=i.useState(!1),k=l.useRef(null);l.useEffect(()=>{k.current&&T&&k.current.style.setProperty(m.default.name,T.toString())},[k,T]);const x=r.css(s.default.alert,p&&s.default.modifiers.inline,a!==f.default&&s.default.modifiers[a],S);return!1===w&&P&&0!==P&&setTimeout(()=>{O(!0)},!0===P?8e3:P),!1===w?l.createElement("div",Object.assign({},A,{className:x,"aria-label":b},d.getOUIAProps(t.Alert.displayName,I,N),v&&{"aria-live":"polite","aria-atomic":"false"}),l.createElement(c.AlertIcon,{variant:a}),l.createElement("h4",{ref:k,className:r.css(s.default.alertTitle,T&&s.default.modifiers.truncate)},j),g&&l.createElement(u.AlertContext.Provider,{value:{title:h,variantLabel:y}},l.createElement("div",{className:r.css(s.default.alertAction)},g)),_&&l.createElement("div",{className:r.css(s.default.alertDescription)},_),E&&l.createElement("div",{className:r.css(s.default.alertActionGroup)},E)):null},t.Alert.displayName="Alert"},1487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),l=n.__importStar(a(1)),i=a(2),r=n.__importDefault(a(66)),s=n.__importDefault(a(108)),o=n.__importDefault(a(142)),c=n.__importDefault(a(143)),d=n.__importDefault(a(144)),u=n.__importDefault(a(110));t.variantIcons={success:s.default,danger:o.default,warning:c.default,info:d.default,default:u.default},t.AlertIcon=e=>{var{variant:a,className:s=""}=e,o=n.__rest(e,["variant","className"]);const c=t.variantIcons[a];return l.createElement("div",Object.assign({},o,{className:i.css(r.default.alertIcon,s)}),l.createElement(c,null))}},1488:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3).__importStar(a(1));t.AlertContext=n.createContext(null)},1489:function(e,t,a){var n=a(1490);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,l);n.locals&&(e.exports=n.locals)},1490:function(e,t,a){(t=a(6)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=t},1514:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return C})),a.d(t,"PolicyDetails",(function(){return M}));var n=a(582),l=a.n(n),i=a(1),r=a.n(i),s=a(578),o=a.n(s),c=a(22),d=a(566),u=a(663),m=a(703),f=a(187),p=a(605),v=a(606),y=a(928),b=a(589),g=a(640),E=a(662),h=a(579),_=a(230),S=(a(736),a(12)),I=a.n(S),N=a(1486),P=a(574),T=a(929),A=a(597),j=a(790),w=function(e){var t=e.loading,a=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(T.PageSection,{variant:T.PageSectionVariants.light},r.a.createElement(P.Text,{component:P.TextVariants.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",a.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(A.SystemRulesTable,{remediationsEnabled:!1,columns:[{title:"Rule",transforms:[j.a]},{title:"Severity",transforms:[j.a]},{title:r.a.createElement(r.a.Fragment,null,A.ANSIBLE_ICON," Ansible"),transforms:[j.a],original:"Ansible"}],loading:t,profileRules:[{profile:{refId:a.refId,name:a.name},rules:a.rules}]}))};w.propTypes={loading:I.a.bool,policy:I.a.shape({name:I.a.string,refId:I.a.string,rules:I.a.array,benchmark:I.a.object})};var O=w,k=a(94),x=a.n(k),D=a(604),L=function(e){var t=e.policy,a=e.systemTableProps;return r.a.createElement(D.e,x()({policyId:t.id,showActions:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}],complianceThreshold:t.complianceThreshold},a))};L.propTypes={policy:I.a.shape({id:I.a.string.isRequired,complianceThreshold:I.a.number.isRequired}),systemTableProps:I.a.object};var R=L;a(1489);function B(){var e=l()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return B=function(){return e},e}var C=o()(B()),M=function(){var e=Object(c.m)().policy_id,t=Object(c.l)(),a=Object(_.b)(),n=Object(d.useQuery)(C,{variables:{policyId:e}}),l=n.data,s=n.error,o=n.loading,S=n.refetch,I=l&&!o?l.profile:void 0;return I&&I.external&&(s={message:"This is an external SCAP policy."},l=void 0,o=void 0),Object(i.useEffect)((function(){S()}),[t]),r.a.createElement(h.x,{stateValues:{error:s,data:l,loading:o}},r.a.createElement(h.w,{stateKey:"loading"},r.a.createElement(b.PageHeader,null,r.a.createElement(h.i,null)),r.a.createElement(g.Main,null,r.a.createElement(E.Spinner,null))),r.a.createElement(h.w,{stateKey:"data"},I&&r.a.createElement(i.Fragment,null,r.a.createElement(b.PageHeader,{className:"page-header-tabs"},r.a.createElement(u.Breadcrumb,null,r.a.createElement(h.b,{to:"/scappolicies"},"Policies"),r.a.createElement(m.BreadcrumbItem,{isActive:!0},I.name)),r.a.createElement(p.Grid,{gutter:"lg"},r.a.createElement(v.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(b.PageHeaderTitle,{title:I.name})),r.a.createElement(v.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(h.a,{to:"/scappolicies/".concat(I.id,"/edit"),state:{policy:I},hash:a,backgroundLocation:{hash:"details"}},r.a.createElement(f.Button,{variant:"secondary"},"Edit policy")))),r.a.createElement(h.t,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(y.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(y.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(y.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(g.Main,null,r.a.createElement(h.u,{defaultTab:"details"},r.a.createElement(h.d,{eventKey:"details"},r.a.createElement(h.j,{policy:I})),r.a.createElement(h.d,{eventKey:"rules"},r.a.createElement(O,{policy:I})),r.a.createElement(h.d,{eventKey:"systems"},r.a.createElement(R,{policy:I})))))))};t.default=M},663:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),l=n.__importStar(a(1)),i=n.__importDefault(a(50)),r=a(2),s=a(93);t.Breadcrumb=e=>{var{children:a=null,className:o="","aria-label":c="Breadcrumb",ouiaId:d,ouiaSafe:u=!0}=e,m=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);return l.createElement("nav",Object.assign({},m,{"aria-label":c,className:r.css(i.default.breadcrumb,o)},s.getOUIAProps(t.Breadcrumb.displayName,d,u)),l.createElement("ol",{className:i.default.breadcrumbList},l.Children.map(a,(e,t)=>{const a=t>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"},929:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(3),l=n.__importStar(a(1)),i=n.__importDefault(a(13)),r=a(2),s=a(130);var o,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(o=t.PageSectionVariants||(t.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=t.PageSectionTypes||(t.PageSectionTypes={}));const d={[c.default]:i.default.pageMainSection,[c.nav]:i.default.pageMainNav},u={[o.default]:"",[o.light]:i.default.modifiers.light,[o.dark]:i.default.modifiers.dark_200,[o.darker]:i.default.modifiers.dark_100};t.PageSection=e=>{var{className:t="",children:a,variant:o="default",type:c="default",padding:m,isFilled:f,isWidthLimited:p=!1}=e,v=n.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited"]);return l.createElement("section",Object.assign({},v,{className:r.css(d[c],s.formatBreakpointMods(m,i.default),u[o],!1===f&&i.default.modifiers.noFill,!0===f&&i.default.modifiers.fill,p&&i.default.modifiers.limitWidth,t)}),p&&l.createElement("div",{className:r.css(i.default.pageMainBody)},a),!p&&a)},t.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-8806e78de700c580177bc34ba8d7bbd2.js.map