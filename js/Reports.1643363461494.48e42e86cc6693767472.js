"use strict";(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[322],{53754:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(92950);const a=t.n(r)().createContext("light")},86350:(e,n,t)=>{t.d(n,{Z:()=>p});var r=t(92950),a=t.n(r),o=t(94184),i=t.n(o),l=t(28216),c=t(53754),s=function(){return s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},s.apply(this,arguments)},u=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))};const p=(0,l.$j)((function(e){var n=e.routerData;return{params:n&&n.params,path:n&&n.path}}),(function(){return{}}))((function(e){var n=e.path,t=e.params,r=void 0===t?{}:t,o=e.children,l=e.className,p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["path","params","children","className"]),f=function(){var e,t,a;if(null===(a=null===(t=null===(e=null===window||void 0===window?void 0:window.insights)||void 0===e?void 0:e.chrome)||void 0===t?void 0:t.$internal)||void 0===a?void 0:a.store){var o=window.insights.chrome.$internal.store.getState();if(n&&o)return n.split("/").reduce((function(e,n){var t,a;return 0===n.indexOf(":")?e.dynamic=s(s({},e.dynamic),((t={})["data-".concat((a=n.substr(1),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))]=r[n.substr(1)],t)):e.staticPart=u(u([],e.staticPart,!0),""!==n?[n]:[],!0),e}),{staticPart:[o.chrome.appId],dynamic:{}})}return{staticPart:[],dynamic:void 0}}(),d=f.dynamic,m=f.staticPart;return a().createElement(c.Z.Consumer,null,(function(e){var n;void 0===e&&(e="light");var t=i()(((n={})["pf-m-".concat(e)]="dark"===e,n));return{dark:a().createElement("section",s({},p,d,{"page-type":m.join("-"),className:"".concat(i()(l,"pf-l-page__main-section pf-c-page__main-section")," ").concat(t)}),a().Children.map(o,(function(e){return a().cloneElement(e,{className:"pf-m-dark"})}))),light:a().createElement("section",s({},p,d,{"page-type":m.join("-"),className:"".concat(i()(l,"pf-l-page__main-section pf-c-page__main-section"))}),o)}[e]}))}))},48716:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(92950),a=t.n(r),o=t(94184),i=t.n(o),l=t(53754),c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},c.apply(this,arguments)};const s=function(e){var n=e.className,t=e.children,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["className","children"]),o=i()(n,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return a().createElement(l.Z.Consumer,null,(function(e){var n,l;void 0===e&&(e="light");var s=i()(((n={})["pf-m-".concat(e,"-200")]="dark"===e,n),((l={})["pf-m-light"]="light"===e,l));return a().createElement("section",c({},r,{className:"".concat(o," ").concat(s),"widget-type":"InsightsPageHeader"}),t)}))}},39173:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(92950),a=t.n(r),o=t(94184),i=t.n(o),l=t(65832);const c=function(e){var n=e.className,t=e.title,r=i()(n);return a().createElement(l.Title,{headingLevel:"h1",size:"2xl",className:r,"widget-type":"InsightsPageHeaderTitle"},t)}},56455:(e,n,t)=>{t.d(n,{i:()=>s,Z:()=>u});var r=t(92950),a=t.n(r),o=t(65832),i=t(94184),l=t.n(i),c=function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},c.apply(this,arguments)},s={xs:"xs",sm:"sm",md:"md",lg:"lg"};const u=function(e){var n,t=e.size,r=void 0===t?s.md:t,i=e.isDark,u=void 0!==i&&i,p=e.className,f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["size","isDark","className"]);return a().createElement(o.Skeleton,c({className:l()("ins-c-skeleton","ins-c-skeleton__".concat(r),(n={},n["ins-m-dark"]=u,n),p)},f))}},89343:(e,n,t)=>{t.r(n),t.d(n,{Reports:()=>P,default:()=>C});var r,a=t(30168),o=t(92950),i=t.n(o),l=t(334),c=t(90570),s=t(67521),u=t(48716),p=t(39173),f=t(86350),d=t(89091),m=t(56455),y=t(94184),v=t.n(y),h=t(45697),g=t.n(h),b=(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),w=function(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))},O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.createColumns=function(){var e=n.props,t=e.colSize,r=e.isDark;return w([],Array(t),!0).map((function(){return{title:i().createElement(m.Z,{isDark:r,size:m.i.sm})}}))},n.getColumns=function(){var e=n.props,t=e.paddingColumnSize,r=e.columns;return n.newArray(t).map((function(){return""})).concat(r||n.createColumns())},n.createRows=function(){var e=n.props,t=e.colSize,r=e.rowSize,a=e.columns,o=e.paddingColumnSize,l=e.isDark,c=a?a.length:t;return n.newArray(r).map((function(){return{disableSelection:!0,cells:n.newArray(o).map((function(){return""})).concat(n.newArray(c).map((function(){return{title:i().createElement(m.Z,{isDark:l,size:m.i.md})}})))}}))},n.selectVariant=function(){return n.props.hasRadio?(null===d.RowSelectVariant||void 0===d.RowSelectVariant?void 0:d.RowSelectVariant.radio)||"radio":(null===d.RowSelectVariant||void 0===d.RowSelectVariant?void 0:d.RowSelectVariant.checkbox)||"checkbox"},n.newArray=function(e){return w([],Array(e),!0)},n}return b(n,e),n.prototype.render=function(){var e=this.props,n=e.canSelectAll,t=e.isSelectable,r=e.sortBy,a=e.variant,o=e.isDark;return i().createElement(d.Table,{className:v()({"ins-c-skeleton-table__dark":o}),cells:this.getColumns(),rows:this.createRows(),sortBy:r,"aria-label":"Loading",onSelect:t,selectVariant:t?this.selectVariant():null,canSelectAll:n,variant:a},i().createElement(d.TableHeader,null),i().createElement(d.TableBody,null))},n}(i().Component);O.propTypes={colSize:g().number,rowSize:g().number,columns:g().array,paddingColumnSize:g().number,sortBy:g().shape({index:g().number,direction:g().oneOf(["asc","desc"])}),isSelectable:g().bool,canSelectAll:g().bool,hasRadio:g().bool,variant:g().string,isDark:g().bool},O.defaultProps={rowSize:0,paddingColumnSize:0,canSelectAll:!1,isSelectable:!1,hasRadio:!1,variant:null,isDark:!1};const S=O;var E,_=t(69888),k=(0,s.ZP)(E||(E=(0,a.Z)(["\n  query Profiles($filter: String!) {\n    profiles(search: $filter, limit: 1000) {\n      edges {\n        node {\n          id\n          name\n          refId\n          description\n          policyType\n          totalHostCount\n          testResultHostCount\n          compliantHostCount\n          unsupportedHostCount\n          majorOsVersion\n          ssgVersion\n          complianceThreshold\n          businessObjective {\n            id\n            title\n          }\n          policy {\n            id\n            name\n            benchmark {\n              id\n              version\n            }\n          }\n          benchmark {\n            id\n            version\n          }\n        }\n      }\n    }\n  }\n"]))),j=function(){return i().createElement(u.Z,null,i().createElement(p.Z,{title:"Reports"}))},P=function(){var e=[],n=!1,t=(0,l.useLocation)(),r=(0,c.a)(k,{variables:{filter:"has_policy_test_results = true AND external = false"}}),a=r.data,s=r.error,u=r.loading,p=r.refetch;return(0,o.useEffect)((function(){p()}),[t,p]),a&&(e=function(e){var n;return((null==e||null===(n=e.profiles)||void 0===n?void 0:n.edges)||[]).map((function(e){return e.node}))}(a),s=void 0,u=void 0,n=e&&e.length>0),i().createElement(_.tC,{stateValues:{error:s,data:a,loading:u}},i().createElement(_.K7,{stateKey:"loading"},i().createElement(j,null),i().createElement(f.Z,null,i().createElement(S,{colSize:3,rowSize:10}))),i().createElement(_.K7,{stateKey:"data"},i().createElement(j,null),i().createElement(f.Z,null,n?i().createElement(_.Ek,{profiles:e}):i().createElement(_.vm,null))))};const C=P}}]);
//# sourceMappingURL=../sourcemaps/Reports.79ba33a70777ae62d359e9af70c036d5.js.map