(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5,6],{1091:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function d(){}function p(){}function f(){}var m={};m[i]=function(){return this};var y=Object.getPrototypeOf,h=y&&y(y(j([])));h&&h!==t&&n.call(h,i)&&(m=h);var b=f.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=b.constructor=f,f.constructor=p,p.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),g.prototype[a]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new g(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(b),s(b,o,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},1092:function(e,t,n){!function(e,t){"use strict";var n=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},r=function(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.compose;i(this,e);var s=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o;this.store=t.createStore((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return e}),n,s(t.applyMiddleware.apply(void 0,r(a)))),this.reducers={}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getStore",value:function(){return this.store}},{key:"register",value:function(e){this.reducers=c({},this.reducers,{},e),this.store.replaceReducer(t.combineReducers(c({},this.reducers)))}}]),e}(),u=new l;e.ReducerRegistry=l,e.applyReducerHash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0;return Object.prototype.hasOwnProperty.call(e,r.type)?e[r.type](n,r):n}},e.default=l,e.dispatchActionsToStore=function(e,t){return Object.keys(e).reduce((function(n,r){return c({},n,o({},r,(function(){return t&&t.dispatch(e[r].apply(e,arguments))})))}),{})},e.reduxRegistry=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(224))},1093:function(e,t,n){!function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(r||(r={}));const i=e=>{switch(e){case r.sm:return"1em";case r.md:return"1.5em";case r.lg:return"2em";case r.xl:return"3em";default:return"1em"}};let a=0;function o({name:e,xOffset:t=0,yOffset:o=0,width:s,height:c,svgPath:l,transform:u=""}){var d;return(d=class extends n.Component{constructor(){super(...arguments),this.id="icon-title-"+a++}render(){const e=this.props,{size:r,color:a,title:d,noVerticalAlign:p}=e,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(e,["size","color","title","noVerticalAlign"]),m=Boolean(d),y=i(r),h=-.125*Number.parseFloat(y),b=p?null:{verticalAlign:h+"em"},v=[t,o,s,c].join(" ");return n.createElement("svg",Object.assign({style:b,fill:a,height:y,width:y,viewBox:v,"aria-labelledby":m?this.id:null,"aria-hidden":!m||null,role:"img"},f),m&&n.createElement("title",{id:this.id},d),n.createElement("path",{d:l,transform:u}))}}).displayName=e,d.defaultProps={color:"currentColor",size:r.sm,noVerticalAlign:!1},d}var s={CubesIcon:o({name:"CubesIcon",height:512,width:512,svgPath:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z",yOffset:0,xOffset:0,transform:""}),ExclamationTriangleIcon:o({name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0,transform:""})},c={Badge:t.Badge,Bullseye:t.Bullseye,Button:t.Button,Checkbox:t.Checkbox,ClipboardCopy:t.ClipboardCopy,Dropdown:t.Dropdown,DropdownItem:t.DropdownItem,DropdownPosition:t.DropdownPosition,DropdownToggle:t.DropdownToggle,EmptyState:t.EmptyState,EmptyStateBody:t.EmptyStateBody,EmptyStateIcon:t.EmptyStateIcon,EmptyStateVariant:t.EmptyStateVariant,Flex:t.Flex,FlexItem:t.FlexItem,Grid:t.Grid,GridItem:t.GridItem,KebabToggle:t.KebabToggle,Level:t.Level,LevelItem:t.LevelItem,Modal:t.Modal,Pagination:t.Pagination,PaginationVariant:t.PaginationVariant,Split:t.Split,SplitItem:t.SplitItem,Stack:t.Stack,StackItem:t.StackItem,Spinner:t.Spinner,Tab:t.Tab,Tabs:t.Tabs,Title:t.Title,Tooltip:t.Tooltip,Toolbar:t.Toolbar,ToolbarItem:t.ToolbarItem,ToolbarContent:t.ToolbarContent,ToolbarGroup:t.ToolbarGroup,TextInput:t.TextInput,ChipGroup:t.ChipGroup,Chip:t.Chip,DropdownToggleCheckbox:t.DropdownToggleCheckbox,Select:t.Select,SelectOption:t.SelectOption,SelectVariant:t.SelectVariant,SelectGroup:t.SelectGroup,Radio:t.Radio,Drawer:t.Drawer,DrawerPanelContent:t.DrawerPanelContent,DrawerContent:t.DrawerContent,DrawerContentBody:t.DrawerContentBody,DrawerPanelBody:t.DrawerPanelBody,DrawerActions:t.DrawerActions,DrawerHead:t.DrawerHead,DrawerCloseButton:t.DrawerCloseButton,Switch:t.Switch,Form:t.Form,Label:t.Label,FormGroup:t.FormGroup,FormSelect:t.FormSelect,FormSelectOption:t.FormSelectOption};e.reactCore=c,e.reactIcons=s,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(336),n(1))},1094:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=void 0;const r=n(3),i=r.__importStar(n(1));t.ListItem=e=>{var{children:t=null}=e,n=r.__rest(e,["children"]);return i.createElement("li",Object.assign({},n),t)},t.ListItem.displayName="ListItem"},1095:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyStateIcon=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(63));t.EmptyStateIcon=e=>{var{className:t="",icon:n,component:s,variant:c="icon"}=e,l=r.__rest(e,["className","icon","component","variant"]);const u=a.css(o.default.emptyStateIcon,t);return"icon"===c?i.createElement(n,Object.assign({className:u},l,{"aria-hidden":"true"})):i.createElement("div",{className:u},i.createElement(s,null))},t.EmptyStateIcon.displayName="EmptyStateIcon"},1096:function(e,t,n){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.WrenchIcon=n(338).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},1097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=t.ListComponent=t.ListVariant=t.OrderType=void 0;const r=n(3),i=r.__importStar(n(1)),a=r.__importDefault(n(186)),o=n(2);var s,c;!function(e){e.number="1",e.lowercaseLetter="a",e.uppercaseLetter="A",e.lowercaseRomanNumber="i",e.uppercaseRomanNumber="I"}(s=t.OrderType||(t.OrderType={})),function(e){e.inline="inline"}(t.ListVariant||(t.ListVariant={})),function(e){e.ol="ol",e.ul="ul"}(c=t.ListComponent||(t.ListComponent={})),t.List=e=>{var{className:t="",children:n=null,variant:l=null,type:u=s.number,ref:d=null,component:p=c.ul}=e,f=r.__rest(e,["className","children","variant","type","ref","component"]);return p===c.ol?i.createElement("ol",Object.assign({ref:d,type:u},f,{className:o.css(a.default.list,l&&a.default.modifiers[l],t)}),n):i.createElement("ul",Object.assign({ref:d},f,{className:o.css(a.default.list,l&&a.default.modifiers[l],t)}),n)},t.List.displayName="List"},1098:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyStateSecondaryActions=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(63));t.EmptyStateSecondaryActions=e=>{var{children:t=null,className:n=""}=e,s=r.__rest(e,["children","className"]);return i.createElement("div",Object.assign({className:a.css(o.default.emptyStateSecondary,n)},s),t)},t.EmptyStateSecondaryActions.displayName="EmptyStateSecondaryActions"},1099:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wizard=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(148),o=n(2),s=r.__importDefault(n(29)),c=n(1100),l=n(1101),u=n(1102),d=n(894),p=n(898),f=n(1103),m=n(895);class y extends i.Component{constructor(e){super(e),this.handleKeyClicks=e=>{e.keyCode===a.KEY_CODES.ESCAPE_KEY&&(this.state.isNavOpen?this.setState({isNavOpen:!this.state.isNavOpen}):this.props.isOpen&&this.props.onClose())},this.onNext=()=>{const{onNext:e,onClose:t,onSave:n}=this.props,{currentStep:r}=this.state,i=this.getFlattenedSteps();if(r>=i.length)return n?n():t();{const t=r+1;this.setState({currentStep:t});const{id:n,name:a}=i[r-1],{id:o,name:s}=i[t-1];return e&&e({id:o,name:s},{prevId:n,prevName:a})}},this.onBack=()=>{const{onBack:e}=this.props,{currentStep:t}=this.state,n=this.getFlattenedSteps();if(!(n.length<t)){const r=t-1<=0?0:t-1;this.setState({currentStep:r});const{id:i,name:a}=n[r],{id:o,name:s}=n[r-1];return e&&e({id:o,name:s},{prevId:i,prevName:a})}{const e=n.length;this.setState({currentStep:e})}},this.goToStep=e=>{const{onGoToStep:t}=this.props,{currentStep:n}=this.state,r=this.getFlattenedSteps(),i=r.length;e<1?e=1:e>i&&(e=i),this.setState({currentStep:e,isNavOpen:!1});const{id:a,name:o}=r[n-1],{id:s,name:c}=r[e-1];return t&&t({id:s,name:c},{prevId:a,prevName:o})},this.goToStepById=e=>{const t=this.getFlattenedSteps();let n;for(let r=0;r<t.length;r++)if(t[r].id===e){n=r+1;break}n&&this.setState({currentStep:n})},this.goToStepByName=e=>{const t=this.getFlattenedSteps();let n;for(let r=0;r<t.length;r++)if(t[r].name===e){n=r+1;break}n&&this.setState({currentStep:n})},this.getFlattenedSteps=()=>{const{steps:e}=this.props,t=[];for(const n of e)if(n.steps)for(const e of n.steps)t.push(e);else t.push(n);return t},this.getFlattenedStepsIndex=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].name===t)return n+1;return 0},this.initSteps=e=>{for(let t=0;t<e.length;t++){if(e[t].steps)for(let n=0;n<e[t].steps.length;n++)e[t].steps[n]=Object.assign({canJumpTo:!0},e[t].steps[n]);e[t]=Object.assign({canJumpTo:!0},e[t])}return e},this.getElement=e=>"function"==typeof e?e():e||document.body;const t=y.currentId++;this.titleId=e.titleId||"pf-wizard-title-"+t,this.descriptionId=e.descriptionId||"pf-wizard-description-"+t,this.state={currentStep:this.props.startAtStep&&Number.isInteger(this.props.startAtStep)?this.props.startAtStep:1,isNavOpen:!1}}componentDidMount(){const e="undefined"!=typeof document?document.body:null;e&&e.addEventListener("keydown",this.handleKeyClicks,!1)}componentWillUnmount(){const e="undefined"!=typeof document&&document.body||null;e&&e.removeEventListener("keydown",this.handleKeyClicks,!1)}render(){const e=this.props,{width:t,height:n,title:a,description:y,onClose:h,onSave:b,onBack:v,onNext:g,onGoToStep:O,className:E,steps:S,startAtStep:I,nextButtonText:j="Next",backButtonText:T="Back",cancelButtonText:w="Cancel",hideClose:x,closeButtonAriaLabel:P="Close",navAriaLabel:R,navAriaLabelledBy:_,mainAriaLabel:C,mainAriaLabelledBy:k,hasNoBodyPadding:N,footer:D,appendTo:F,isOpen:A,titleId:L,descriptionId:B}=e,V=r.__rest(e,["width","height","title","description","onClose","onSave","onBack","onNext","onGoToStep","className","steps","startAtStep","nextButtonText","backButtonText","cancelButtonText","hideClose","closeButtonAriaLabel","navAriaLabel","navAriaLabelledBy","mainAriaLabel","mainAriaLabelledBy","hasNoBodyPadding","footer","appendTo","isOpen","titleId","descriptionId"]),{currentStep:q}=this.state,z=this.getFlattenedSteps(),M=z.length<q?z.length:q,W=z[M-1],$=this.initSteps(S),G=W===z[0],U=!W||void 0===W.enableNext||W.enableNext,J={goToStepById:this.goToStepById,goToStepByName:this.goToStepByName,onNext:this.onNext,onBack:this.onBack,onClose:h,activeStep:W},K=i.createElement(f.WizardContextProvider,{value:J},i.createElement("div",Object.assign({},V,{className:o.css(s.default.wizard,W&&W.isFinishedStep&&"pf-m-finished",E)},n&&{style:{height:n}}),a&&i.createElement(m.WizardHeader,{titleId:this.titleId,descriptionId:this.descriptionId,onClose:h,title:a,description:y,closeButtonAriaLabel:P,hideClose:x}),i.createElement(u.WizardToggle,{mainAriaLabel:C,isInPage:void 0===A,mainAriaLabelledBy:(a||k)&&(k||this.titleId),isNavOpen:this.state.isNavOpen,onNavToggle:e=>this.setState({isNavOpen:e}),nav:e=>{const t={isOpen:e,"aria-label":R,"aria-labelledby":(a||_)&&(_||this.titleId)};return i.createElement(d.WizardNav,Object.assign({},t),$.map((e,n)=>{if(e.isFinishedStep)return;let r,a;if(e.steps){let o=!1,s=!1;for(const t of e.steps)W.name===t.name&&(o=!0),t.canJumpTo&&(s=!0);return a=this.getFlattenedStepsIndex(z,e.steps[0].name),i.createElement(p.WizardNavItem,{key:n,content:e.name,isCurrent:o,isDisabled:!s,step:a,onNavItemClick:this.goToStep},i.createElement(d.WizardNav,Object.assign({},t,{returnList:!0}),e.steps.map((e,t)=>{if(!e.isFinishedStep)return a=this.getFlattenedStepsIndex(z,e.name),r=e.canJumpTo,i.createElement(p.WizardNavItem,{key:"child_"+t,content:e.name,isCurrent:W.name===e.name,isDisabled:!r,step:a,onNavItemClick:this.goToStep})})))}return a=this.getFlattenedStepsIndex(z,e.name),r=e.canJumpTo,i.createElement(p.WizardNavItem,Object.assign({},e.stepNavItemProps,{key:n,content:e.name,isCurrent:W.name===e.name,isDisabled:!r,step:a,onNavItemClick:this.goToStep}))}))},steps:S,activeStep:W,hasNoBodyPadding:N},D||i.createElement(l.WizardFooterInternal,{onNext:this.onNext,onBack:this.onBack,onClose:h,isValid:U,firstStep:G,activeStep:W,nextButtonText:W&&W.nextButtonText||j,backButtonText:T,cancelButtonText:w}))));return void 0!==A?i.createElement(c.Modal,{isOpen:A,variant:c.ModalVariant.large,"aria-labelledby":this.titleId,"aria-describedby":this.descriptionId,showClose:!1,hasNoBodyWrapper:!0},K):K}}t.Wizard=y,y.displayName="Wizard",y.currentId=0,y.defaultProps={title:null,description:"",className:"",startAtStep:1,nextButtonText:"Next",backButtonText:"Back",cancelButtonText:"Cancel",hideClose:!1,closeButtonAriaLabel:"Close",navAriaLabel:null,navAriaLabelledBy:null,mainAriaLabel:null,mainAriaLabelledBy:null,hasNoBodyPadding:!1,onBack:null,onNext:null,onGoToStep:null,width:null,height:null,footer:null,onClose:()=>{},appendTo:null,isOpen:void 0}},1100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);r.__exportStar(n(672),t),r.__exportStar(n(891),t),r.__exportStar(n(889),t),r.__exportStar(n(890),t),r.__exportStar(n(893),t),r.__exportStar(n(892),t),r.__exportStar(n(887),t)},1101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardFooterInternal=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(29)),s=n(340);t.WizardFooterInternal=({onNext:e,onBack:t,onClose:n,isValid:r,firstStep:c,activeStep:l,nextButtonText:u,backButtonText:d,cancelButtonText:p})=>i.createElement("footer",{className:a.css(o.default.wizardFooter)},i.createElement(s.Button,{variant:s.ButtonVariant.primary,type:"submit",onClick:e,isDisabled:!r},u),!l.hideBackButton&&i.createElement(s.Button,{variant:s.ButtonVariant.secondary,onClick:t,className:a.css(c&&"pf-m-disabled")},d),!l.hideCancelButton&&i.createElement(s.Button,{variant:s.ButtonVariant.link,onClick:n},p)),t.WizardFooterInternal.displayName="WizardFooterInternal"},1102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardToggle=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(29)),s=r.__importDefault(n(714)),c=r.__importDefault(n(381)),l=n(897);t.WizardToggle=({isNavOpen:e,onNavToggle:t,nav:n,steps:r,activeStep:u,children:d,hasNoBodyPadding:p=!1,"aria-label":f="Wizard Toggle",mainAriaLabelledBy:m=null,mainAriaLabel:y=null,isInPage:h=!0})=>{let b,v,g;for(let e=0;e<r.length;e++){if(u.id&&r[e].id===u.id||r[e].name===u.name){b=e+1,v=r[e].name;break}if(r[e].steps)for(const t of r[e].steps)if(u.id&&t.id===u.id||t.name===u.name){b=e+1,v=r[e].name,g=t.name;break}}return i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>t(!e),className:a.css(o.default.wizardToggle,e&&"pf-m-expanded"),"aria-label":f,"aria-expanded":e},i.createElement("ol",{className:a.css(o.default.wizardToggleList)},i.createElement("li",{className:a.css(o.default.wizardToggleListItem)},i.createElement("span",{className:a.css(o.default.wizardToggleNum)},b)," ",v,g&&i.createElement(s.default,{className:a.css(o.default.wizardToggleSeparator),"aria-hidden":"true"})),g&&i.createElement("li",{className:a.css(o.default.wizardToggleListItem)},g)),i.createElement("span",{className:a.css(o.default.wizardToggleIcon)},i.createElement(c.default,{"aria-hidden":"true"}))),i.createElement("div",{className:a.css(o.default.wizardOuterWrap)},i.createElement("div",{className:a.css(o.default.wizardInnerWrap)},n(e),i.createElement(l.WizardBody,{mainComponent:h?"div":"main","aria-label":y,"aria-labelledby":m,hasNoBodyPadding:p},u.component)),d))},t.WizardToggle.displayName="WizardToggle"},1103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardContextConsumer=t.WizardContextProvider=t.WizardContext=void 0;const r=n(3).__importStar(n(1));t.WizardContext=r.createContext({goToStepById:()=>null,goToStepByName:()=>null,onNext:()=>null,onBack:()=>null,onClose:()=>null,activeStep:{name:null}}),t.WizardContextProvider=t.WizardContext.Provider,t.WizardContextConsumer=t.WizardContext.Consumer},1104:function(e,t,n){var r=n(442),i=n(1105),a=n(906),o=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,p,f,m=0,y=!1,h=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,m=t,d=e.apply(r,n)}function g(e){return m=e,p=setTimeout(E,t),y?v(e):d}function O(e){var n=e-f;return void 0===f||n>=t||n<0||h&&e-m>=u}function E(){var e=i();if(O(e))return S(e);p=setTimeout(E,function(e){var n=t-(e-f);return h?s(n,u-(e-m)):n}(e))}function S(e){return p=void 0,b&&c?v(e):(c=l=void 0,d)}function I(){var e=i(),n=O(e);if(c=arguments,l=this,f=e,n){if(void 0===p)return g(f);if(h)return clearTimeout(p),p=setTimeout(E,t),v(f)}return void 0===p&&(p=setTimeout(E,t)),d}return t=a(t)||0,r(n)&&(y=!!n.leading,u=(h="maxWait"in n)?o(a(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),I.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=f=l=p=void 0},I.flush=function(){return void 0===p?d:S(i())},I}},1105:function(e,t,n){var r=n(711);e.exports=function(){return r.Date.now()}},678:function(e,t,n){"use strict";var r=n(177),i=n(31),a=function(e,t){var n="enable"===e;n?(console.log("Setting feature value for ".concat(t," to ").concat(n)),localStorage.setItem("".concat("insights:compliance",":").concat(t),n)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=r.f[e];if(e){var n,o,s,c;n=Object(i.l)(),o=n.search,s=n.pathName,c=Object(i.k)(),o&&(new URLSearchParams(o).forEach(a),c.push(s));var l=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(l)),l}}},679:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return g}));var r=n(666),i=n.n(r),a=n(663),o=n.n(a);function s(){var e=i()(["\nmutation DeleteReport($input: deleteTestResultsInput!) {\n    deleteTestResults(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return s=function(){return e},e}function c(){var e=i()(["\nmutation DeleteProfile($input: deleteProfileInput!) {\n    deleteProfile(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return c=function(){return e},e}function l(){var e=i()(["\nmutation createBusinessObjective($input: createBusinessObjectiveInput!) {\n    createBusinessObjective(input: $input) {\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return l=function(){return e},e}function u(){var e=i()(["\nmutation UpdateProfile($input: UpdateProfileInput!) {\n    updateProfile(input: $input) {\n        profile {\n            id,\n            name,\n            complianceThreshold,\n            businessObjectiveId,\n            description\n        }\n    }\n}\n"]);return u=function(){return e},e}function d(){var e=i()(["\nmutation associateProfiles($input: associateProfilesInput!) {\n    associateProfiles(input: $input) {\n        system {\n            id\n            name\n            profiles {\n                id\n                name\n            }\n        }\n    }\n}\n"]);return d=function(){return e},e}function p(){var e=i()(["\nmutation associateSystems($input: associateSystemsInput!) {\n    associateSystems(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return p=function(){return e},e}function f(){var e=i()(["\nmutation CreateProfile($input: createProfileInput!) {\n    createProfile(input: $input) {\n        profile {\n            id\n        }\n    }\n}\n"]);return f=function(){return e},e}var m=o()(f()),y=o()(p()),h=(o()(d()),o()(u())),b=o()(l()),v=o()(c()),g=o()(s())},701:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(372);function i(e){return Object(r.a)().dispatch(e)}},702:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return q.b})),n.d(t,"b",(function(){return le}));n(910);var r,i=n(136),a=n.n(i),o=n(726),s=n.n(o),c=n(333),l=n.n(c),u=n(727),d=n.n(u),p=n(688),f=n.n(p),m=n(676),y=n.n(m),h=n(682),b=n.n(h),v=n(689),g=n.n(v),O=n(690),E=n.n(O),S=n(691),I=n.n(S),j=n(1),T=n.n(j),w=n(20),x=n.n(w),P=n(175),R=n(336),_=n(669),C=n(188),k=n(445),N=n(684),D=n(376);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I()(e);if(t){var i=I()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E()(this,n)}}var B=n.n(D)()()(r=function(e){g()(r,e);var t,n=L(r);function r(e){var t;return f()(this,r),(t=n.call(this,e)).state={InventoryCmp:function(){return T.a.createElement(N.Skeleton,{size:N.SkeletonSize.md})},InvWrapper:T.a.Fragment},t.fetchInventory=t.fetchInventory.bind(b()(t)),t.fetchInventory(),t}return y()(r,[{key:"fetchInventory",value:(t=d()(s.a.mark((function e(){var t,n,r,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({ReactRedux:C,react:T.a,reactRouterDom:P,pfReact:R,reactIcons:k,pfReactTable:_});case 2:t=e.sent,n=t.inventoryConnector,r=t.mergeWithDetail,this.getRegistry().register(A({},r())),this.setState((function(){return{InventoryCmp:n(i.props.store).InventoryDetail,InvWrapper:n(i.props.store).DetailWrapper}}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.InventoryCmp,n=e.InvWrapper||T.a.Fragment;return T.a.createElement(n,null,T.a.createElement(t,{hideBack:!0}))}}]),r}(T.a.Component))||r;B.propTypes={entity:x.a.object,store:x.a.object};var V=function(e){return T.a.createElement(B,a()({},e,{store:C.useStore()}))},q=n(766),z=(n(913),n(819),n(916),n(821),n(674)),M=n.n(z),W=n(668),$=n.n(W),G=n(825),U=n(764),J=n(729),K=n(728),H=n(817),Y=n(908),Q=n(177),X=n(1104),Z=n.n(X),ee=n(661),te=n(725),ne=n(743),re=n(671),ie=n(818),ae=n(881);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){var t=e.columns,n=e.showAllSystems,r=e.policyId,i=e.query,o=e.client,c=e.showActions,l=e.enableExport,u=e.compliantFilter,p=e.policies,f=e.showOnlySystemsWithTestResults,m=e.showOsFilter,y=e.error,h=e.showComplianceSystemsInfo,b=e.compact,v=e.remediationsEnabled,g=e.systemProps,O=e.defaultFilter,E=Object(C.useStore)(),S=Object(C.useDispatch)(),I=Object(j.useRef)(null),w=Object(j.useState)({perPage:50,page:1}),x=$()(w,2),P=x[0],R=x[1],_=Object(j.useState)(),k=$()(_,2),N=k[0],F=k[1],A=Object(j.useState)(!1),L=$()(A,2),B=L[0],V=L[1],q=Object(ae.a)([].concat(M()(Q.c),M()(u?Q.b:[]),M()((null==p?void 0:p.length)>0?Object(J.d)(p,m):[]))),z=q.conditionalFilter,W=q.activeFilters,G=q.buildFilterString,X=Object(C.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.systemsCount}))||0,oe=Object(C.useSelector)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.entities;return(null==n||null===(e=n.systems)||void 0===e?void 0:e.map((function(e){var t;return null==e||null===(t=e.node)||void 0===t?void 0:t.id})))||[]}),C.shallowEqual),ce=Object(C.useSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entities;return(null==t?void 0:t.selectedEntities)||[]}),C.shallowEqual),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;V(!1);var n=G();return o.query({query:i,fetchResults:!0,fetchPolicy:"no-cache",variables:se({filter:[].concat(M()(O?[O]:[]),M()(f?["has_test_results = true"]:[]),M()((null==n?void 0:n.length)>0?[n]:[])).join(" and "),perPage:e,page:t},r&&{policyId:r})}).then((function(n){var r=n.data,i=n.loading;return S({type:"UPDATE_SYSTEMS",systems:r.systems.edges,systemsCount:r.systems.totalCount}),V(!0),R((function(){return{page:t,perPage:e}})),{data:r,loading:i}}))},ue=Object(j.useCallback)(Z()(le,800),[z.activeFiltersConfig.filters]);Object(j.useEffect)((function(){d()(s.a.mark((function e(){var i,a,o,c,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.c)();case 2:i=e.sent,a=i.INVENTORY_ACTION_TYPES,o=i.inventoryConnector,c=i.mergeWithEntities,Object(D.getRegistry)().register(se({},c(Object(K.e)(a,t,n,r)))),l=o(E),u=l.InventoryTable,F((function(){return u}));case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(j.useEffect)((function(){z.activeFiltersConfig.filters&&ue(P.perPage,1)}),[W]);return T.a.createElement(ee.z,{stateValues:{error:y,noError:void 0===y}},T.a.createElement(ee.A,{stateKey:"error"},T.a.createElement(ee.e,{error:y})),T.a.createElement(ee.A,{stateKey:"noError"},h&&T.a.createElement(te.Alert,{isInline:!0,variant:"info",title:"The list of systems in this view is different than those that appear in the Inventory. Only systems previously or currently associated with compliance policies are displayed."}),N?T.a.createElement(N,a()({},g,{tableProps:{canSelectAll:!1},variant:b?ne.b.compact:"",ref:I,onRefresh:function(e,t){i&&le(e.per_page,e.page),!t&&I&&I.current?I.current.onRefreshData(e):t&&t(e)},bulkSelect:{checked:ce.length>0&&(!(null==oe||!oe.every((function(e){return null==ce?void 0:ce.find((function(t){return(null==t?void 0:t.id)===e}))})))||null),onSelect:function(e){return S(e?Object(H.e)():Object(H.c)())},count:ce.length,label:ce.length>0?"".concat(ce.length," Selected"):void 0}},!n&&se(se(se({},P),{},{isLoaded:B,items:oe,total:X},z),v&&{dedicatedAction:T.a.createElement(re.ComplianceRemediationButton,{allSystems:Object(ie.c)(ce),selectedRules:[]})}),l&&{exportConfig:{isDisabled:0===X&&0===ce.length,onSelect:function(e,t){var n;return Object(Y.a)(null===(n=E.getState())||void 0===n?void 0:n.entities,t)}}},c&&{actions:[{title:"View in inventory",onClick:function(e,t,n){var r=n.id,i="beta"===window.location.pathname.split("/")[1];window.location.href="".concat(window.location.origin).concat(i?"/beta":"","/insights/inventory/").concat(r)}}]})):T.a.createElement(U.SkeletonTable,{colSize:2,rowSize:15})))};ce.propTypes={columns:x.a.arrayOf(x.a.shape({})),policies:x.a.arrayOf(x.a.shape({})),client:x.a.object,showAllSystems:x.a.bool,policyId:x.a.string,query:x.a.string,showActions:x.a.bool,enableExport:x.a.bool,compliantFilter:x.a.bool,showOnlySystemsWithTestResults:x.a.bool,showOsFilter:x.a.bool,showComplianceSystemsInfo:x.a.bool,error:x.a.object,compact:x.a.bool,remediationsEnabled:x.a.bool,defaultFilter:x.a.string,systemProps:x.a.shape({isFullView:x.a.bool})},ce.defaultProps={policyId:"",showActions:!0,enableExport:!0,compliantFilter:!1,showOnlySystemsWithTestResults:!1,showComplianceSystemsInfo:!1,compact:!1,remediationsEnabled:!0};var le=Object(G.a)(ce)},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertVariant=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(1),o=n(2),s=r.__importDefault(n(93)),c=r.__importDefault(n(100)),l=n(814),u=n(83),d=n(815),p=r.__importDefault(n(816)),f=n(225);var m;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(m=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:n=m.default,isInline:y=!1,isLiveRegion:h=!1,variantLabel:b=u.capitalize(n)+" alert:","aria-label":v=u.capitalize(n)+" Alert",actionClose:g,actionLinks:O,title:E,children:S="",className:I="",ouiaId:j,ouiaSafe:T=!0,timeout:w=!1,onTimeout:x,truncateTitle:P=0,tooltipPosition:R,customIcon:_}=e,C=r.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","onTimeout","truncateTitle","tooltipPosition","customIcon"]);const k=u.useOUIAProps(t.Alert.displayName,j,T,n),N=i.createElement(i.Fragment,null,i.createElement("span",{className:o.css(c.default.screenReader)},b),E),[D,F]=a.useState(!1),[A,L]=a.useState(!1),B=i.useRef(null);i.useEffect(()=>{if(!B.current||!P)return;B.current.style.setProperty(p.default.name,P.toString());const e=B.current&&B.current.offsetHeight<B.current.scrollHeight;A!==e&&L(e)},[B,P,A]);const V=o.css(s.default.alert,y&&s.default.modifiers.inline,n!==m.default&&s.default.modifiers[n],I),q=i.createElement("h4",Object.assign({},A&&{tabIndex:0},{ref:B,className:o.css(s.default.alertTitle,P&&s.default.modifiers.truncate)}),N);return!1===D&&w&&0!==w&&setTimeout(()=>{F(!0),x&&x()},!0===w?8e3:w),!1===D?i.createElement("div",Object.assign({},C,{className:V,"aria-label":v},k,h&&{"aria-live":"polite","aria-atomic":"false"}),i.createElement(l.AlertIcon,{variant:n,customIcon:_}),A?i.createElement(f.Tooltip,{content:N,position:R},q):q,g&&i.createElement(d.AlertContext.Provider,{value:{title:E,variantLabel:b}},i.createElement("div",{className:o.css(s.default.alertAction)},g)),S&&i.createElement("div",{className:o.css(s.default.alertDescription)},S),O&&i.createElement("div",{className:o.css(s.default.alertActionGroup)},O)):null},t.Alert.displayName="Alert"},726:function(e,t,n){e.exports=n(1091)},727:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}},728:function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return M})),n.d(t,"b",(function(){return W}));var r=n(333),i=n.n(r),a=n(674),o=n.n(a),s=n(1),c=n.n(s),l=n(1092),u=n(909),d=n(175),p=n(817),f=n(908),m=n(661),y=n(439),h=n(655),b=n(660),v=n(818),g=n(751),O=n(384);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.testResultProfiles,n=(void 0===t?[]:t).map((function(e){return new Date(e.lastScanned)})),r=new Date(Math.max.apply(null,n.filter((function(e){return isFinite(e)}))));return r instanceof Date&&isFinite(r)?r:"Never"},j=function(e){var t=e.testResultProfiles;return(void 0===t?[]:t).every((function(e){return"Never"===e.lastScanned||!0===e.compliant}))},T=function(e){var t=e.testResultProfiles,n=void 0===t?[]:t,r=n.reduce((function(e,t){return e+t.score}),0),i=n.reduce((function(e,t){return Object(v.b)([t]).length+Object(v.a)([t]).length>0?e+1:e}),0);return i?r/i:0},w=function(e){var t=e.testResultProfiles;return(void 0===t?[]:t).reduce((function(e,t){return e&&t.supported}),!0)},x=function(e){if(e==={})return"";var t=e.policies.map((function(e){return e.name})),n=e.testResultProfiles.filter((function(e){return!e.policy})).map((function(e){var t=e.name;return"(External) ".concat(t)}));return[].concat(o()(t),o()(n)).join(", ")},P=function(e){var t=e.policyNames;return{title:t?c.a.createElement(y.Tooltip,{content:t},c.a.createElement(g.default,{lines:2,width:540},t)):c.a.createElement(h.Text,{className:"grey-icon"},"No policies"),exportValue:t}},R=function(e){if(e.testResultProfiles&&e.testResultProfiles.length>0)return{title:c.a.createElement(d.Link,{to:{pathname:"/systems/".concat(e.id)}},"View report")}},_=function(e){return void 0!==e.osMajorVersion&&void 0!==e.osMinorVersion&&null!==e.osMajorVersion&&null!==e.osMinorVersion&&!(0===e.osMajorVersion&&0===e.osMinorVersion)},C=function(e,t){return{title:c.a.createElement(b.TextContent,null,t.name?c.a.createElement(d.Link,{to:{pathname:"/systems/".concat(t.id)}},t.name):e.display_name,_(t)&&c.a.createElement(h.Text,{component:h.TextVariants.small},"RHEL ",t.osMajorVersion,".",t.osMinorVersion)),exportValue:e.display_name||t.name}},k=function(e,t,n){var r=n.osMajorVersion,i=n.osMinorVersion,a=n.name;return c.a.createElement(b.TextContent,null,c.a.createElement(d.Link,{to:{pathname:"/systems/".concat(t)}},e||a),_({osMajorVersion:r,osMinorVersion:i})&&c.a.createElement(h.Text,{component:h.TextVariants.small},"RHEL ",r,".",i))},N=function(e,t){return!!(t||[]).find((function(t){return t.id===e}))},D=function(e){var t=e.testResultProfiles;return(void 0===t?[]:t).map((function(e){return e.ssgVersion})).filter((function(e){return!!e})).join(", ")},F=function(e,t,n,r){return t.map((function(t){void 0===t.facts&&(t.facts={});var i=e.map((function(e){return e.node})).find((function(e){return t.id===e.id}));if(void 0===i){if(!n)return;i={testResultProfiles:[],policies:[]}}return i.policyNames=x(i),i.rulesPassed=Object(v.b)(i.testResultProfiles).length,i.rulesFailed=Object(v.a)(i.testResultProfiles).length,i.lastScanned=I(i),i.compliant=j(i),i.score=T(i),i.supported=w(i),{id:t.id,selected:N(t.id,r),account:t.account,bios_uuid:t.bios_uuid,created:t.created,display_name:t.display_name||i.name,fqdn:t.fqdn,insights_id:t.insights_id,ip_addresses:t.ip_addresses,mac_addresses:t.mac_addresses,rhel_machine_id:t.rhel_machine_id,satellite_id:t.satellite_id,subscription_manager_id:t.subscription_manager_id,tags:t.tags,updated:t.updated,facts:{inventory:{hostname:void 0!==t.facts.inventory?t.facts.inventory.hostname:t.facts.hostname,machine_id:void 0!==t.facts.inventory?t.facts.inventory.machine_id:t.facts.machine_id,release:void 0!==t.facts.inventory?t.facts.inventory.release:t.facts.release},compliance:{display_name:C(t,i),policies:P(i),details_link:R(i),rules_passed:i.rulesPassed,rules_failed:{title:c.a.createElement(d.Link,{to:{pathname:"/systems/".concat(i.id),query:{hidePassed:!0}}},i.rulesFailed)},rules_failed_text:i.rulesFailed,compliance_score:Object(m.c)(i),compliance_score_text:Object(m.H)(i),last_scanned:i.lastScanned instanceof Date?{title:c.a.createElement(u.DateFormat,{date:Date.parse(i.lastScanned),type:"relative"})}:i.lastScanned,last_scanned_text:i.lastScanned,ssg_version:D(i),supported:i.supported}}}})).filter((function(e){return!!e}))},A=function(e,t){var n=e.rows.filter((function(n){return t.includes(n.id)&&!(e.selectedEntities||[]).map((function(e){return e.id})).includes(n.id)}));return S(S({},e),{},{selectedEntities:(e.selectedEntities||[]).concat(n)})},L=function(e,t){return S(S({},e),{},{selectedEntities:(e.selectedEntities||[]).filter((function(e){return!t.includes(e.id)}))})},B=function(e){return A(e,e.rows.map((function(e){return e.id})))},V=function(e){return L(e,e.rows.map((function(e){return e.id})))},q=function(e,t){return A(e,[t])},z=function(e,t){return L(e,[t])},M=function(e,t,n){var r;return Object(l.applyReducerHash)((r={},i()(r,"UPDATE_SYSTEMS",(function(e,t){var n=t.systems,r=t.systemsCount;return S(S({},e),{},{systems:n,systemsCount:r})})),i()(r,e.LOAD_ENTITIES_FULFILLED,(function(e){var r;return S(S({},e),{},{total:n?e.total:e.systemsCount,rows:Object(O.mergeArraysByKey)([e.rows.map((function(t){return S(S({},t),{},{selected:N(t.id,e.selectedEntities)})})),null===(r=e.systems)||void 0===r?void 0:r.map((function(e){var t=e.node;return S(S(S({},t),n&&{testResultProfiles:[],policies:[]}),{},{policyNames:x({policies:null==t?void 0:t.policies,testResultProfiles:[]}),rulesPassed:Object(v.b)(t.testResultProfiles).length,rulesFailed:Object(v.a)(t.testResultProfiles).length,lastScanned:I(t),compliant:j(t),score:T(t),supported:w(t),ssgVersion:D(t),detailsLink:R(t)})}))]),columns:e.total>0?t:[{title:""}]})})),i()(r,p.b,(function(e,t){var n,r=t.payload,i=r.id,a=r.selected,o=r.clearAll;return(0===(n=0===i?a?B(e):V(e):a?q(e,i):z(e,i)).selectedEntities.length||o)&&(n.selectedEntities=void 0),n})),i()(r,"SELECT_ENTITIES",(function(e,t){return{selectedEntities:t.payload.ids}})),r))},W=function(e,t,n){var r;return Object(l.applyReducerHash)((r={},i()(r,"UPDATE_SYSTEMS",(function(e,t){var n=t.systems,r=t.systemsCount;return S(S({},e),{},{systems:n,systemsCount:r})})),i()(r,"UPDATE_ROWS",(function(e){return S(S({},e),{},{loaded:!0,rows:F(e.systems||[],e.rows||[],n,e.selectedEntities)})})),i()(r,e.LOAD_ENTITIES_FULFILLED,(function(e){return S(S({},e),{},{rows:F(e.systems||[],e.rows,n,e.selectedEntities),total:n?e.total:e.systemsCount,columns:e.total>0?t:[{title:""}]})})),i()(r,p.a,(function(e,t){var n=t.payload.format;return Object(f.a)(e,n),e})),i()(r,p.b,(function(e,t){var n,r=t.payload,i=r.id,a=r.selected,o=r.clearAll;return(0===(n=0===i?a?B(e):V(e):a?q(e,i):z(e,i)).selectedEntities.length||o)&&(n.selectedEntities=void 0),n})),i()(r,"SELECT_ENTITIES",(function(e,t){return{selectedEntities:t.payload.ids}})),r))}},729:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return R}));var r=n(674),i=n.n(r),a=n(666),o=n.n(a),s=n(1),c=n.n(s),l=n(175),u=n(188),d=n(833),p=n(914),f=n(917),m=n(743),y=n(741),h=n(740),b=n(706),v=n(822),g=n(707),O=n(1093),E=n(663),S=n.n(E),I=(n(754),n(177));function j(){var e=o()(["\nquery getSystems($filter: String!, $policyId: ID, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                testResultProfiles(policyId: $policyId) {\n                    id\n                    name\n                    lastScanned\n                    external\n                    compliant\n                    score\n                    supported\n                    ssgVersion\n                    policy {\n                        id\n                    }\n                }\n                policies(policyId: $policyId) {\n                    id\n                    name\n                }\n            }\n        }\n    }\n}\n"]);return j=function(){return e},e}function T(){var e=o()(["\nquery getSystems($filter: String!, $policyId: ID, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                testResultProfiles(policyId: $policyId) {\n                    id\n                    name\n                    refId\n                    lastScanned\n                    compliant\n                    external\n                    score\n                    supported\n                    ssgVersion\n                    rules {\n                        refId\n                        title\n                        compliant\n                        remediationAvailable\n                    }\n                }\n                policies(policyId: $policyId) {\n                    id\n                    name\n                }\n            }\n        }\n    }\n}\n"]);return T=function(){return e},e}var w=function(){return insights.loadInventory({ReactRedux:u,React:c.a,reactRouterDom:l,pfReactTable:{Table:d.a,TableBody:p.a,TableHeader:f.a,TableGridBreakpoint:m.a,cellWidth:y.a,TableVariant:m.b,sortable:h.a,expandable:b.b,SortByDirection:v.a,classNames:g.b},pfReact:O.reactCore})},x=S()(T()),P=S()(j()),R=function(e,t){return[].concat(i()(Object(I.h)(e)),i()(t?Object(I.g)(e):[]))}},730:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(222);var i=n(440),a=n(438),o=n(441),s=r(n(1)),c=r(n(20)),l=r(n(667)),u=function(e){var t=e.centered,n=e.className,r=o._objectWithoutProperties(e,["centered","className"]),c=l("ins-c-spinner",a._defineProperty({},"ins-m-center",t),n);return s.createElement("div",i._extends({role:"status",className:c},r),s.createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};u.propTypes={centered:c.bool,className:c.string},t.Spinner=u},764:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(222),n(440);var i=n(438);n(441);var a=r(n(1)),o=r(n(20));n(667),n(344);var s=n(444),c=n(443),l=n(669),u=n(684);function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var p=function(e){c._inherits(n,e);var t=function(e){return function(){var t,n=c._getPrototypeOf(e);if(d()){var r=c._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c._possibleConstructorReturn(this,t)}}(n);function n(){var e;c._classCallCheck(this,n);for(var r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return e=t.call.apply(t,[this].concat(o)),i._defineProperty(c._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return s._toConsumableArray(Array(t)).map((function(){return{title:a.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),i._defineProperty(c._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,r=t.columns;return e.newArray(n).map((function(){return""})).concat(r||e.createColumns())})),i._defineProperty(c._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,r=t.rowSize,i=t.columns,o=t.paddingColumnSize,s=i?i.length:n;return e.newArray(r).map((function(){return{disableSelection:!0,cells:e.newArray(o).map((function(){return""})).concat(e.newArray(s).map((function(){return{title:a.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),i._defineProperty(c._assertThisInitialized(e),"selectVariant",(function(){return e.props.hasRadio?(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.radio)||"radio":(null===l.RowSelectVariant||void 0===l.RowSelectVariant?void 0:l.RowSelectVariant.checkbox)||"checkbox"})),i._defineProperty(c._assertThisInitialized(e),"newArray",(function(e){return s._toConsumableArray(Array(e))})),e}return c._createClass(n,[{key:"render",value:function(){var e=this.props,t=e.canSelectAll,n=e.isSelectable,r=e.sortBy;return a.createElement(l.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:r,"aria-label":"Loading",onSelect:n,selectVariant:n?this.selectVariant():null,canSelectAll:t},a.createElement(l.TableHeader,null),a.createElement(l.TableBody,null))}}]),n}(a.Component);p.propTypes={colSize:o.number,rowSize:o.number,columns:o.array,paddingColumnSize:o.number,sortBy:o.shape({index:o.number,direction:o.oneOf(["asc","desc"])}),isSelectable:o.bool,canSelectAll:o.bool,hasRadio:o.bool},p.defaultProps={rowSize:0,paddingColumnSize:0,canSelectAll:!1,isSelectable:!1,hasRadio:!1},t.SkeletonTable=p},766:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne}));var r=n(136),i=n.n(r),a=n(726),o=n.n(a),s=n(727),c=n.n(s),l=n(696),u=n.n(l),d=n(688),p=n.n(d),f=n(676),m=n.n(f),y=n(682),h=n.n(y),b=n(689),v=n.n(b),g=n(690),O=n.n(g),E=n(691),S=n.n(E),I=n(333),j=n.n(I),T=n(674),w=n.n(T),x=n(666),P=n.n(x),R=n(754),_=n.n(R),C=n(1),k=n.n(C),N=n(20),D=n.n(N),F=n(175),A=n(336),L=n(412),B=n(445),V=n(669),q=n(743),z=n(188),M=n(825),W=n(663),$=n.n(W),G=n(764),U=n(671),J=n(376),K=n.n(J),H=n(661),Y=n(817),Q=n(818),X=n(728),Z=n(177),ee=function(e){var t=e.supported,n=e.ssgVersion;return n||(n="Not available"),t?n:k.a.createElement(H.E,{messageVariant:"singular"},n)};ee.propTypes={supported:D.a.bool,ssgVersion:D.a.string};var te,ne={SSGVersion:ee};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var i=S()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}function oe(){var e=P()(["\nquery getSystems($filter: String!, $policyId: ID, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                testResultProfiles(policyId: $policyId) {\n                    id\n                    name\n                    lastScanned\n                    external\n                    compliant\n                    score\n                    supported\n                    ssgVersion\n                    policy {\n                        id\n                    }\n                }\n                policies(policyId: $policyId) {\n                    id\n                    name\n                }\n            }\n        }\n    }\n}\n"]);return oe=function(){return e},e}function se(){var e=P()(["\nquery getSystems($filter: String!, $policyId: ID, $perPage: Int, $page: Int) {\n    systems(search: $filter, limit: $perPage, offset: $page) {\n        totalCount\n        edges {\n            node {\n                id\n                name\n                osMajorVersion\n                osMinorVersion\n                testResultProfiles(policyId: $policyId) {\n                    id\n                    name\n                    refId\n                    lastScanned\n                    compliant\n                    external\n                    score\n                    supported\n                    ssgVersion\n                    rules {\n                        refId\n                        title\n                        compliant\n                        remediationAvailable\n                    }\n                }\n                policies(policyId: $policyId) {\n                    id\n                    name\n                }\n            }\n        }\n    }\n}\n"]);return se=function(){return e},e}var ce=$()(se()),le=$()(oe()),ue=function(e){return _()(e.initialDefaultState(),(function(e){return!!e}))},de={page:1},pe=function(e,t){return[].concat(w()(Object(Z.h)(e)),w()(t?Object(Z.g)(e):[]))},fe=K()()(te=function(e){v()(r,e);var t,n=ae(r);function r(){var e;p()(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),j()(h()(e),"inventory",k.a.createRef()),j()(h()(e),"filterConfig",new U.FilterConfigBuilder([].concat(w()(Z.c),w()(e.props.compliantFilter?Z.b:[]),w()(e.props.policies&&e.props.policies.length>0?pe(e.props.policies,e.props.showOsFilter):[])))),j()(h()(e),"chipBuilder",e.filterConfig.getChipBuilder()),j()(h()(e),"filterBuilder",e.filterConfig.getFilterBuilder()),j()(h()(e),"state",ie(ie({},de),{},{InventoryCmp:null,policyId:e.props.policyId,perPage:50,totalCount:0,activeFilters:ue(e.filterConfig)})),j()(h()(e),"componentDidMount",(function(){var t=e.props,n=t.clearAll,r=t.selectedEntities;r&&r.length>0&&n(),(e.props.preselectedSystems?Promise.resolve(e.props.selectEntities(e.props.preselectedSystems)):Promise.resolve()).then((function(){e.updateSystems().then((function(){return e.fetchInventory()}))}))})),j()(h()(e),"componentDidUpdate",(function(t){t.complianceThreshold!==e.props.complianceThreshold&&e.updateSystems()})),j()(h()(e),"onRefresh",(function(t){var n=t.page,r=t.per_page,i=u()(t,["page","per_page"]);e.props.showAllSystems&&e.inventory&&e.inventory.current?e.setState({page:n,perPage:r},(function(){e.inventory.current.onRefreshData(ie(ie({page:n,perPage:r},i),{},{per_page:r}))})):e.setState({page:n,perPage:r},(function(){return e.updateSystems().then((function(){e.inventory&&e.inventory.current&&e.inventory.current.onRefreshData(ie(ie({page:n,perPage:r},i),{},{per_page:r}))}))}))})),j()(h()(e),"fetchSystems",(function(){var t=e.props,n=t.defaultFilter,r=t.client,i=t.showOnlySystemsWithTestResults,a=t.remediationsEnabled,o=e.state,s=o.policyId,c=o.perPage,l=o.page,u=o.activeFilters,d={filter:[n,i&&"has_test_results = true",e.filterBuilder.buildFilterString(u)].filter((function(e){return!!e})).join(" and "),perPage:c,page:l,policyId:s};return r.query({query:a?ce:le,fetchResults:!0,fetchPolicy:"no-cache",variables:d})})),j()(h()(e),"updateSystems",(function(){var t=e.props.systems.map((function(e){return e.node.id})).sort();return e.fetchSystems().then((function(t){return e.props.updateSystems({systems:t.data.systems.edges,systemsCount:t.data.systems.totalCount})})).then((function(){var n=e.props.systems.map((function(e){return e.node.id})).sort();JSON.stringify(n)===JSON.stringify(t)&&e.props.updateRows()})).catch((function(t){e.setState((function(e){return ie(ie({},e),{},{error:t})}))}))})),j()(h()(e),"onExportSelect",(function(t,n){return e.props.exportFromState(n)})),j()(h()(e),"onFilterUpdate",(function(t,n){e.props.updateSystems({systems:[],systemsCount:0}),e.setState(ie(ie({},de),{},{activeFilters:ie(ie({},e.state.activeFilters),{},j()({},t,n))}),e.updateSystems)})),j()(h()(e),"deleteFilter",(function(t){var n=e.filterConfig.removeFilterWithChip(t,e.state.activeFilters);e.setState(ie(ie({},de),{},{activeFilters:n}),e.updateSystems)})),j()(h()(e),"clearAllFilter",(function(){e.setState(ie(ie({},de),{},{activeFilters:ue(e.filterConfig)}),e.updateSystems)})),j()(h()(e),"onFilterDelete",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r?e.clearAllFilter():e.deleteFilter(n[0])})),j()(h()(e),"onBulkSelect",(function(){var t=e.props,n=t.selectedEntities,r=t.selectAll,i=t.clearSelection,a=t.allSelectedOnPage;0===n.length||n.length>0&&!a?r():i()})),j()(h()(e),"isExportDisabled",(function(){var t=e.props,n=t.total,r=t.selectedEntities;return 0===(n||0)&&0===r.length})),e}return m()(r,[{key:"fetchInventory",value:(t=c()(o.a.mark((function e(){var t,n,r,i,a,s,c,l,u=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.columns,r=t.showAllSystems,i=t.clearInventoryFilter,e.next=3,insights.loadInventory({ReactRedux:z,react:k.a,reactRouterDom:F,pfReact:A,reactIcons:B,pfReactTable:V});case 3:a=e.sent,s=a.inventoryConnector,c=a.INVENTORY_ACTION_TYPES,l=a.mergeWithEntities,i(),this.getRegistry().register(ie({},l(Object(X.b)(c,n,r)))),this.setState((function(){return{InventoryCmp:s(u.props.store).InventoryTable}}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,n=t.remediationsEnabled,r=t.compact,i=t.enableExport,a=t.showAllSystems,o=t.showActions,s=t.showComplianceSystemsInfo,c=t.selectedEntities,l=t.selectedEntitiesIds,u=t.systems,d=t.total,p=t.policyId,f=t.systemProps,m=this.state,y=m.page,h=m.perPage,b=m.InventoryCmp,v=m.activeFilters,g=m.error,O=this.filterConfig.buildConfiguration(this.onFilterUpdate,v,{hideLabel:!0}),E=this.chipBuilder.chipsFor(this.state.activeFilters),S=i?{isDisabled:this.isExportDisabled(),onSelect:this.onExportSelect}:{},I=ie(ie({},f),{},{onRefresh:this.onRefresh,ref:this.inventory,page:y,perPage:h,exportConfig:S,tableProps:{canSelectAll:!1},bulkSelect:{checked:c.length>0&&(!!this.props.allSelectedOnPage||null),onSelect:this.onBulkSelect,count:c.length,label:c.length>0?"".concat(c.length," Selected"):void 0}});return o&&(I.actions=[{title:"View in inventory",onClick:function(e,t,n){var r=n.id,i="beta"===window.location.pathname.split("/")[1];window.location.href="".concat(window.location.origin).concat(i?"/beta":"","/insights/inventory/").concat(r)}}]),a||(I.total=d,I.items=u.map((function(e){return e.node.id})),I.filterConfig=O,I.activeFiltersConfig={filters:E,onDelete:this.onFilterDelete}),r&&(I.variant=q.b.compact),void 0===g&&(e=!0),p&&0===d&&0===Object.keys(v).length&&(I.tableProps.rows=[{cells:[{title:k.a.createElement(H.i,null)}]}],I.tableProps.columns=[],I.hasItems=!1,I.hasCheckbox=!1),!a&&n&&(I.dedicatedAction=k.a.createElement(U.ComplianceRemediationButton,{allSystems:Object(Q.c)(u.filter((function(e){return l.includes(e.node.id)})).map((function(e){return e.node}))),selectedRules:[]})),k.a.createElement(H.z,{stateValues:{error:g,noError:e}},k.a.createElement(H.A,{stateKey:"error"},k.a.createElement(H.e,{error:g})),k.a.createElement(H.A,{stateKey:"noError"},s&&k.a.createElement(L.a,{isInline:!0,variant:"info",title:"The list of systems in this view is different than those that appear in the Inventory. Only systems previously or currently associated with compliance policies are displayed."}),b?k.a.createElement(b,I):k.a.createElement(G.SkeletonTable,{colSize:2,rowSize:15})))}}]),r}(k.a.Component))||te;fe.propTypes={allSelectedOnPage:D.a.bool,clearAll:D.a.func,clearInventoryFilter:D.a.func,clearSelection:D.a.func,client:D.a.object,columns:D.a.array,compact:D.a.bool,complianceThreshold:D.a.number,compliantFilter:D.a.bool,enableExport:D.a.bool,error:D.a.object,exportFromState:D.a.func,policies:D.a.array,policyId:D.a.string,defaultFilter:D.a.string,preselectedSystems:D.a.array,remediationsEnabled:D.a.bool,selectAll:D.a.func,selectEntities:D.a.func,selectedEntities:D.a.array,selectedEntitiesIds:D.a.array,showActions:D.a.bool,showAllSystems:D.a.bool,showOnlySystemsWithTestResults:D.a.bool,showOsFilter:D.a.bool,store:D.a.object,systems:D.a.array,total:D.a.number,updateRows:D.a.func,updateSystems:D.a.func,systemProps:D.a.shape({isFullView:D.a.bool}),showComplianceSystemsInfo:D.a.bool},fe.defaultProps={remediationsEnabled:!0,compact:!1,enableExport:!0,showAllSystems:!1,complianceThreshold:0,showOnlySystemsWithTestResults:!1,showActions:!0,compliantFilter:!1,selectedEntities:[],selectedEntitiesIds:[],systems:[],clearAll:function(){return{}},exportFromState:function(){return{}},systemProps:{},showComplianceSystemsInfo:!1};var me=Object(M.a)((function(e){return k.a.createElement(fe,i()({},e,{store:z.useStore()}))}));t.b=Object(z.connect)((function(e){return void 0===e.entities||void 0===e.entities.rows?{selectedEntities:[],systems:[]}:{allSelectedOnPage:0===e.entities.rows.filter((function(t){return!(e.entities.selectedEntities||[]).map((function(e){return e.id})).includes(t.id)})).length,selectedEntities:e.entities.selectedEntities,selectedEntitiesIds:(e.entities.selectedEntities||[]).map((function(e){return e.id})),systems:e.entities.systems,total:e.entities.total}}),(function(e){return{clearInventoryFilter:function(){return e({type:"CLEAR_FILTERS"})},exportFromState:function(t){return e(Object(Y.d)(t))},updateSystems:function(t){e(ie({type:"UPDATE_SYSTEMS"},t))},updateRows:function(){return e({type:"UPDATE_ROWS"})},selectAll:function(){return e(Object(Y.e)())},clearSelection:function(){return e(Object(Y.c)())},clearAll:function(){return e({type:Y.b,payload:{clearAll:!0}})},selectEntities:function(t){return e({type:"SELECT_ENTITIES",payload:{ids:t}})}}}))(me)},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(93)),s=r.__importDefault(n(757)),c=r.__importDefault(n(805)),l=r.__importDefault(n(758)),u=r.__importDefault(n(806)),d=r.__importDefault(n(807));t.variantIcons={success:s.default,danger:c.default,warning:l.default,info:u.default,default:d.default},t.AlertIcon=e=>{var{variant:n,customIcon:s,className:c=""}=e,l=r.__rest(e,["variant","customIcon","className"]);const u=t.variantIcons[n];return i.createElement("div",Object.assign({},l,{className:a.css(o.default.alertIcon,c)}),s||i.createElement(u,null))}},815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const r=n(3).__importStar(n(1));t.AlertContext=r.createContext(null)},816:function(e,t,n){"use strict";t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},817:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s}));var r="@@COMPLIANCE/EXPORT",i="SELECT_ENTITY",a=function(e){return{type:r,payload:{format:e}}},o=function(){return{type:i,payload:{id:0,selected:!0}}},s=function(){return{type:i,payload:{id:0,selected:!1}}}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(333),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return e.flatMap((function(e){return e.rules&&e.rules.filter((function(e){return!e.compliant}))}))},c=function(e){return e.flatMap((function(e){return e.rules&&e.rules.filter((function(e){return e.compliant}))}))},l=function(e){return e.testResultProfiles?s(e.testResultProfiles):[]},u=function(e){return e.map((function(e){return o(o({},e),{},{ruleObjectsFailed:l(e),profiles:e.testResultProfiles})}))}},819:function(e,t,n){"use strict";n.r(t);var r=n(668),i=n.n(r),a=n(332),o=n(672),s=n(660),c=n(20),l=n.n(c),u=n(1),d=n.n(u),p=n(31),f=n(645),m=n(679),y=n(189),h=n(701),b=function(){var e,t=Object(p.k)(),n=Object(p.l)(),r=(null===(e=n.state)||void 0===e?void 0:e.profile).id,c=function(){t.push(n.state.background)},l=Object(f.useMutation)(m.e,{onCompleted:function(){Object(h.a)(Object(y.addNotification)({variant:"success",title:"Removed report"})),t.push("/reports")},onError:function(e){Object(h.a)(Object(y.addNotification)({variant:"danger",title:"Error removing report",description:e.message})),c()}}),u=i()(l,1)[0];return d.a.createElement(o.Modal,{isOpen:!0,variant:o.ModalVariant.small,title:"Delete report",onClose:c,actions:[d.a.createElement(a.Button,{key:"destroy","aria-label":"delete",variant:"danger",onClick:function(){return u({variables:{input:{profileId:r}}})}},"Delete report"),d.a.createElement(a.Button,{key:"cancel",variant:"secondary",onClick:function(){return c()}},"Cancel")]},d.a.createElement(s.TextContent,null,"Deleting a report is permanent and cannot be undone."))};b.propTypes={onClose:l.a.func,isModalOpen:l.a.bool,onDelete:l.a.func,policyId:l.a.string},b.defaultProps={onDelete:function(){},onClose:function(){}},t.default=b},820:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0,t.Tab=e=>null,t.Tab.displayName="Tab"},821:function(e,t,n){"use strict";n.r(t);var r=n(668),i=n.n(r),a=n(332),o=n(672),s=n(660),c=n(20),l=n.n(c),u=n(1),d=n.n(u),p=n(31),f=n(645),m=n(679),y=n(189),h=n(701),b=function(){var e=Object(p.l)(),t=Object(p.k)(),n=e.state.policy,r=n.name,c=n.id,l=function(){t.push("/scappolicies")},u=Object(f.useMutation)(m.d,{onCompleted:function(){Object(h.a)(Object(y.addNotification)({variant:"success",title:"Removed policy ".concat(r)})),l()},onError:function(e){Object(h.a)(Object(y.addNotification)({variant:"danger",title:"Error removing policy",description:e.message})),l()}}),b=i()(u,1)[0];return d.a.createElement(o.Modal,{variant:o.ModalVariant.small,title:"Delete policy",isOpen:!0,onClose:l,actions:[d.a.createElement(a.Button,{key:"destroy","aria-label":"delete",variant:"danger",onClick:function(){return b({variables:{input:{id:c}}})}},"Delete policy"),d.a.createElement(a.Button,{key:"cancel",variant:"secondary",onClick:l},"Cancel")]},d.a.createElement(s.TextContent,null,"Are you sure you want to delete ",d.a.createElement("b",null,r),"? This cannot be undone."))};b.propTypes={policy:l.a.object},t.default=b},825:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(644),i=n(5),a=n(1),o=n.n(a),s=n(117),c=n.n(s),l=n(645),u=n(20),d=n.n(u);function p(e){var t=e.children,n=e.query,r=Object(i.__rest)(e,["children","query"]),a=Object(l.useQuery)(n,r);return t&&a?t(a):null}function f(e){var t=Object(l.useMutation)(e.mutation,e),n=t[0],r=t[1];return e.children?e.children(n,r):null}function m(e){var t=Object(l.useSubscription)(e.subscription,e);return e.children&&t?e.children(t):null}(p||(p={})).propTypes={client:d.a.object,children:d.a.func.isRequired,fetchPolicy:d.a.string,notifyOnNetworkStatusChange:d.a.bool,onCompleted:d.a.func,onError:d.a.func,pollInterval:d.a.number,query:d.a.object.isRequired,variables:d.a.object,ssr:d.a.bool,partialRefetch:d.a.bool,returnPartialData:d.a.bool},(f||(f={})).propTypes={mutation:d.a.object.isRequired,variables:d.a.object,optimisticResponse:d.a.oneOfType([d.a.object,d.a.func]),refetchQueries:d.a.oneOfType([d.a.arrayOf(d.a.oneOfType([d.a.string,d.a.object])),d.a.func]),awaitRefetchQueries:d.a.bool,update:d.a.func,children:d.a.func.isRequired,onCompleted:d.a.func,onError:d.a.func,fetchPolicy:d.a.string},(m||(m={})).propTypes={subscription:d.a.object.isRequired,variables:d.a.object,children:d.a.func,onSubscriptionData:d.a.func,onSubscriptionComplete:d.a.func,shouldResubscribe:d.a.oneOfType([d.a.func,d.a.bool])};var y=n(14);!function(e){function t(t){var n=e.call(this,t)||this;return n.withRef=!1,n.setWrappedInstance=n.setWrappedInstance.bind(n),n}Object(i.__extends)(t,e),t.prototype.getWrappedInstance=function(){return Object(y.b)(this.withRef,2),this.wrappedInstance},t.prototype.setWrappedInstance=function(e){this.wrappedInstance=e}}(o.a.Component);function h(e,t){void 0===t&&(t={});var n="withApollo("+function(e){return e.displayName||e.name||"Component"}(e)+")",a=function(a){function s(e){var t=a.call(this,e)||this;return t.setWrappedInstance=t.setWrappedInstance.bind(t),t}return Object(i.__extends)(s,a),s.prototype.getWrappedInstance=function(){return Object(y.b)(t.withRef,1),this.wrappedInstance},s.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},s.prototype.render=function(){var n=this;return o.a.createElement(r.a,null,(function(r){var a=Object.assign({},n.props,{client:r,ref:t.withRef?n.setWrappedInstance:void 0});return o.a.createElement(e,Object(i.__assign)({},a))}))},s.displayName=n,s.WrappedComponent=e,s}(o.a.Component);return c()(a,e,{})}},908:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(847),i=n.n(r),a=function(e,t){return t.split(".").reduce((function(e,t){return e&&"undefined"!==e[t]?e[t]:void 0}),e)},o=function(e,t){var n=a(e,t);return n.exportValue&&(n=n.exportValue),"object"===i()(n)&&(n=a(e,t+"_text")),"string"==typeof n&&n.includes(",")&&(n='"'+n+'"'),n},s=function(e,t){var n;"csv"===t?n=function(e){var t=e.rows,n=e.columns,r=e.selectedEntities;if(t){var i=[n.map((function(e){return e.title})).join(",")];return i=i.concat((r||t).map((function(t){return e.columns.map((function(e){return e.noExport?"":o(t,e.key)})).join(",")}))),encodeURI("data:text/csv;charset=utf-8,"+i.join("\n"))}}(e):"json"===t&&(n=function(e){var t,n=e.rows,r=e.columns,i=e.selectedEntities;if(n)return t=(i||n).map((function(e){var t={};return r.forEach((function(n){var r=n.key.split("."),i=r[r.length-1];t[i]=o(e,n.key)})),t})),encodeURI("data:application/json;charset=utf-8,"+JSON.stringify(t))}(e)),function(e,t){if(e){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}}(n,function(e){return"compliance-export-"+(new Date).toISOString()+"."+e}(t))}},909:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(222);var i=n(440),a=n(438),o=r(n(1)),s=r(n(20)),c=n(439),l=864e5,u=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},d=[{rightBound:1/0,description:function(e){return u(Math.round(e/31536e6),"year")}},{rightBound:31536e6,description:function(e){return u(Math.round(e/2592e6),"month")}},{rightBound:2592e6,description:function(e){return u(Math.round(e/l),"day")}},{rightBound:l,description:function(e){return u(Math.round(e/36e5),"hour")}},{rightBound:36e5,description:function(e){return u(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],p=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},f=function(e){return{exact:function(e){return p(e)+" UTC"},onlyDate:function(e){return p(e).slice(0,-6)},relative:function(e){return d.reduce((function(t,n){return n.rightBound>Date.now()-e?n.description(Date.now()-e):t}),p(e))},invalid:function(){return"Invalid date"}}[e]},m=function(e,t,n){return{exact:function(t){return f(e)(t)},onlyDate:function(t){return f(e)(t)},relative:function(r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return o.createElement(c.Tooltip,i._extends({},n,{content:o.createElement("div",null,r,e)}),t)}(f("exact")(r),o.createElement("span",null,f(e)(r)),t,n)},invalid:function(){return"Invalid date"}}[e]};function y(e){var t=e.date,n=e.type,r=void 0===n?"relative":n,i=e.extraTitle,a=e.tooltipProps,s=void 0===a?{}:a,c=t instanceof Date?t:new Date(t),l=null==t||"Invalid Date"===c.toString()?"invalid":r;return o.createElement(o.Fragment,null,m(l,s,i)(c))}y.propTypes={date:s.oneOfType([s.instanceOf(Date),s.string,s.number]),type:s.oneOf(["exact","onlyDate","relative"]),extraTitle:s.string,tooltipProps:s.shape(a._defineProperty({},s.string,s.oneOfType([s.number,s.string])))},t.DateFormat=y},910:function(e,t,n){"use strict";n.r(t),n.d(t,"ComplianceSystems",(function(){return I}));var r=n(333),i=n.n(r),a=n(666),o=n.n(a),s=n(1),c=n.n(s),l=n(663),u=n.n(l),d=n(645),p=n(673),f=n(700),m=n(661),y=n(702),h=n(729),b=n(728),v=n(678);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(){var e=o()(['\n{\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                name\n                refId\n                majorOsVersion\n            }\n        }\n    }\n}\n']);return E=function(){return e},e}var S=u()(E()),I=function(){var e,t=Object(v.a)("newInventory"),n=Object(d.useQuery)(S),r=n.data,i=n.error,a=n.loading,o=[O({key:"facts.compliance.display_name",title:"Name",props:{width:40,isStatic:!0}},t&&{key:"display_name",renderFunc:b.d}),O({key:"facts.compliance.policies",title:"Policies",props:{width:40,isStatic:!0}},t&&{key:"policyNames",renderFunc:function(e){return(Object(b.c)({policyNames:e})||{title:""}).title}}),O({key:"facts.compliance.details_link",title:"",props:{width:20,isStatic:!0}},t&&{key:"testResultProfiles",renderFunc:function(e,t){return(Object(b.a)({testResultProfiles:e,id:t})||{title:""}).title}})],s=null==r||null===(e=r.profiles)||void 0===e?void 0:e.edges.map((function(e){return e.node})),l=t?y.b:y.c;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.PageHeader,{className:"page-header"},c.a.createElement(p.PageHeaderTitle,{title:"Systems"})),c.a.createElement(f.Main,null,c.a.createElement(m.B,{stateValues:{error:i,data:r,loading:a}},c.a.createElement(m.A,{stateKey:"data"},s&&c.a.createElement(l,{query:h.a,systemProps:{isFullView:!0},showOsFilter:!0,showComplianceSystemsInfo:!0,enableEditPolicy:!1,remediationsEnabled:!1,columns:o,policies:s})))))};t.default=I},911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabTitleText=void 0;const r=n(3),i=r.__importStar(n(1)),a=n(2),o=r.__importDefault(n(52));t.TabTitleText=e=>{var{children:t,className:n=""}=e,s=r.__rest(e,["children","className"]);return i.createElement("span",Object.assign({className:a.css(o.default.tabsItemText,n)},s),t)},t.TabTitleText.displayName="TabTitleText"},913:function(e,t,n){"use strict";n.r(t),n.d(t,"CreatePolicy",(function(){return ct}));var r=n(668),i=n.n(r),a=n(1),o=n.n(a),s=n(31),c=n(797),l=n.n(c),u=n(91);var d,p,f=(d=u.a,p=d.getIn,function(e,t){l()(e,"Form value must be specified");var n=t||function(e){return p(e,"form")};return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return l()(i.length,"No fields specified"),1===i.length?p(n(t),e+".values."+i[0]):i.reduce((function(r,i){var a=p(n(t),e+".values."+i);return void 0===a?r:u.a.setIn(r,i,a)}),{})}}),m=n(188),y=n(20),h=n.n(y),b=n(1099),v=n(333),g=n.n(v),O=n(666),E=n.n(O),S=n(332),I=n(721),j=n(724),T=n(655),w=n(660),x=n(439),P=n(695),R=n.n(P),_=n(661),C=n(663),k=n.n(C),N=n(645),D=n(730),F=h.a.any,A=h.a.bool,L=h.a.func,B=h.a.shape,V=h.a.string,q=h.a.oneOfType,z=h.a.object,M=h.a.number,W={anyTouched:A.isRequired,asyncValidating:q([A,V]).isRequired,dirty:A.isRequired,error:F,form:V.isRequired,invalid:A.isRequired,initialized:A.isRequired,initialValues:z,pristine:A.isRequired,pure:A.isRequired,submitting:A.isRequired,submitAsSideEffect:A.isRequired,submitFailed:A.isRequired,submitSucceeded:A.isRequired,valid:A.isRequired,warning:F,array:B({insert:L.isRequired,move:L.isRequired,pop:L.isRequired,push:L.isRequired,remove:L.isRequired,removeAll:L.isRequired,shift:L.isRequired,splice:L.isRequired,swap:L.isRequired,unshift:L.isRequired}),asyncValidate:L.isRequired,autofill:L.isRequired,blur:L.isRequired,change:L.isRequired,clearAsyncError:L.isRequired,clearFields:L.isRequired,clearSubmitErrors:L.isRequired,destroy:L.isRequired,dispatch:L.isRequired,handleSubmit:L.isRequired,initialize:L.isRequired,reset:L.isRequired,resetSection:L.isRequired,touch:L.isRequired,submit:L.isRequired,untouch:L.isRequired,triggerSubmit:A,clearSubmit:L.isRequired},$={checked:A,name:V.isRequired,onBlur:L.isRequired,onChange:L.isRequired,onDragStart:L.isRequired,onDrop:L.isRequired,onFocus:L.isRequired,value:F},G={active:A.isRequired,asyncValidating:A.isRequired,autofilled:A.isRequired,dirty:A.isRequired,dispatch:L.isRequired,error:F,form:V.isRequired,invalid:A.isRequired,pristine:A.isRequired,submitting:A.isRequired,submitFailed:A.isRequired,touched:A.isRequired,valid:A.isRequired,visited:A.isRequired,warning:V},U={dirty:A.isRequired,error:F,form:V.isRequired,invalid:A.isRequired,pristine:A.isRequired,submitFailed:A,submitting:A,valid:A.isRequired,warning:V},J={name:V.isRequired,forEach:L.isRequired,get:L.isRequired,getAll:L.isRequired,insert:L.isRequired,length:M.isRequired,map:L.isRequired,move:L.isRequired,pop:L.isRequired,push:L.isRequired,reduce:L.isRequired,remove:L.isRequired,removeAll:L.isRequired,shift:L.isRequired,swap:L.isRequired,unshift:L.isRequired},K=(B($).isRequired,B(G).isRequired,B(J).isRequired,B(U).isRequired,W),H=n(1122),Y=n(224);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){var e=E()(['\nquery benchmarksAndProfiles {\n    latestBenchmarks {\n        id\n        title\n        refId\n        version\n        profiles {\n            id\n            name\n            refId\n            description\n            complianceThreshold\n        }\n    }\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                refId\n                benchmark {\n                    refId\n                }\n            }\n        }\n    }\n}\n']);return Z=function(){return e},e}var ee=k()(Z()),te=function(e){var t=e.change,n=e.selectedBenchmarkId,r=Object(N.useQuery)(ee,{fetchPolicy:"no-cache"}),i=r.data,a=r.error,s=r.loading;if(a)return a;if(s)return o.a.createElement(D.Spinner,null);var c,l,u,d,p=i.latestBenchmarks;if(n){c=p.find((function(e){return e.id===n}));var f=(u=i.profiles.edges,d=c,u.filter((function(e){return d.refId===e.node.benchmark.refId})).map((function(e){return e.node.refId})));l=c.profiles.map((function(e){return X(X({},e),{},{disabled:f.includes(e.refId)})}))}return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,{component:T.TextVariants.h1},"Create SCAP policy"),o.a.createElement(T.Text,{component:T.TextVariants.h4},"Select the operating system and policy type")),o.a.createElement(I.Form,null,o.a.createElement(j.FormGroup,{label:"Operating system",isRequired:!0,fieldId:"benchmark"},o.a.createElement("br",null),p&&p.sort((function(e,t){return e.refId.localeCompare(t.refId)})).map((function(e){var r=e.refId,i=e.id;return o.a.createElement(S.Button,{key:i,onClick:function(){t("benchmark",i)},className:"wizard-os-button ".concat(n===i?"active-wizard-os-button":""),variant:"tertiary"},r&&r.split("xccdf_org.ssgproject.content_benchmark_")[1].replace("-"," "))}))),c&&o.a.createElement(T.Text,{component:T.TextVariants.small},"SCAP Security Guide (SSG): ",c.title," - ",c.version,o.a.createElement(x.Tooltip,{position:x.TooltipPosition.right,content:"Policies configured in the Compliance services use\n                                                                        the latest version of the SSG packaged with RHEL."},o.a.createElement("span",null," ",o.a.createElement(R.a,{className:"grey-icon"})))),o.a.createElement(j.FormGroup,{label:"Policy type",isRequired:!0,fieldId:"policy-type"},o.a.createElement(_.p,{profiles:c&&l,onClick:function(){t("selectedRuleRefIds",null)}}))))};te.propTypes={selectedBenchmarkId:h.a.string,change:K.change};var ne=f("policyForm"),re=Object(Y.compose)(Object(m.connect)((function(e){return{selectedBenchmarkId:ne(e,"benchmark")}})),Object(H.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(te),ie=n(671),ae=n(811);function oe(){var e=E()(["\nquery benchmarkAndProfile($benchmarkId: String!, $profileId: String!){\n    benchmark(id: $benchmarkId) {\n        id\n        rules {\n            id\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n    }\n    profile(id: $profileId) {\n        id\n        name\n        refId\n        rules {\n            id\n            refId\n        }\n    }\n}\n"]);return oe=function(){return e},e}var se=k()(oe()),ce=function(e){var t,n,r=e.profileId,s=e.benchmarkId,c=e.selectedRuleRefIds,l=e.change,u=Object(ie.selectRulesTableColumns)(["Rule","Severity","Ansible"]),d=Object(N.useQuery)(se,{variables:{profileId:r,benchmarkId:s}}),p=d.data,f=d.error,m=d.loading,y=Object(a.useState)(null),h=i()(y,2),b=h[0],v=h[1],g=p&&[{profile:{refId:p.profile.refId,name:p.profile.name},rules:p.benchmark.rules}];return Object(a.useEffect)((function(){if(p){var e=p.profile.rules.map((function(e){return e.refId}));v(e),c||l("selectedRuleRefIds",e)}}),[p]),o.a.createElement(_.B,{stateValues:{error:f,data:p,loading:m}},o.a.createElement(_.A,{stateKey:"loading"},o.a.createElement(ae.EmptyTable,null,o.a.createElement(D.Spinner,null))),o.a.createElement(_.A,{stateKey:"data"},o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,{component:T.TextVariants.h1},"Rules")),o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,null,"Edit your policy by including and excluding rules."),o.a.createElement(T.Text,null,"Selected policy type ",o.a.createElement("strong",null,null==p?void 0:p.profile.name)," has ",null==b?void 0:b.length," rules. ",c&&(n=null==(t=c)?void 0:t.filter((function(e){return null==b?void 0:b.includes(e)})),!(t&&b&&n.length===b.length))&&o.a.createElement(S.Button,{variant:"link",isInline:!0,onClick:function(){return l("selectedRuleRefIds",b)}},"Reset to default selection"))),o.a.createElement(ie.SystemRulesTable,{remediationsEnabled:!1,tailoringEnabled:!0,selectedFilter:!0,columns:u,loading:m,handleSelect:function(e){return l("selectedRuleRefIds",e)},profileRules:g,selectedRefIds:c||[]})))};ce.propTypes={profileId:h.a.string,benchmarkId:h.a.string,change:K.change,selectedRuleRefIds:h.a.array};var le=f("policyForm"),ue=Object(Y.compose)(Object(m.connect)((function(e){return{benchmarkId:le(e,"benchmark"),profileId:JSON.parse(le(e,"profile")).id,selectedRuleRefIds:le(e,"selectedRuleRefIds")}})),Object(H.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(ce),de=n(702),pe=n(678);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t=e.change,n=e.selectedSystemIds,r=Object(pe.a)("newInventory"),i=[me({composed:["facts.os_release","display_name"],key:"facts.compliance.display_name",title:"Name",props:{width:40,isStatic:!0}},r&&{key:"display_name"}),me({key:"facts.compliance.policies",title:"Policies",props:{width:40,isStatic:!0}},r&&{key:"policies"})];Object(a.useEffect)((function(){n&&t("systems",n)}),[n]);var s=r?de.b:de.c;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,{component:T.TextVariants.h1},"Systems"),o.a.createElement(T.Text,{component:T.TextVariants.h4},"Choose systems to scan with this policy. You can add and remove systems later.")),o.a.createElement(I.Form,null,o.a.createElement(j.FormGroup,null,o.a.createElement(s,{columns:i,remediationsEnabled:!1,compact:!0,showActions:!1,showAllSystems:!0,enableExport:!1}))))};ye.propTypes={selectedSystemIds:h.a.array,change:K.change},ye.defaultProps={selectedSystemIds:[]};var he=Object(Y.compose)(Object(m.connect)((function(e){var t=e.entities;return{selectedSystemIds:((null==t?void 0:t.selectedEntities)||[]).map((function(e){return e.id}))}})),Object(H.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(ye),be=n(1123),ve=n(912),ge=function(e){var t=e.profile;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,{component:T.TextVariants.h1},"Details")),o.a.createElement("br",null),o.a.createElement(I.Form,{id:"editpolicydetails"},o.a.createElement(j.FormGroup,{label:"Policy name",isRequired:!0,fieldId:"name"},o.a.createElement(be.a,{component:ve.b,type:"text",isRequired:!0,id:"name",name:"name","aria-describedby":"name"})),o.a.createElement(j.FormGroup,{label:"Reference ID",isRequired:!0,fieldId:"refId"},o.a.createElement(be.a,{type:"text",component:ve.b,isDisabled:!0,id:"refId",name:"refId","aria-describedby":"refId"})),o.a.createElement(j.FormGroup,{label:"Description",fieldId:"description"},o.a.createElement(be.a,{type:"text",component:ve.a,id:"description",name:"description","aria-describedby":"description"})),o.a.createElement(j.FormGroup,{label:"Business objective",fieldId:"businessObjective"},o.a.createElement(be.a,{type:"text",component:ve.b,id:"businessObjective",name:"businessObjective","aria-describedby":"businessObjective",defaultValue:t.businessObjective})),o.a.createElement(_.o,{showTitle:!1,previousThreshold:t.complianceThreshold})))},Oe=f("policyForm");ge.propTypes={profile:h.a.object,dispatch:h.a.func};var Ee=Object(Y.compose)(Object(m.connect)((function(e){return{profile:JSON.parse(Oe(e,"profile")),initialValues:{name:"".concat(JSON.parse(Oe(e,"profile")).name),refId:"".concat(JSON.parse(Oe(e,"profile")).refId),description:"".concat(JSON.parse(Oe(e,"profile")).description),benchmark:Oe(e,"benchmark"),profile:Oe(e,"profile")}}})),Object(H.a)({form:"policyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0}))(ge),Se=n(698),Ie=n(697);function je(){var e=E()(["\nquery review($benchmarkId: String!) {\n    benchmark(id: $benchmarkId) {\n        id\n        title\n        refId\n        version\n    }\n}\n"]);return je=function(){return e},e}var Te=k()(je()),we=function(e){var t=e.benchmarkId,n=e.name,r=e.refId,i=e.businessObjective,a=e.systemsCount,s=e.rulesCount,c=e.complianceThreshold,l=e.parentProfileName,u=Object(N.useQuery)(Te,{variables:{benchmarkId:t}}),d=u.data,p=u.error,f=u.loading;if(p)return p;if(f)return o.a.createElement(D.Spinner,null);var m=d.benchmark;return o.a.createElement(w.TextContent,null,o.a.createElement(T.Text,{component:T.TextVariants.h1},"Review"),o.a.createElement(T.Text,{component:T.TextVariants.h4},"Review your policy before finishing."),o.a.createElement(Se.TextList,{component:Se.TextListVariants.dl},o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Operating system"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},m.refId.split("xccdf_org.ssgproject.content_benchmark_")[1].replace("-"," ")),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Security guide"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd}," ".concat(m.title," - ").concat(m.version)),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Policy type"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},l),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Policy name"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},n),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Reference ID"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},r),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Compliance threshold"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},c,"%"),i&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"Business objective"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},i)),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"No. of rules"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},s),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dt},"No. of systems"),o.a.createElement(Ie.TextListItem,{component:Ie.TextListItemVariants.dd},a>0?a:o.a.createElement(_.D,{variant:"compact",count:a}))))};we.propTypes={benchmarkId:h.a.string,refId:h.a.string,name:h.a.string,businessObjective:h.a.string,systemsCount:h.a.number,rulesCount:h.a.number,complianceThreshold:h.a.number,parentProfileName:h.a.string};var xe=f("policyForm"),Pe=Object(m.connect)((function(e){return{benchmarkId:xe(e,"benchmark"),refId:xe(e,"refId"),name:xe(e,"name"),businessObjective:xe(e,"businessObjective"),systemsCount:xe(e,"systems").length,complianceThreshold:parseFloat(xe(e,"complianceThreshold"))||100,parentProfileName:JSON.parse(xe(e,"profile")).name,rulesCount:xe(e,"selectedRuleRefIds").length}}))(we),Re=n(726),_e=n.n(Re),Ce=n(727),ke=n.n(Ce),Ne=n(688),De=n.n(Ne),Fe=n(676),Ae=n.n(Fe),Le=n(682),Be=n.n(Le),Ve=n(689),qe=n.n(Ve),ze=n(690),Me=n.n(ze),We=n(691),$e=n.n(We),Ge=n(677),Ue=n(759),Je=n(699),Ke=n(801),He=n(1098),Ye=n(1095),Qe=n(1097),Xe=n(1094),Ze=n(1096),et=n.n(Ze),tt=n(825),nt=n(679);function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e()(e);if(t){var i=$e()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me()(this,n)}}var it=function(e){qe()(n,e);var t=rt(n);function n(){var e;De()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(Be()(e),"state",{percent:0,message:"This usually takes a minute or two.",errors:null,failed:!1}),g()(Be()(e),"createProfile",ke()(_e.a.mark((function t(){var n,r,i,a,o,s,c,l,u,d,p,f;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.businessObjective,i=n.benchmarkId,a=n.cloneFromProfileId,o=n.refId,s=n.name,c=n.description,l=n.complianceThreshold,u=n.selectedRuleRefIds,d=n.client,p={benchmarkId:i,cloneFromProfileId:a,complianceThreshold:l,description:c,name:s,refId:o,selectedRuleRefIds:u},!r){t.next=7;break}return t.next=5,d.mutate({mutation:nt.b,variables:{input:{title:r}}});case 5:f=t.sent,p.businessObjectiveId=f.data.createBusinessObjective.businessObjective.id;case 7:return t.abrupt("return",d.mutate({mutation:nt.c,variables:{input:p}}));case 8:case"end":return t.stop()}}),t)})))),g()(Be()(e),"associateSystems",(function(){var t=e.props,n=t.systemIds,r=t.client,i=e.state.profileId;return r.mutate({mutation:nt.a,variables:{input:{id:i,systemIds:n}}}).then((function(){e.setState((function(e){return{percent:e.percent+50,message:""}}))})).catch((function(t){e.setState({message:t.networkError.message,errors:t.networkError.result.errors,failed:!0})}))})),e}return Ae()(n,[{key:"componentDidMount",value:function(){var e=this;this.createProfile().then((function(t){e.setState((function(e){return{percent:e.percent+50,profileId:t.data.createProfile.profile.id}}),e.associateSystems)})).catch((function(t){e.setState({message:t.networkError.message,errors:t.networkError.result.errors,failed:!0})}))}},{key:"render",value:function(){var e,t=this.state,n=t.percent,r=t.message,i=t.failed,a=t.errors,s=this.props.onWizardFinish;return a&&Array.isArray(a)&&a.length>0&&(e=a.map((function(e){return o.a.createElement(Xe.ListItem,{key:e},e)}))),o.a.createElement(Ue.Bullseye,null,o.a.createElement(Je.EmptyState,{variant:Je.EmptyStateVariant.full},o.a.createElement(Ye.EmptyStateIcon,{icon:et.a}),o.a.createElement("br",null),o.a.createElement(Ge.Title,{headingLevel:"h1",size:"lg"},"Creating policy"),o.a.createElement(Ke.EmptyStateBody,null,o.a.createElement(_.q,{percent:n,failed:i})),o.a.createElement(Ke.EmptyStateBody,{className:i&&"wizard-failed-message"},r),e&&o.a.createElement(Ke.EmptyStateBody,{className:"wizard-failed-errors"},o.a.createElement(Qe.List,null,e)),o.a.createElement(He.EmptyStateSecondaryActions,null,100===n?o.a.createElement(S.Button,{variant:"primary",onClick:function(){s()}},"Return to application"):"")))}}]),n}(o.a.Component);it.propTypes={benchmarkId:h.a.string.isRequired,client:h.a.object.isRequired,businessObjective:h.a.object,cloneFromProfileId:h.a.string.isRequired,refId:h.a.string.isRequired,name:h.a.string.isRequired,description:h.a.string,systemIds:h.a.array,complianceThreshold:h.a.number,onWizardFinish:h.a.func,selectedRuleRefIds:h.a.arrayOf(h.a.string).isRequired};var at=f("policyForm"),ot=Object(Y.compose)(Object(m.connect)((function(e){return{benchmarkId:at(e,"benchmark"),businessObjective:at(e,"businessObjective"),cloneFromProfileId:JSON.parse(at(e,"profile")).id,refId:at(e,"refId"),name:at(e,"name"),description:at(e,"description"),complianceThreshold:parseFloat(at(e,"complianceThreshold"))||100,systemIds:at(e,"systems"),selectedRuleRefIds:at(e,"selectedRuleRefIds")}})),Object(H.a)({form:"policyForm",destroyOnUnmount:!0,forceUnregisterOnUnmount:!0}),tt.a)(it),st=n(812),ct=function(e){var t=e.benchmark,n=e.complianceThreshold,r=e.name,c=e.profile,l=e.refId,u=e.selectedRuleRefIds,d=Object(s.k)(),p=Object(a.useState)(1),f=i()(p,2),m=f[0],y=f[1],h=function(){d.push("/scappolicies")},v=[{id:1,name:"Create SCAP policy",component:o.a.createElement(re,null),enableNext:Object(st.b)(t,c)},{id:2,name:"Details",component:o.a.createElement(Ee,null),canJumpTo:m>=2,enableNext:Object(st.c)(r,l,n)},{id:3,name:"Rules",component:o.a.createElement(ue,null),canJumpTo:m>=3,enableNext:Object(st.d)(u)},{id:4,name:"Systems",component:o.a.createElement(he,null),canJumpTo:m>=4},{id:5,name:"Review",component:o.a.createElement(Pe,null),nextButtonText:"Finish",canJumpTo:m>=5},{id:6,name:"Finished",component:o.a.createElement(ot,{onWizardFinish:h}),isFinishedStep:!0,canJumpTo:m>=6}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.Wizard,{isOpen:!0,onClose:h,title:"Create SCAP policy",description:"Create a new policy for managing SCAP compliance",steps:v,onNext:function(e){var t=e.id;y(m<t?t:m)}}))};ct.propTypes={benchmark:h.a.string,complianceThreshold:h.a.string,businessObjective:h.a.object,dispatch:h.a.func,isOpen:h.a.bool,name:h.a.string,onWizardFinish:h.a.func,profile:h.a.string,refId:h.a.string,selectedRuleRefIds:h.a.arrayOf(h.a.string)},ct.defaultProps={isOpen:!1};var lt=f("policyForm");t.default=Object(m.connect)((function(e){return{benchmark:lt(e,"benchmark"),businessObjective:lt(e,"businessObjective"),complianceThreshold:lt(e,"complianceThreshold")||100,name:lt(e,"name"),profile:lt(e,"profile"),refId:lt(e,"refId"),selectedRuleRefIds:lt(e,"selectedRuleRefIds")}}))(ct)},916:function(e,t,n){"use strict";n.r(t),n.d(t,"EditPolicy",(function(){return M}));var r=n(333),i=n.n(r),a=n(668),o=n.n(a),s=n(1),c=n.n(s),l=n(20),u=n.n(l),d=n(31),p=n(188),f=n(332),m=n(721),y=n(672),h=n(820),b=n(911),v=n(661),g=n(702),O=n(378),E=n(368),S=n(724),I=n(905),j=n(459),T=n(812);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t,n=e.policy,r=e.setUpdatedPolicy,i=function(){var e=Object(s.useState)(!0),t=o()(e,2),n=t[0],r=t[1];return[n,function(e){var t=Object(T.a)(e);return r(t),t}]}(),a=o()(i,2),l=a[0],u=a[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(S.FormGroup,{label:"Policy description",isRequired:!0,fieldId:"description"},c.a.createElement(I.TextArea,{style:{width:800,height:110},isRequired:!0,type:"text",id:"description",name:"description","aria-describedby":"description",defaultValue:n.description,onChange:function(e){r((function(t){return x(x({},t),{},{description:e})}))}})),c.a.createElement(S.FormGroup,{label:"Business objective",fieldId:"business-objective"},c.a.createElement(j.TextInput,{type:"text",style:{width:300},id:"business-objective",name:"business-objective","aria-describedby":"business-objective",defaultValue:null==n||null===(t=n.businessObjective)||void 0===t?void 0:t.title,onChange:function(e){r((function(t){return x(x({},t),{},{businessObjective:x(x({},t.businessObjective),{},{title:e})})}))}})),c.a.createElement(S.FormGroup,{validated:l?"default":"error",label:"Compliance threshold (%)",fieldId:"policy-threshold",helperTextInvalid:"Threshold has to be a number between 0 and 100",helperText:"A value of 95% or higher is recommended"},c.a.createElement(j.TextInput,{type:"number",style:{width:150},name:"compliance-threshold",id:"compliance-threshold",defaultValue:n.complianceThreshold,"aria-describedby":"policy-threshold",onChange:function(e){r((function(t){return x(x({},t),{},{complianceThreshold:e,complianceThresholdValid:u(e)})}))}})))};P.propTypes={policy:u.a.shape({description:u.a.string,businessObjective:u.a.object,complianceThreshold:u.a.oneOfType([u.a.string,u.a.number])}),setUpdatedPolicy:u.a.func};var R=P,_=n(726),C=n.n(_),k=n(727),N=n.n(k),D=n(645),F=n(679),A=function(){var e,t,n=(e=Object(D.useMutation)(F.b),t=o()(e,1)[0],function(){var e=N()(C.a.mark((function e(n,r){var i,a,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==n||null===(i=n.businessObjective)||void 0===i?void 0:i.title)!==(null==r?void 0:r.title)){e.next=4;break}return e.abrupt("return",null==n||null===(a=n.businessObjective)||void 0===a?void 0:a.id);case 4:if(""!==(null==r?void 0:r.title)){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,t({variables:{input:{title:r.title}}});case 10:return o=e.sent,e.abrupt("return",o.data.createBusinessObjective.businessObjective.id);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r=Object(D.useMutation)(F.f),i=o()(r,1)[0],a=Object(D.useMutation)(F.a),s=o()(a,1)[0];return function(){var e=N()(C.a.mark((function e(t,r){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.id,e.t1=r.name,e.t2=r.description,e.t3=parseFloat(r.complianceThreshold),e.next=6,n(t,null==r?void 0:r.businessObjective);case 6:return e.t4=e.sent,a={id:e.t0,name:e.t1,description:e.t2,complianceThreshold:e.t3,businessObjectiveId:e.t4},s({variables:{input:{id:t.id,systemIds:r.hosts.map((function(e){return e.id}))}}}),e.next=11,i({variables:{input:a}});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=n(678),B=n(728),V=n(729);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t,n=e.route,r=Object(L.a)("newInventory"),i=Object(d.l)(),a=Object(p.useDispatch)(),l=null==i||null===(t=i.state)||void 0===t?void 0:t.policy,u=Object(O.b)(),S=Object(s.useState)(null),I=o()(S,2),j=I[0],T=I[1],w=A(),x=Object(O.c)("/scappolicies"),P=Object(p.useSelector)((function(e){var t;return null==e||null===(t=e.entities)||void 0===t?void 0:t.selectedEntities})),_=j&&!j.complianceThresholdValid,C=function(){r&&a({type:"SELECT_ENTITIES",payload:{ids:[]}}),x({hash:u})},k=[c.a.createElement(f.Button,{isDisabled:_,key:"save",variant:"primary",onClick:function(){return w(l,j).then((function(){return C()}))}},"Save"),c.a.createElement(f.Button,{key:"cancel",variant:"secondary",onClick:function(){return C()}},"Cancel")];Object(s.useEffect)((function(){T(z(z({},j),{},{hosts:P||[]}))}),[P]),Object(s.useEffect)((function(){var e,t=l.complianceThreshold<101&&l.complianceThreshold>0;T(z(z({},l),{},{complianceThresholdValid:t})),a({type:"SELECT_ENTITIES",payload:{ids:(null==l||null===(e=l.hosts)||void 0===e?void 0:e.map((function(e){return{id:e.id}})))||[]}})}),[l]);var N=r?g.b:g.c;return Object(E.b)(n,null==l?void 0:l.name),l&&c.a.createElement(y.Modal,{isOpen:!0,style:{height:"400px"},width:1e3,title:"Edit ".concat(l.name),onClose:function(){return C()},actions:k},c.a.createElement(m.Form,null,c.a.createElement(v.y,{defaultTab:"details"},c.a.createElement(h.Tab,{eventKey:"details",title:c.a.createElement(b.TabTitleText,null,"Details")},c.a.createElement(R,{policy:l,setUpdatedPolicy:T})),c.a.createElement(h.Tab,{eventKey:"rules",title:c.a.createElement(b.TabTitleText,null,"Rules")},"Rule editing coming soon"),c.a.createElement(h.Tab,{eventKey:"systems",title:c.a.createElement(b.TabTitleText,null,"Systems")},c.a.createElement(N,{compact:!0,showActions:!1,enableExport:!1,showAllSystems:!0,remediationsEnabled:!1,policyId:l.id,query:V.b,defaultFilter:"policy_id = ".concat(l.id),columns:[z({key:"facts.compliance.display_name",title:"Name",props:{width:40,isStatic:!0}},r&&{key:"display_name",renderFunc:function(e,t,n){return null!=n&&n.lastScanned?Object(B.d)(e,t,n):e}})],preselectedSystems:(null==l?void 0:l.hosts.map((function(e){return{id:e.id}})))||[]})))))};M.propTypes={route:u.a.object};t.default=M}}]);
//# sourceMappingURL=../sourcemaps/EditPolicy-825d38c6a6b9900b9c2eddd3f71488f2.js.map