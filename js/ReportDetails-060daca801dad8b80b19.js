(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1106:function(e,t,a){(t=a(9)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-details{padding-top:10px}.report-details-button{text-align:right}\n",""]),e.exports=t},1125:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return W})),a.d(t,"ReportDetails",(function(){return Y}));var n=a(333),r=a.n(n),l=a(674),o=a.n(l),c=a(666),i=a.n(c),s=a(1),m=a.n(s);const u={name:"--pf-global--palette--black-300",value:"#d2d2d2",var:"var(--pf-global--palette--black-300)"};var d=a(693),p=a(694),b=a(20),y=a.n(b),f=a(31),E=a(175),g=a(645),h=a(663),v=a.n(h),O=a(1121),j=a(1108),w=a(731),_=a(760),k=a(332),I=a(680),S=a(685),P=a(655),C=a(673),G=a(700),D=a(811),N=a(730),x=a(692),H=a(678),B=a(661),F=a(766),T=a(368),R=a(702),V=(a(789),a(4)),A=a.n(V),M=a(1106),L=a.n(M),q={insert:"head",singleton:!1},J=(A()(L.a,q),L.a.locals,a(729)),K=a(728),Q=a(909);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        testResultHostCount\n        compliantHostCount\n        unsupportedHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return z=function(){return e},e}var W=v()(z()),Y=function(e){var t,a,n,r,l,c,i=e.route,s=Object(H.a)("showSsgVersions"),b=Object(H.a)("newInventory"),y=Object(f.m)().report_id,h=Object(g.useQuery)(W,{variables:{policyId:y}}),v=h.data,V=h.error,A=h.loading,M=[],L="loading-donut",q={};if(!A&&v){var U;n=(q=v.profile).policy?q.policy.name:q.name,t=!(null===(U=q)||void 0===U||!U.policy)&&s,c="Report: ".concat(n);var z=q.compliantHostCount,Y=q.testResultHostCount;L=q.name.replace(/ /g,""),M=[{x:"Compliant",y:Y?z:"0"},{x:"Non-compliant",y:Y-z}],a=0===Y&&[u.value]||[d.a.value,p.a.value],r=[{name:M[0].y+" "+Object(x.b)(M[0].y,"system")+" compliant"},{name:M[1].y+" "+Object(x.b)(M[1].y,"system")+" non-compliant"}],l=Y?Object(x.a)(Math.floor(M[0].y/(M[0].y+M[1].y)*100)):0}var X=[$({key:"facts.compliance.display_name",title:"Name",props:{width:30}},b&&{key:"display_name",renderFunc:K.d})].concat(o()(t?[{key:"facts.compliance",title:"SSG version",props:{width:5},renderFunc:function(e){return e&&m.a.createElement(F.a.SSGVersion,{supported:e.supported,ssgVersion:e.ssg_version})}}]:[]),[$({key:"facts.compliance.rules_failed",title:"Failed rules",props:{width:5}},b&&{key:"rulesFailed",renderFunc:function(e,t){return m.a.createElement(E.Link,{to:{pathname:"/systems/".concat(t)}}," ",e," ")}}),$({key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},b&&{key:"score",renderFunc:function(e,t,a){return Object(B.c)(a)}}),$({key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}},b&&{key:"lastScanned",renderFunc:function(e){return e instanceof Date?m.a.createElement(Q.DateFormat,{date:Date.parse(e),type:"relative"}):e}})]),Z=b?R.b:R.c;return Object(T.b)(i,n),m.a.createElement(B.B,{stateValues:{error:V,data:v,loading:A}},m.a.createElement(B.A,{stateKey:"loading"},m.a.createElement(C.PageHeader,null,m.a.createElement(B.t,null)),m.a.createElement(G.Main,null,m.a.createElement(D.EmptyTable,null,m.a.createElement(N.Spinner,null)))),m.a.createElement(B.A,{stateKey:"data"},m.a.createElement(C.PageHeader,null,m.a.createElement(w.Breadcrumb,null,m.a.createElement(B.b,{to:"/"},"Compliance"),m.a.createElement(B.b,{to:"/reports"},"Reports"),m.a.createElement(_.BreadcrumbItem,{isActive:!0},c)),m.a.createElement(I.Grid,{hasGutter:!0},m.a.createElement(S.GridItem,{sm:9,md:9,lg:9,xl:9},m.a.createElement(C.PageHeaderTitle,{title:c}),m.a.createElement(B.C,null,q.policyType)),m.a.createElement(S.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},m.a.createElement(B.a,{state:{profile:q},to:"/reports/".concat(q.id,"/delete")},m.a.createElement(k.Button,{variant:"link",isInline:!0},"Delete report")))),m.a.createElement(I.Grid,{hasGutter:!0},m.a.createElement(S.GridItem,{sm:12,md:12,lg:12,xl:6},m.a.createElement("div",{className:"chart-inline"},m.a.createElement("div",{className:"chart-container"},m.a.createElement(O.a,{data:M,identifier:L,title:l,subTitle:"Compliant",themeVariant:j.r.light,colorScale:a,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:r,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}}))),q.unsupportedHostCount>0&&m.a.createElement(P.Text,null,m.a.createElement(B.E,{showHelpIcon:!0},m.a.createElement("strong",{className:"ins-c-warning-text"},q.unsupportedHostCount," systems not supported")))),m.a.createElement(S.GridItem,{sm:12,md:12,lg:12,xl:6},m.a.createElement(B.u,{profile:q})))),m.a.createElement(G.Main,null,m.a.createElement(I.Grid,{hasGutter:!0},m.a.createElement(S.GridItem,{span:12},m.a.createElement(Z,{query:J.a,showOnlySystemsWithTestResults:!0,compliantFilter:!0,defaultFilter:"with_results_for_policy_id = ".concat(q.id),policyId:q.id,columns:X}))))))};Y.propTypes={route:y.a.object};t.default=Y},731:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const n=a(3),r=n.__importStar(a(1)),l=n.__importDefault(a(70)),o=a(2),c=a(83);t.Breadcrumb=e=>{var{children:a=null,className:i="","aria-label":s="Breadcrumb",ouiaId:m,ouiaSafe:u=!0}=e,d=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=c.useOUIAProps(t.Breadcrumb.displayName,m,u);return r.createElement("nav",Object.assign({},d,{"aria-label":s,className:o.css(l.default.breadcrumb,i)},p),r.createElement("ol",{className:l.default.breadcrumbList},r.Children.map(a,(e,t)=>{const a=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails-9d605364301465a56147ab2f310313ac.js.map