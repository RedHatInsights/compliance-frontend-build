(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1017:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(2),r=n.__importDefault(a(93)),o=n.__importDefault(a(746)),c=n.__importDefault(a(687)),s=n.__importDefault(a(747)),u=n.__importDefault(a(688)),d=n.__importDefault(a(689));t.variantIcons={success:o.default,danger:c.default,warning:s.default,info:u.default,default:d.default},t.AlertIcon=e=>{var{variant:a,customIcon:o,className:c=""}=e,s=n.__rest(e,["variant","customIcon","className"]);const u=t.variantIcons[a];return i.createElement("div",Object.assign({},s,{className:l.css(r.default.alertIcon,c)}),o||i.createElement(u,null))}},1018:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const n=a(3).__importStar(a(1));t.AlertContext=n.createContext(null)},1019:function(e,t,a){"use strict";t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},1021:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabTitleText=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(2),r=n.__importDefault(a(52));t.TabTitleText=e=>{var{children:t,className:a=""}=e,o=n.__rest(e,["children","className"]);return i.createElement("span",Object.assign({className:l.css(r.default.tabsItemText,a)},o),t)},t.TabTitleText.displayName="TabTitleText"},1282:function(e,t,a){(t=a(8)(!1)).push([e.i,".threshold-tooltip {\n  margin-bottom: var(--pf-global--spacer--md); }\n\n.grey-icon {\n  color: var(--pf-global--Color--200); }\n\n.policy-description {\n  padding-top: 10px; }\n",""]),e.exports=t},1300:function(e,t,a){"use strict";a.r(t),a.d(t,"MULTIVERSION_QUERY",(function(){return ee})),a.d(t,"QUERY",(function(){return te})),a.d(t,"PolicyDetails",(function(){return ae}));var n=a(680),i=a.n(n),l=a(1),r=a.n(l),o=a(20),c=a.n(o),s=a(676),u=a.n(s),d=a(30),m=a(658),f=a(776),p=a(813),v=a(333),b=a(717),g=a(729),y=a(821),h=a(684),_=a(750),E=a(775),I=a(675),S=a(378),T=a(749),C=a(369),O=(a(846),a(817)),P=a(668),j=a(822),w=a(685),x=function(e){var t=e.loading,a=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(j.PageSection,{variant:j.PageSectionVariants.light},r.a.createElement(P.Text,{component:P.TextVariants.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",a.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(w.SystemRulesTable,{remediationsEnabled:!1,columns:Object(w.selectRulesTableColumns)(["Rule","Severity","Ansible"]),loading:t,profileRules:[{profile:{refId:a.refId,name:a.name},rules:a.rules}]}))};x.propTypes={loading:c.a.bool,policy:c.a.shape({name:c.a.string,refId:c.a.string,rules:c.a.array,benchmark:c.a.object})};var N=x,A=a(134),k=a.n(A),R=a(718),L=a.n(R),M=a(823),B=function(e){var t=e.policy,a=e.systemTableProps,n=Object(T.a)("showSsgVersions");return r.a.createElement(M.b,k()({policyId:t.id,showActions:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}].concat(L()(n?[{key:"facts.compliance",title:"SSG version",renderFunc:function(e){return r.a.createElement(M.a.SSGVersion,{profile:e})}}]:[])),complianceThreshold:t.complianceThreshold},a))};B.propTypes={policy:c.a.shape({id:c.a.string.isRequired,complianceThreshold:c.a.number.isRequired}),systemTableProps:c.a.object};var D=B,V=a(336),z=a.n(V),F=a(1002),G=a(1021);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.policy.policy.profiles;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(j.PageSection,{variant:j.PageSectionVariants.light},r.a.createElement(I.x,{level:1,defaultTab:t[0].ssgVersion},t.map((function(e){return r.a.createElement(y.Tab,{key:e.ssg_version,title:r.a.createElement(G.TabTitleText,null,r.a.createElement("span",null,"SSG ",e.ssgVersion+" "),r.a.createElement(F.Label,{color:"blue"},e.rules.length)),eventKey:e.ssgVersion},r.a.createElement(w.SystemRulesTable,{remediationsEnabled:!1,columns:Object(w.selectRulesTableColumns)(["Rule","Severity","Ansible"]),profileRules:[{profile:K({},e),rules:e.rules}]}))})))))};U.propTypes={policy:c.a.object.isRequired};var q=U,W=a(4),$=a.n(W),Q=a(1282),J=a.n(Q),Y={insert:"head",singleton:!1};$()(J.a,Y),J.a.locals;function Z(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return Z=function(){return e},e}function X(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n            refId\n            profiles {\n                ssgVersion\n                name\n                refId\n                rules {\n                    title\n                    severity\n                    rationale\n                    refId\n                    description\n                    remediationAvailable\n                    identifier\n                }\n            }\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return X=function(){return e},e}var ee=u()(X()),te=u()(Z()),ae=function(e){var t=e.route,a=Object(T.a)("multiversionTabs"),n=Object(d.m)().policy_id,i=Object(d.l)(),o=Object(S.b)(),c=Object(m.useQuery)(a?ee:te,{variables:{policyId:n}}),s=c.data,u=c.error,O=c.loading,P=c.refetch,j=s&&!O?s.profile:void 0;return j&&j.external&&(u={message:"This is an external SCAP policy."},s=void 0,O=void 0),Object(l.useEffect)((function(){P()}),[i]),Object(C.b)(t,null==j?void 0:j.name),r.a.createElement(I.A,{stateValues:{error:u,data:s,loading:O}},r.a.createElement(I.z,{stateKey:"loading"},r.a.createElement(h.PageHeader,null,r.a.createElement(I.k,null)),r.a.createElement(_.Main,null,r.a.createElement(E.Spinner,null))),r.a.createElement(I.z,{stateKey:"data"},j&&r.a.createElement(l.Fragment,null,r.a.createElement(h.PageHeader,{className:"page-header-tabs"},r.a.createElement(f.Breadcrumb,null,r.a.createElement(I.b,{to:"/scappolicies"},"Policies"),r.a.createElement(p.BreadcrumbItem,{isActive:!0},j.name)),r.a.createElement(b.Grid,{gutter:"lg"},r.a.createElement(g.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(h.PageHeaderTitle,{title:j.name})),r.a.createElement(g.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(I.a,{to:"/scappolicies/".concat(j.id,"/edit"),state:{policy:j},hash:o,backgroundLocation:{hash:"details"}},r.a.createElement(v.Button,{variant:"secondary"},"Edit policy")))),r.a.createElement(I.x,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(y.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(y.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(y.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(_.Main,null,r.a.createElement(I.w,{defaultTab:"details"},r.a.createElement(I.d,{eventKey:"details"},r.a.createElement(I.l,{policy:j})),r.a.createElement(I.d,{eventKey:"rules"},a?r.a.createElement(q,{policy:j}):r.a.createElement(N,{policy:j})),r.a.createElement(I.d,{eventKey:"systems"},r.a.createElement(D,{policy:j})))))))};ae.propTypes={route:c.a.object};t.default=ae},687:function(e,t,a){"use strict";t.__esModule=!0,t.ExclamationCircleIconConfig={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationCircleIcon=a(176).createIcon(t.ExclamationCircleIconConfig),t.default=t.ExclamationCircleIcon},688:function(e,t,a){"use strict";t.__esModule=!0,t.InfoCircleIconConfig={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.InfoCircleIcon=a(176).createIcon(t.InfoCircleIconConfig),t.default=t.InfoCircleIcon},689:function(e,t,a){"use strict";t.__esModule=!0,t.BellIconConfig={name:"BellIcon",height:1024,width:896,svgPath:"M448,0 C465.333333,0 480.333333,6.33333333 493,19 C505.666667,31.6666667 512,46.6666667 512,64 L512,106 L514.23,106.45 C587.89,121.39 648.48,157.24 696,214 C744,271.333333 768,338.666667 768,416 C768,500 780,568.666667 804,622 C818.666667,652.666667 841.333333,684 872,716 C873.773676,718.829136 875.780658,721.505113 878,724 C890,737.333333 896,752.333333 896,769 C896,785.666667 890,800.333333 878,813 C866,825.666667 850.666667,832 832,832 L63.3,832 C44.9533333,831.84 29.8533333,825.506667 18,813 C6,800.333333 0,785.666667 0,769 C0,752.333333 6,737.333333 18,724 L24,716 L25.06,714.9 C55.1933333,683.28 77.5066667,652.313333 92,622 C116,568.666667 128,500 128,416 C128,338.666667 152,271.333333 200,214 C248,156.666667 309.333333,120.666667 384,106 L384,63.31 C384.166667,46.27 390.5,31.5 403,19 C415.666667,6.33333333 430.666667,0 448,0 Z M576,896 L576,897.08 C575.74,932.6 563.073333,962.573333 538,987 C512.666667,1011.66667 482.666667,1024 448,1024 C413.333333,1024 383.333333,1011.66667 358,987 C332.666667,962.333333 320,932 320,896 L576,896 Z",yOffset:0,xOffset:0},t.BellIcon=a(176).createIcon(t.BellIconConfig),t.default=t.BellIcon},749:function(e,t,a){"use strict";var n=a(178),i=a(30),l=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.f[e];if(e){var a,r,o,c;a=Object(i.l)(),r=a.search,o=a.pathName,c=Object(i.k)(),r&&(new URLSearchParams(r).forEach(l),c.push(o));var s=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(s)),s}}},776:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const n=a(3),i=n.__importStar(a(1)),l=n.__importDefault(a(71)),r=a(2),o=a(82);t.Breadcrumb=e=>{var{children:a=null,className:c="","aria-label":s="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const f=o.useOUIAProps(t.Breadcrumb.displayName,u,d);return i.createElement("nav",Object.assign({},m,{"aria-label":s,className:r.css(l.default.breadcrumb,c)},f),i.createElement("ol",{className:l.default.breadcrumbList},i.Children.map(a,(e,t)=>{const a=t>0;return i.isValidElement(e)?i.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"},817:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertVariant=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(1),r=a(2),o=n.__importDefault(a(93)),c=n.__importDefault(a(97)),s=a(1017),u=a(82),d=a(1018),m=n.__importDefault(a(1019)),f=a(224);var p;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(p=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:a=p.default,isInline:v=!1,isLiveRegion:b=!1,variantLabel:g=u.capitalize(a)+" alert:","aria-label":y=u.capitalize(a)+" Alert",actionClose:h,actionLinks:_,title:E,children:I="",className:S="",ouiaId:T,ouiaSafe:C=!0,timeout:O=!1,onTimeout:P,truncateTitle:j=0,tooltipPosition:w,customIcon:x}=e,N=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","onTimeout","truncateTitle","tooltipPosition","customIcon"]);const A=u.useOUIAProps(t.Alert.displayName,T,C,a),k=i.createElement(i.Fragment,null,i.createElement("span",{className:r.css(c.default.screenReader)},g),E),[R,L]=l.useState(!1),[M,B]=l.useState(!1),D=i.useRef(null);i.useEffect(()=>{if(!D.current||!j)return;D.current.style.setProperty(m.default.name,j.toString());const e=D.current&&D.current.offsetHeight<D.current.scrollHeight;M!==e&&B(e)},[D,j,M]);const V=r.css(o.default.alert,v&&o.default.modifiers.inline,a!==p.default&&o.default.modifiers[a],S),z=i.createElement("h4",Object.assign({},M&&{tabIndex:0},{ref:D,className:r.css(o.default.alertTitle,j&&o.default.modifiers.truncate)}),k);return!1===R&&O&&0!==O&&setTimeout(()=>{L(!0),P&&P()},!0===O?8e3:O),!1===R?i.createElement("div",Object.assign({},N,{className:V,"aria-label":y},A,b&&{"aria-live":"polite","aria-atomic":"false"}),i.createElement(s.AlertIcon,{variant:a,customIcon:x}),M?i.createElement(f.Tooltip,{content:k,position:w},z):z,h&&i.createElement(d.AlertContext.Provider,{value:{title:E,variantLabel:g}},i.createElement("div",{className:r.css(o.default.alertAction)},h)),I&&i.createElement("div",{className:r.css(o.default.alertDescription)},I),_&&i.createElement("div",{className:r.css(o.default.alertActionGroup)},_)):null},t.Alert.displayName="Alert"},821:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0,t.Tab=e=>null,t.Tab.displayName="Tab"},822:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageSection=t.PageSectionTypes=t.PageSectionVariants=void 0;const n=a(3),i=n.__importStar(a(1)),l=n.__importDefault(a(11)),r=a(2),o=a(145);var c,s;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(c=t.PageSectionVariants||(t.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(s=t.PageSectionTypes||(t.PageSectionTypes={}));const u={[s.default]:l.default.pageMainSection,[s.nav]:l.default.pageMainNav},d={[c.default]:"",[c.light]:l.default.modifiers.light,[c.dark]:l.default.modifiers.dark_200,[c.darker]:l.default.modifiers.dark_100};t.PageSection=e=>{var{className:t="",children:a,variant:c="default",type:s="default",padding:m,isFilled:f,isWidthLimited:p=!1,sticky:v,hasShadowTop:b=!1,hasShadowBottom:g=!1,hasOverflowScroll:y=!1}=e,h=n.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited","sticky","hasShadowTop","hasShadowBottom","hasOverflowScroll"]);return i.createElement("section",Object.assign({},h,{className:r.css(u[s],o.formatBreakpointMods(m,l.default),d[c],!1===f&&l.default.modifiers.noFill,!0===f&&l.default.modifiers.fill,p&&l.default.modifiers.limitWidth,"top"===v&&l.default.modifiers.stickyTop,"bottom"===v&&l.default.modifiers.stickyBottom,b&&l.default.modifiers.shadowTop,g&&l.default.modifiers.shadowBottom,y&&l.default.modifiers.overflowScroll,t)}),p&&i.createElement("div",{className:r.css(l.default.pageMainBody)},a),!p&&a)},t.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-952c696aa5a68adfa9f165ca1047a27b.js.map