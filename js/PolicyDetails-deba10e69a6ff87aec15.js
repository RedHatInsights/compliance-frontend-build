(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1306:function(e,t,n){(t=n(9)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=t},1324:function(e,t,n){"use strict";n.r(t),n.d(t,"MULTIVERSION_QUERY",(function(){return ie})),n.d(t,"QUERY",(function(){return le})),n.d(t,"PolicyDetails",(function(){return oe}));var a=n(689),r=n.n(a),i=n(1),l=n.n(i),o=n(19),s=n.n(o),c=n(686),d=n.n(c),u=n(30),m=n(668),p=n(798),f=n(832),y=n(353),b=n(730),g=n(742),v=n(1035),h=n(696),E=n(762),O=n(793),S=n(683),j=n(389),P=n(726),T=n(379),w=(n(862),n(788)),k=n(678),I=n(838),_=n(695),V=function(e){var t=e.loading,n=e.policy;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),l.a.createElement(I.PageSection,{variant:I.PageSectionVariants.light},l.a.createElement(k.Text,{component:k.TextVariants.p},l.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",n.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),l.a.createElement(_.SystemRulesTable,{remediationsEnabled:!1,columns:Object(_.selectRulesTableColumns)(["Rule","Severity","Ansible"]),loading:t,profileRules:[{profile:{refId:n.refId,name:n.name},rules:n.rules}]}))};V.propTypes={loading:s.a.bool,policy:s.a.shape({name:s.a.string,refId:s.a.string,rules:s.a.array,benchmark:s.a.object})};var R=V,B=n(139),N=n.n(B),x=n(352),A=n.n(x),D=n(697),C=n.n(D),F=n(770),K=n(792),M=n(180),G=n(840);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t=e.policy,n=e.systemTableProps,a=Object(P.a)("newInventory"),r=Object(P.a)("showSsgVersions"),i=a?F.b:F.c;return l.a.createElement(i,N()({query:K.a,policyId:t.id,defaultFilter:"policy_id = ".concat(t.id),showActions:!1,remediationsEnabled:!1,columns:[L({key:"facts.compliance.display_name",title:"Name",props:{width:40,isStatic:!0}},a&&{key:"display_name",renderFunc:function(e,t){return l.a.createElement(M.Link,{to:{pathname:"/systems/".concat(t)}}," ",e," ")}})].concat(C()(r?[{key:"facts.compliance",title:"SSG version",renderFunc:function(e){return l.a.createElement(G.a.SSGVersion,{supported:e.supported,ssgVersion:e.ssg_version})}}]:[])),complianceThreshold:t.complianceThreshold},n))};q.propTypes={policy:s.a.shape({id:s.a.string.isRequired,complianceThreshold:s.a.number.isRequired}),systemTableProps:s.a.object};var U=q,W=n(830),$=n(1113);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){A()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.policy.policy.profiles;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),l.a.createElement(I.PageSection,{variant:I.PageSectionVariants.light},l.a.createElement(S.y,{level:1,defaultTab:t[0].ssgVersion},t.map((function(e){return l.a.createElement(v.Tab,{key:"ssgversion-tab-".concat(e.ssgVersion),title:l.a.createElement($.TabTitleText,null,l.a.createElement("span",null,"SSG ",e.ssgVersion+" "),l.a.createElement(W.Label,{color:"blue"},e.rules.length)),eventKey:e.ssgVersion},l.a.createElement(_.SystemRulesTable,{remediationsEnabled:!1,columns:Object(_.selectRulesTableColumns)(["Rule","Severity","Ansible"]),profileRules:[{profile:J({},e),rules:e.rules}]}))})))))};Y.propTypes={policy:s.a.object.isRequired};var z=Y,X=n(4),Z=n.n(X),ee=n(1306),te=n.n(ee),ne={insert:"head",singleton:!1};Z()(te.a,ne),te.a.locals;function ae(){var e=r()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return ae=function(){return e},e}function re(){var e=r()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n            refId\n            profiles {\n                ssgVersion\n                name\n                refId\n                rules {\n                    title\n                    severity\n                    rationale\n                    refId\n                    description\n                    remediationAvailable\n                    identifier\n                }\n            }\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return re=function(){return e},e}var ie=d()(re()),le=d()(ae()),oe=function(e){var t=e.route,n=Object(P.a)("multiversionTabs"),a=Object(u.m)().policy_id,r=Object(u.l)(),o=Object(j.b)(),s=Object(m.useQuery)(n?ie:le,{variables:{policyId:a}}),c=s.data,d=s.error,w=s.loading,k=s.refetch,I=c&&!w?c.profile:void 0;return I&&I.external&&(d={message:"This is an external SCAP policy."},c=void 0,w=void 0),Object(i.useEffect)((function(){k()}),[r]),Object(T.b)(t,null==I?void 0:I.name),l.a.createElement(S.B,{stateValues:{error:d,data:c,loading:w}},l.a.createElement(S.A,{stateKey:"loading"},l.a.createElement(h.PageHeader,null,l.a.createElement(S.l,null)),l.a.createElement(E.Main,null,l.a.createElement(O.Spinner,null))),l.a.createElement(S.A,{stateKey:"data"},I&&l.a.createElement(i.Fragment,null,l.a.createElement(h.PageHeader,{className:"page-header-tabs"},l.a.createElement(p.Breadcrumb,null,l.a.createElement(S.b,{to:"/"},"Compliance"),l.a.createElement(S.b,{to:"/scappolicies"},"SCAP Policies"),l.a.createElement(f.BreadcrumbItem,{isActive:!0},I.name)),l.a.createElement(b.Grid,{gutter:"lg"},l.a.createElement(g.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},l.a.createElement(h.PageHeaderTitle,{title:I.name})),l.a.createElement(g.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},l.a.createElement(S.a,{to:"/scappolicies/".concat(I.id,"/edit"),state:{policy:I},hash:o,backgroundLocation:{hash:"details"}},l.a.createElement(y.Button,{variant:"secondary"},"Edit policy")))),l.a.createElement(S.y,{"aria-label":"Policy Tabs",defaultTab:"details"},l.a.createElement(v.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),l.a.createElement(v.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),l.a.createElement(v.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),l.a.createElement(E.Main,null,l.a.createElement(S.x,{defaultTab:"details"},l.a.createElement(S.d,{eventKey:"details"},l.a.createElement(S.m,{policy:I})),l.a.createElement(S.d,{eventKey:"rules"},n?l.a.createElement(z,{policy:I}):l.a.createElement(R,{policy:I})),l.a.createElement(S.d,{eventKey:"systems"},l.a.createElement(U,{policy:I})))))))};oe.propTypes={route:s.a.object};t.default=oe},798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const a=n(3),r=a.__importStar(n(1)),i=a.__importDefault(n(70)),l=n(2),o=n(83);t.Breadcrumb=e=>{var{children:n=null,className:s="","aria-label":c="Breadcrumb",ouiaId:d,ouiaSafe:u=!0}=e,m=a.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=o.useOUIAProps(t.Breadcrumb.displayName,d,u);return r.createElement("nav",Object.assign({},m,{"aria-label":c,className:l.css(i.default.breadcrumb,s)},p),r.createElement("ol",{className:i.default.breadcrumbList},r.Children.map(n,(e,t)=>{const n=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:n}):e})))},t.Breadcrumb.displayName="Breadcrumb"},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageSection=t.PageSectionTypes=t.PageSectionVariants=void 0;const a=n(3),r=a.__importStar(n(1)),i=a.__importDefault(n(11)),l=n(2),o=n(150);var s,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(s=t.PageSectionVariants||(t.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=t.PageSectionTypes||(t.PageSectionTypes={}));const d={[c.default]:i.default.pageMainSection,[c.nav]:i.default.pageMainNav},u={[s.default]:"",[s.light]:i.default.modifiers.light,[s.dark]:i.default.modifiers.dark_200,[s.darker]:i.default.modifiers.dark_100};t.PageSection=e=>{var{className:t="",children:n,variant:s="default",type:c="default",padding:m,isFilled:p,isWidthLimited:f=!1,sticky:y,hasShadowTop:b=!1,hasShadowBottom:g=!1,hasOverflowScroll:v=!1}=e,h=a.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited","sticky","hasShadowTop","hasShadowBottom","hasOverflowScroll"]);return r.createElement("section",Object.assign({},h,{className:l.css(d[c],o.formatBreakpointMods(m,i.default),u[s],!1===p&&i.default.modifiers.noFill,!0===p&&i.default.modifiers.fill,f&&i.default.modifiers.limitWidth,"top"===y&&i.default.modifiers.stickyTop,"bottom"===y&&i.default.modifiers.stickyBottom,b&&i.default.modifiers.shadowTop,g&&i.default.modifiers.shadowBottom,v&&i.default.modifiers.overflowScroll,t)}),f&&r.createElement("div",{className:l.css(i.default.pageMainBody)},n),!f&&n)},t.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-71890e0d05e8add05f618090b91bb658.js.map