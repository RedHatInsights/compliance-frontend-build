(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[72],{79641:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QUERY:()=>I,ReportDetails:()=>D,default:()=>k});var r,o=n(32465),i=n(92950),s=n.n(i),l=n(91346),a=n(55490),c=n(34925),u=n(45697),p=n.n(u),m=n(334),d=n(46829),y=n(33121),f=n(46100),g=n(52067),b=n(80708),v=n(48716),h=n(39173),E=n(86350),O=n(92223),j=n(28873),P=n(11443),S=n(99577),C=n(7648),w=n(77346),x=n(50323),R=n(27803),T=n(31499),I=(0,y.ZP)(r||(r=(0,o.Z)(["\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      testResultHostCount\n      compliantHostCount\n      unsupportedHostCount\n      complianceThreshold\n      majorOsVersion\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n      }\n      benchmark {\n        id\n        version\n      }\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n"]))),D=function(e){var t,n,r,o,i,u=e.route,p=(0,m.useParams)().report_id,y=(0,w.ZP)("pdfReport"),D=(0,d.useQuery)(I,{variables:{policyId:p},fetchPolicy:"no-cache"}),k=D.data,Z=D.error,F=D.loading,N=[],H="loading-donut",V={};if(!F&&k){n=(V=k.profile).policy.name,i="Report: ".concat(n);var G=V.compliantHostCount,M=V.testResultHostCount;H=V.name.replace(/ /g,""),N=[{x:"Compliant",y:M?G:"0"},{x:"Non-compliant",y:M-G}],t=0===M&&[l.Z.value]||[c.Z.value,a.Z.value],r=[{name:N[0].y+" "+(0,P._6)(N[0].y,"system")+" compliant"},{name:N[1].y+" "+(0,P._6)(N[1].y,"system")+" non-compliant"}],o=M?(0,P.P0)(Math.floor(N[0].y/(N[0].y+N[1].y)*100)):0}return(0,C.a)(u,n),s().createElement(S.tC,{stateValues:{error:Z,data:k,loading:F}},s().createElement(S.K7,{stateKey:"loading"},s().createElement(v.Z,null,s().createElement(S.Tq,null)),s().createElement(E.Z,null,s().createElement(O.Z,null,s().createElement(j.Z,null)))),s().createElement(S.K7,{stateKey:"data"},s().createElement(v.Z,null,s().createElement(b.Breadcrumb,{ouiaId:"ReportDetailsPathBreadcrumb"},s().createElement(S.MU,{to:"/"},"Compliance"),s().createElement(S.MU,{to:"/reports"},"Reports"),s().createElement(b.BreadcrumbItem,{isActive:!0},i)),s().createElement(b.Grid,{hasGutter:!0},s().createElement(b.GridItem,{sm:9,md:9,lg:9,xl:9},s().createElement(h.Z,{title:i}),s().createElement(S.Zr,null,V.policyType)),s().createElement(b.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},y&&s().createElement(S.mR,{state:{profile:V},to:"/reports/".concat(V.id,"/pdf")},s().createElement(b.Button,{ouiaId:"ReportDetailsDownloadReportPDFLink",variant:"primary",className:"pf-u-mr-md"},"Download PDF")),s().createElement(S.mR,{state:{profile:V},to:"/reports/".concat(V.id,"/delete")},s().createElement(b.Button,{variant:"link",ouiaId:"ReportDetailsDeleteReportLink",isInline:!0},"Delete report")))),s().createElement(b.Grid,{hasGutter:!0},s().createElement(b.GridItem,{sm:12,md:12,lg:12,xl:6},s().createElement("div",{className:"chart-inline"},s().createElement("div",{className:"chart-container"},s().createElement(f.HS,{data:N,identifier:H,title:o,subTitle:"Compliant",themeVariant:g.py.light,colorScale:t,style:{fontSize:20},constrainToVisibleArea:!0,innerRadius:88,width:462,legendPosition:"right",legendData:r,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}}))),V.unsupportedHostCount>0&&s().createElement(b.Text,null,s().createElement(S.cT,{showHelpIcon:!0},s().createElement("strong",{className:"ins-c-warning-text"},V.unsupportedHostCount," systems not supported")))),s().createElement(b.GridItem,{sm:12,md:12,lg:12,xl:6},s().createElement(S.vu,{profile:V})))),s().createElement(E.Z,null,s().createElement(b.Grid,{hasGutter:!0},s().createElement(b.GridItem,{span:12},s().createElement(x.e_,{showOsMinorVersionFilter:[V.majorOsVersion],columns:[T.Zw({showLink:!0,showOsInfo:!0}),T.MO("tags"),T.hN,T.ll,T.OF,T.Hc],query:R.Ep,showOnlySystemsWithTestResults:!0,compliantFilter:!0,defaultFilter:"with_results_for_policy_id = ".concat(V.id),policyId:V.id}))))))};D.propTypes={route:p().object};const k=D},97839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReportDownload:()=>Ee,default:()=>Oe});var r,o,i=n(92950),s=n.n(i),l=n(80708),a=n(334),c=n(46829),u=n(58141),p=n(99577),m=n(52710),d=n(32465),y=n(33121),f={compliantSystems:!1,nonCompliantSystems:!0,unsupportedSystems:!0,topTenFailedRules:!0,userNotes:void 0},g=(0,y.ZP)(r||(r=(0,d.Z)(["\n  query getSystems(\n    $filter: String!\n    $policyId: ID\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          testResultProfiles(policyId: $policyId) {\n            id\n            name\n            refId\n            lastScanned\n            compliant\n            external\n            score\n            supported\n            ssgVersion\n            majorOsVersion\n            rules {\n              refId\n              title\n              compliant\n              remediationAvailable\n              severity\n              identifier\n            }\n          }\n          policies(policyId: $policyId) {\n            id\n            name\n          }\n          tags {\n            namespace\n            key\n            value\n          }\n        }\n      }\n    }\n  }\n"]))),b=(0,y.ZP)(o||(o=(0,d.Z)(["\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      testResultHostCount\n      compliantHostCount\n      unsupportedHostCount\n      complianceThreshold\n      majorOsVersion\n      lastScanned\n      policyType\n      totalHostCount\n      ssgVersion\n      policy {\n        id\n        name\n      }\n      benchmark {\n        id\n        version\n      }\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n"]))),v=n(45697),h=n.n(v),E=function(e){var t=e.policy,n=e.setExportSetting,r=e.exportSettings;return s().createElement(l.Form,null,s().createElement(l.FormGroup,{isInline:!0,fieldId:"simple-form-checkbox-group",label:"Policy"},s().createElement(l.Text,null,t.name)),s().createElement(l.FormGroup,{fieldId:"simple-form-checkbox-group",label:"System data to include"},s().createElement(l.Checkbox,{label:"Non-compliant systems",id:"non-compliant-systems-export-setting","aria-label":"Non-compliant systems",onChange:n("nonCompliantSystems"),isChecked:r.nonCompliantSystems}),s().createElement(l.Checkbox,{label:"Systems with unsupported configuration",id:"unsupported-systems-export-setting","aria-label":"Systems with unsupported configuration",onChange:n("unsupportedSystems"),isChecked:r.unsupportedSystems}),s().createElement(l.Checkbox,{id:"compliant-systems-export-setting",onChange:n("compliantSystems"),isChecked:r.compliantSystems,label:"Compliant systems","aria-label":"Compliant systems"})),s().createElement(l.FormGroup,{label:"Rule data to include",fieldId:"checkbox01"},s().createElement(l.Checkbox,{id:"failed-rules-export-setting",label:"Top failed rules (Up to 10)","aria-label":"Rule data to include",onChange:n("topTenFailedRules"),isChecked:r.topTenFailedRules})),s().createElement(l.FormGroup,{label:"User notes (optional)",fieldId:"checkbox01"},s().createElement(l.TextArea,{"aria-label":"User notes (optional)",onChange:n("userNotes"),value:r.userNotes})))};E.propTypes={policy:h().object,exportSettings:h().object,setExportSetting:h().func};const O=E;var j=n(92137),P=n(87757),S=n.n(P),C=n(65811),w=n(96156),x=n(85061),R=n(79886),T=n(99373);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=function(e){return(null==e?void 0:e.filter((function(e){return"Never"!=e.lastScanned})))||[]},k=function(e){var t=e.testResultProfiles;return D(t).length>0},Z=function(e){return k(e)&&D(e.testResultProfiles).every((function(e){return e.supported}))},F=function(e){return e.filter((function(e){return Z(e)&&function(e){var t=D(e.testResultProfiles).length>0,n=D(e.testResultProfiles).every((function(e){return e.compliant}));return t&&n}(e)}))},N=function(e){return e.filter((function(e){return Z(e)&&function(e){var t=D(e.testResultProfiles).length>0,n=D(e.testResultProfiles).filter((function(e){return!e.compliant})).length>0;return t&&n}(e)}))},H=function(e){return e.filter((function(e){return function(e){return k(e)&&D(e.testResultProfiles).every((function(e){return!e.supported}))}(e)}))},V=function(e){var t={};return function(e){return e.filter((function(e){return Z(e)}))}(e).forEach((function(e){e.testResultProfiles.forEach((function(e){e.rules.forEach((function(e){return function(e){e.compliant||(t[e.refId]?t[e.refId].systemCount++:t[e.refId]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({systemCount:1},e))}(e)}))}))})),t},G=function(e){return t=V(e),10===(o=(n=r=Object.values(t),n.sort((function(e){return e.systemCount}))).slice(0,10)).filter((function(e){return 1===e.systemCount})).length?(0,R.qk)(r,"severity",T.FT,"asc").slice(0,10):o;var t,n,r,o};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=Math.ceil(t/n)||1;return Promise.all((0,x.Z)(new Array(r)).map((function(t,r){return e(n,r+1)})))};var _=n(70194),A=n(62410);const q=_.mM.create({bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},metaTitle:{color:"#C9190B",marginBottom:"20px"},userNotes:{backgroundColor:"#F0F0F0",padding:"8px"},userNotesTitle:{marginBottom:"4px"},sectionTitle:{color:"#C9190B",fontWeight:"bold",fontSize:14},subSectionTitle:{color:"#C9190B",fontWeight:"bold",fontSize:10,marginBottom:"10pt"}});var K=n(11443),U=n(82176),L=function(e){var t=e.systems.map((function(e){return[e.name,"RHEL ".concat(e.osMajorVersion,".").concat(e.osMinorVersion),"".concat((0,U.RT)(e.testResultProfiles).rulesFailed||""),(0,K.P0)((0,U.RT)(e.testResultProfiles).score)]}));return s().createElement(u.iA,{withHeader:!0,rows:[["System name","OS","Failed rules","Compliance score"]].concat((0,x.Z)(t))})};L.propTypes={systems:h().array};const z=L;var W=function(e){var t=e.systems,n=e.ssgFinder,r=t.map((function(e){return[e.name,"RHEL ".concat(e.osMajorVersion,".").concat(e.osMinorVersion),e.testResultProfiles[0].ssgVersion,n(e.osMajorVersion,e.osMinorVersion)]}));return s().createElement(u.iA,{withHeader:!0,rows:[["System name","OS","Running SSG version","Expected SSG version"]].concat((0,x.Z)(r))})};W.propTypes={systems:h().array,ssgFinder:h().func};const Q=W;var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.slice(1)},Y=function(e){var t=e.rules.map((function(e){return[e.title,(t=e,n=t.identifier,JSON.parse(n||"{}").label||""),J(null==e?void 0:e.severity),"".concat(e.systemCount)];var t,n}));return s().createElement(u.iA,{withHeader:!0,rows:[["Rule name","ID","Severity","Failed systems"]].concat((0,x.Z)(t))})};Y.propTypes={rules:h().array};const X=Y;var ee=function(e){var t=e.children,n=e.title;return s().createElement(_.G7,{style:{justifyContent:"space-evenly",width:"32%",paddingRight:"1%"}},s().createElement(_.G7,null,s().createElement(_.xv,{style:{color:"#C9190B",fontSize:20}},t)),s().createElement(_.xv,null,n))};ee.propTypes={children:h().node,title:h().string};const te=ee;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e){var t=e.children,n=e.metaTitle,r=e.title;return s().createElement(_.G7,{style:{marginBottom:"20pt"}},s().createElement(_.G7,{style:{justifyContent:"start"}},s().createElement(_.xv,{style:re(re({},q.subSectionTitle),{},{width:"70%"})},r),s().createElement(_.xv,null,n)),t)};oe.propTypes={children:h().node,metaTitle:h().string,title:h().string};const ie=oe;var se=function(e){var t=e.policy,n=t.testResultHostCount,r=void 0===n?0:n,o=t.compliantHostCount,i=void 0===o?0:o,l=t.percentCompliant,a=void 0===l?0:l,c=r-i,p=[{x:"".concat(i," systems compliant"),y:i},{x:"".concat(c," systems non-compliant"),y:c}],m=(0,K.P0)(a);return s().createElement(u.kL,{legendHeader:"",chartType:"donut",subTitle:"Compliant",colorSchema:"blue",title:m,data:p})};se.propTypes={policy:h().object};const le=se;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t,n=e.data,r=e.ssgFinder,o=n.compliantSystems,l=n.compliantSystemCount,a=n.nonCompliantSystems,c=n.nonCompliantSystemCount,p=n.topTenFailedRules,m=n.unsupportedSystems,d=n.unsupportedSystemCount,y=n.userNotes,f=n.policy,g=f.testResultHostCount,b=void 0===g?0:g,v=f.compliantHostCount,h=void 0===v?0:v,E=Math.floor(h/b*100);return s().createElement(i.Fragment,null,s().createElement(_.xv,{style:q.subSectionTitle},"Report prepared ".concat((0,A.Z)({date:new Date,type:"exact"}).props.children)),y&&s().createElement(_.G7,{style:q.userNotes},s().createElement(u.nv,{style:q.userNotesTitle},s().createElement(_.xv,{style:q.bold},"User notes")),s().createElement(u.nv,null,s().createElement(_.xv,null,y))),s().createElement(u.$0,{title:"Policy Details",titleProps:{style:q.sectionTitle}},s().createElement(u.sg,{style:{width:"150px"}},s().createElement(u.iA,{rows:[["Policy type",f.policyType],["Operating system","RHEL ".concat(f.osMajorVersion)],["Compliance threshold","".concat(f.complianceThreshold,"%")],["Business Objective",(null===(t=f.businessObjective)||void 0===t?void 0:t.title)||"--"]]})),s().createElement(u.sg,null,s().createElement(le,{policy:ce(ce({},f),{},{percentCompliant:E})}))),s().createElement(u.$0,{title:"Systems",withColumn:!1,titleProps:{style:q.sectionTitle}},s().createElement(u.s_,{withColumn:!1},s().createElement(te,{title:"Non-compliant systems"},c),d?s().createElement(te,{title:"Systems with unsupported configuration"},d):null,s().createElement(te,{title:"Compliant systems"},l)),a&&c?s().createElement(ie,{title:"Non-compliant systems",metaTitle:"".concat(c," systems (").concat(100-E,"% non-compliant)")},s().createElement(z,{systems:a})):null,m&&d?s().createElement(ie,{title:"Systems with unsupported configuration",metaTitle:"".concat(d," systems")},s().createElement(Q,{systems:m,ssgFinder:r})):null,o&&l?s().createElement(ie,{title:"Compliant systems",metaTitle:"".concat(l," systems (").concat(E,"% compliant)")},s().createElement(z,{systems:o})):null),p?s().createElement(u.$0,{title:"Rules",withColumn:!1,titleProps:{style:q.sectionTitle}},s().createElement(ie,{title:"Top failed rules"},s().createElement(X,{rules:p}))):null)};ue.propTypes={data:h().object,ssgFinder:h().func};const pe=ue;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=n(73277),fe=function(e,t){return parseInt(e)===parseInt(t)};const ge=function(e,t){var n,r,o=(r=(0,ye.Z)("supported_ssgs",{type:"supportedSsg",skip:n}).data,function(e,t){var n,o=null===(n=(r||{}).collection)||void 0===n?void 0:n.find((function(n){return fe(n.osMajorVersion,e)&&fe(n.osMinorVersion,t)}));return(null==o?void 0:o.version)||"N/A"}),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.totalHostCount,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onComplete:function(){},onError:function(){}},i=o.onComplete,s=o.onError,l=(0,c.useApolloClient)(),a=function(t){var n=F(t),r=N(t),o=H(t);return B(B(B(B(B({},e.compliantSystems&&{compliantSystems:n}),{},{compliantSystemCount:n.length},e.nonCompliantSystems&&{nonCompliantSystems:r}),{},{nonCompliantSystemCount:r.length},e.unsupportedSystems&&{unsupportedSystems:o}),{},{unsupportedSystemCount:o.length},e.topTenFailedRules&&{topTenFailedRules:G(t)}),e.userNotes&&{userNotes:e.userNotes})},u=function(e,t){return l.query({query:g,fetchResults:!0,fetchPolicy:"no-cache",variables:{perPage:e,page:t,filter:"",policyId:n}})};return function(){return $(u,r).then((function(e){return e.flatMap((function(e){return e.data.systems.edges.map((function(e){return e.node}))}))})).then((function(e){var t=a(e);return i&&i(t),t})).catch((function(e){if(s)return s(e),[];throw e}))}}(e,t,{onError:function(){(0,C.q)({variant:"danger",title:"Couldn’t download export",description:"Reinitiate this export to try again."})},onComplete:function(){(0,C.q)({variant:"success",title:"Downloading export"})}}),l=function(e){return function(){var t=(0,j.Z)(S().mark((function t(n,r){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[s().createElement(pe,{key:"pdf-page-1",data:de(de({},n),{},{policy:e}),ssgFinder:r})]);case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t);return function(){var e=(0,j.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,C.q)({variant:"info",title:"Preparing export",description:"Once complete, your download will start automatically."}),e.next=3,i();case 3:return t=e.sent,e.next=6,l(t,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};var be=n(28481);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(){var e=(0,a.useParams)().report_id,t=(0,m.C3)("/reports/"+e),n=(0,c.useQuery)(b,{variables:{policyId:e}}),r=n.data,o=n.loading,d=n.error,y=null==r?void 0:r.profile,g=function(){var e=(0,i.useState)(f),t=(0,be.Z)(e,2),n=t[0],r=t[1];return{exportSettings:n,setExportSetting:function(e){return function(t){return r(he(he({},n),{},(0,w.Z)({},e,t)))}},isValid:Object.keys(n).some((function(e){return 1==("userNotes"!==e&&!!n[e])}))}}(),v=g.exportSettings,h=g.setExportSetting,E=g.isValid,j=ge(v,y),P="compliance-report--".concat((new Date).toISOString().split("T")[0]),S="Export report",C={ouiaId:"ExportReportButton",variant:"primary",isDisabled:!E},x=function(){return s().createElement(l.Button,C,S)},R=[s().createElement(u.o6,{groupName:"Red Hat Insights",key:"export",label:S,reportName:"Compliance:",type:y&&y.name,fileName:P,asyncFunction:j,buttonProps:C,fallback:s().createElement(x,null),className:"pf-u-mr-sm"}),s().createElement(l.Button,{variant:"secondary",key:"cancel",ouiaId:"ExportReportCancelButton",onClick:function(e){e.preventDefault(),window.history.back()}},"Cancel")];return s().createElement(l.Modal,{isOpen:!0,width:"440px",ouiaId:"DownloadReportModal",title:"Compliance report",onClose:t,actions:R},s().createElement(p.tC,{stateValues:{error:d,data:r,loading:o}},s().createElement(p.K7,{stateKey:"loading"},s().createElement(l.Spinner,null)),s().createElement(p.K7,{stateKey:"data"},s().createElement(O,{policy:y,setExportSetting:h,exportSettings:v}))))};const Oe=Ee},25832:()=>{},52361:()=>{},94616:()=>{}}]);