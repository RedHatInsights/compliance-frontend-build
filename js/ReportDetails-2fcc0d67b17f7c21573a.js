(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1069:function(e,t,a){(t=a(8)(!1)).push([e.i,".threshold-tooltip {\n  margin-bottom: var(--pf-global--spacer--md); }\n\n.grey-icon {\n  color: var(--pf-global--Color--200); }\n\n.policy-details {\n  padding-top: 10px; }\n\n.report-details-button {\n  text-align: right; }\n",""]),e.exports=t},1104:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY",(function(){return z})),a.d(t,"ReportDetails",(function(){return A}));var n=a(682),l=a.n(n),r=a(672),o=a.n(r),c=a(1),i=a.n(c);const s={name:"--pf-global--palette--black-300",value:"#d2d2d2",var:"var(--pf-global--palette--black-300)"};var m=a(701),d=a(702),u=a(19),p=a.n(u),b=a(27),f=a(651),g=a(668),y=a.n(g),h=a(1100),E=a(1085),v=a(738),S=a(767),w=a(339),I=a(685),_=a(692),O=a(661),j=a(676),G=a(709),k=a(821),C=a(737),N=a(699),x=a(708),H=a(667),B=a(777),R=a(367),T=(a(800),a(4)),P=a.n(T),D=a(1069),V=a.n(D),F={insert:"head",singleton:!1};P()(V.a,F),V.a.locals;function M(){var e=o()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        testResultHostCount\n        compliantHostCount\n        unsupportedHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        benchmark {\n            id\n            version\n        }\n        businessObjective {\n            id\n            title\n        }\n    }\n}\n"]);return M=function(){return e},e}var z=y()(M()),A=function(e){var t,a,n,r,o,c,u=e.route,p=Object(x.a)("showSsgVersions"),g=Object(b.m)().report_id,y=Object(f.useQuery)(z,{variables:{policyId:g}}),T=y.data,P=y.error,D=y.loading,V=[],F="loading-donut",M={};if(!D&&T){var A;n=(M=T.profile).policy?M.policy.name:M.name,t=!(null===(A=M)||void 0===A||!A.policy)&&p,c="Report: ".concat(n);var L=M.compliantHostCount,U=M.testResultHostCount;F=M.name.replace(/ /g,""),V=[{x:"Compliant",y:U?L:"0"},{x:"Non-compliant",y:U-L}],a=0===U&&[s.value]||[m.a.value,d.a.value],r=[{name:V[0].y+" "+Object(N.b)(V[0].y,"system")+" compliant"},{name:V[1].y+" "+Object(N.b)(V[1].y,"system")+" non-compliant"}],o=U?Object(N.a)(Math.floor(V[0].y/(V[0].y+V[1].y)*100)):0}var J=[{key:"facts.compliance.display_name",title:"System name",props:{width:30}}].concat(l()(t?[{key:"facts.compliance",title:"SSG version",props:{width:5},renderFunc:function(e){return e&&i.a.createElement(B.a.SSGVersion,{profile:e})}}]:[]),[{key:"facts.compliance.rules_failed",title:"Failed rules",props:{width:5}},{key:"facts.compliance.compliance_score",title:"Compliance score",props:{width:5}},{key:"facts.compliance.last_scanned",title:"Last scanned",props:{width:10}}]);return Object(R.b)(u,n),i.a.createElement(H.A,{stateValues:{error:P,data:T,loading:D}},i.a.createElement(H.z,{stateKey:"loading"},i.a.createElement(j.PageHeader,null,i.a.createElement(H.s,null)),i.a.createElement(G.Main,null,i.a.createElement(k.EmptyTable,null,i.a.createElement(C.Spinner,null)))),i.a.createElement(H.z,{stateKey:"data"},i.a.createElement(j.PageHeader,null,i.a.createElement(v.Breadcrumb,null,i.a.createElement(H.b,{to:"/reports"},"Reports"),i.a.createElement(S.BreadcrumbItem,{isActive:!0},c)),i.a.createElement(I.Grid,{hasGutter:!0},i.a.createElement(_.GridItem,{sm:9,md:9,lg:9,xl:9},i.a.createElement(j.PageHeaderTitle,{title:c}),i.a.createElement(H.B,null,M.policyType)),i.a.createElement(_.GridItem,{className:"report-details-button",sm:3,md:3,lg:3,xl:3},i.a.createElement(H.a,{state:{profile:M},to:"/reports/".concat(M.id,"/delete")},i.a.createElement(w.Button,{variant:"link",isInline:!0},"Delete report")))),i.a.createElement(I.Grid,{hasGutter:!0},i.a.createElement(_.GridItem,{sm:12,md:12,lg:12,xl:6},i.a.createElement("div",{className:"chart-inline"},i.a.createElement("div",{className:"chart-container"},i.a.createElement(h.a,{data:V,identifier:F,title:o,subTitle:"Compliant",themeVariant:E.r.light,colorScale:a,style:{fontSize:20},innerRadius:88,width:462,legendPosition:"right",legendData:r,legendOrientation:"vertical",padding:{bottom:20,left:0,right:250,top:20}}))),M.unsupportedHostCount>0&&i.a.createElement(O.Text,null,i.a.createElement(H.D,{showHelpIcon:!0},i.a.createElement("strong",{className:"ins-c-warning-text"},M.unsupportedHostCount," systems not supported")))),i.a.createElement(_.GridItem,{sm:12,md:12,lg:12,xl:6},i.a.createElement(H.t,{profile:M})))),i.a.createElement(G.Main,null,i.a.createElement(I.Grid,{hasGutter:!0},i.a.createElement(_.GridItem,{span:12},i.a.createElement(B.b,{showOnlySystemsWithTestResults:!0,compliantFilter:!0,defaultFilter:"with_results_for_policy_id = ".concat(M.id),policyId:M.id,columns:J}))))))};A.propTypes={route:p.a.object};t.default=A},708:function(e,t,a){"use strict";var n=a(179),l=a(27),r=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.f[e];if(e){var a,o,c,i;a=Object(l.l)(),o=a.search,c=a.pathName,i=Object(l.k)(),o&&(new URLSearchParams(o).forEach(r),i.push(c));var s=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(s)),s}}},738:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const n=a(3),l=n.__importStar(a(1)),r=n.__importDefault(a(68)),o=a(2),c=a(79);t.Breadcrumb=e=>{var{children:a=null,className:i="","aria-label":s="Breadcrumb",ouiaId:m,ouiaSafe:d=!0}=e,u=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=c.useOUIAProps(t.Breadcrumb.displayName,m,d);return l.createElement("nav",Object.assign({},u,{"aria-label":s,className:o.css(r.default.breadcrumb,i)},p),l.createElement("ol",{className:r.default.breadcrumbList},l.Children.map(a,(e,t)=>{const a=t>0;return l.isValidElement(e)?l.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"}}]);
//# sourceMappingURL=../sourcemaps/ReportDetails-db60424f64985eace51fd1025bcba4be.js.map