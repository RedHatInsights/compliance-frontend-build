(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[565],{57382:(e,n,t)=>{"use strict";t.r(n),t.d(n,{CompliancePolicies:()=>y,default:()=>g});var a=t(28655),r=t.n(a),l=t(77865),i=t.n(l),c=t(44119),o=t.n(c),s=t(47194),m=t(46829),d=t(98627),u=t(68433),p=t(44510),f=t(99263),E=t(37311);function h(){var e=r()(['\n{\n    profiles(search: "external = false and canonical = false") {\n        edges {\n            node {\n                id\n                name\n                description\n                refId\n                complianceThreshold\n                totalHostCount\n                majorOsVersion\n                policyType\n                policy {\n                    id\n                    name\n                }\n                benchmark {\n                    id\n                    title\n                    version\n                }\n                hosts {\n                    id\n                }\n                businessObjective {\n                    id\n                    title\n                }\n            }\n        }\n    }\n}\n']);return h=function(){return e},e}var v=o()(h()),y=function(){var e,n=(0,s.useLocation)(),t=i().createElement(E.mR,{to:"/scappolicies/new"},i().createElement(d.Button,{variant:"primary"},"Create new policy")),a=(0,m.useQuery)(v),r=a.data,c=a.error,o=a.loading,h=a.refetch;return(0,l.useEffect)((function(){h()}),[n]),r&&(c=void 0,o=void 0,e=r.profiles.edges.map((function(e){return e.node}))),i().createElement(i().Fragment,null,i().createElement(u.m,{className:"page-header"},i().createElement(u.B,{title:"SCAP policies"})),i().createElement(p.o,null,i().createElement(E.Se,{stateValues:{error:c,data:r,loading:o}},i().createElement(E.K7,{stateKey:"error"},i().createElement(E.mf,{error:c})),i().createElement(E.K7,{stateKey:"loading"},i().createElement(E.Ir,null)),i().createElement(E.K7,{stateKey:"data"},e&&0===e.length?i().createElement(d.Grid,{hasGutter:!0},i().createElement(f.kt,{title:"No policies",mainButton:t})):i().createElement(E.V_,{policies:e})))))};const g=y}}]);
//# sourceMappingURL=CompliancePolicies.6293da2342ce1fa4f3ba.js.map