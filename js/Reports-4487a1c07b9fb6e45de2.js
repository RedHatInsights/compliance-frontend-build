(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1482:function(e,t,n){"use strict";n.r(t),n.d(t,"Reports",(function(){return z}));var a=n(595),r=n.n(a),i=n(1),l=n.n(i),o=n(12),s=n.n(o),c=n(22),u=n(577),f=n(591),m=n.n(f),d=n(703),p=n(586),v=n(599),_=n(633),b=n(789),h=n(590),y=n(632);function g(){var e=r()(["\nquery Profiles($filter: String!) {\n    profiles(search: $filter, limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                policyType\n                totalHostCount\n                testResultHostCount\n                compliantHostCount\n                unsupportedHostCount\n                majorOsVersion\n                ssgVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n"]);return g=function(){return e},e}var S=m()(g()),E=function(e){return e.showTableView?l.a.createElement(b.SkeletonTable,{colSize:3,rowSize:10}):l.a.createElement(h.g,null)};E.propTypes={showTableView:s.a.bool};var w=function(){return l.a.createElement(v.PageHeader,null,l.a.createElement(v.PageHeaderTitle,{title:"Reports",className:"pad-bottom"}),l.a.createElement(d.Alert,{variant:"info",isInline:!0,title:"Support for external reports will be removed in December 2020.",actionLinks:l.a.createElement("a",{href:"https://access.redhat.com/solutions/5249481"},"Learn more")},l.a.createElement(p.Text,{variant:"p"},"Support for SCAP policies NOT defined within Compliance has been removed. The associated reports for these policies will be removed from Insights by Jan 11th, 2020. Create a policy within the Compliance service for compliance reporting.")))},z=function(){var e=[],t=!1,n=Object(c.l)(),a=Object(y.a)("reportsTableView"),r=a?h.v:h.r,o=Object(u.useQuery)(S,{variables:{filter:"(has_policy_test_results = true AND external = false)\n                    OR (has_policy = false AND has_test_results = true)"}}),s=o.data,f=o.error,m=o.loading,d=o.refetch;return Object(i.useEffect)((function(){d()}),[n]),s&&(f=void 0,m=void 0,t=(e=function(e){var t;return((null==e||null===(t=e.profiles)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node}))}(s))&&e.length>0),l.a.createElement(h.A,{stateValues:{error:f,data:s,loading:m}},l.a.createElement(h.z,{stateKey:"loading"},l.a.createElement(w,null),l.a.createElement(_.Main,null,l.a.createElement(E,{showTableView:a}))),l.a.createElement(h.z,{stateKey:"data"},l.a.createElement(w,null),l.a.createElement(_.Main,null,t?l.a.createElement(r,{profiles:e}):l.a.createElement(h.u,null))))};t.default=z},619:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156);var r=n(301),i=n(299),l=n(302),o=a(n(1)),s=a(n(12)),c=a(n(594)),u={xs:"xs",sm:"sm",md:"md",lg:"lg"},f=function(e){var t=e.size,n=e.isDark,a=e.className,s=l._objectWithoutProperties(e,["size","isDark","className"]),u=c("ins-c-skeleton","ins-c-skeleton__".concat(t),i._defineProperty({},"ins-m-dark",n),a);return o.createElement("div",r._extends({className:u},s),"Â ")};f.propTypes={className:s.string,size:s.oneOf(Object.values(u)),isDark:s.bool},f.defaultProps={size:u.md,isDark:!1},t.Skeleton=f,t.SkeletonSize=u},632:function(e,t,n){"use strict";var a=n(226),r=n(22),i=function(e,t){var n="enable"===e;n?(console.log("Setting feature value for ".concat(t," to ").concat(n)),localStorage.setItem("".concat("insights:compliance",":").concat(t),n)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=a.d[e];if(e){var n,l,o,s;n=Object(r.l)(),l=n.search,o=n.pathName,s=Object(r.k)(),l&&(new URLSearchParams(l).forEach(i),s.push(o));var c=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(c)),c}}},703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3),r=a.__importStar(n(1)),i=n(1),l=n(2),o=a.__importDefault(n(66)),s=a.__importDefault(n(84)),c=n(790),u=n(93),f=n(791),m=a.__importDefault(n(235));var d;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(d=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:n=d.default,isInline:p=!1,isLiveRegion:v=!1,variantLabel:_=u.capitalize(n)+" alert:","aria-label":b=u.capitalize(n)+" Alert",actionClose:h,actionLinks:y,title:g,children:S="",className:E="",ouiaId:w,ouiaSafe:z=!0,timeout:A=!1,truncateTitle:C=0}=e,T=a.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","truncateTitle"]);const k=r.createElement(r.Fragment,null,r.createElement("span",{className:l.css(s.default.screenReader)},_),g),[P,O]=i.useState(!1),N=r.useRef(null);r.useEffect(()=>{N.current&&C&&N.current.style.setProperty(m.default.name,C.toString())},[N,C]);const I=l.css(o.default.alert,p&&o.default.modifiers.inline,n!==d.default&&o.default.modifiers[n],E);return!1===P&&A&&0!==A&&setTimeout(()=>{O(!0)},!0===A?8e3:A),!1===P?r.createElement("div",Object.assign({},T,{className:I,"aria-label":b},u.getOUIAProps(t.Alert.displayName,w,z),v&&{"aria-live":"polite","aria-atomic":"false"}),r.createElement(c.AlertIcon,{variant:n}),r.createElement("h4",{ref:N,className:l.css(o.default.alertTitle,C&&o.default.modifiers.truncate)},k),h&&r.createElement(f.AlertContext.Provider,{value:{title:g,variantLabel:_}},r.createElement("div",{className:l.css(o.default.alertAction)},h)),S&&r.createElement("div",{className:l.css(o.default.alertDescription)},S),y&&r.createElement("div",{className:l.css(o.default.alertActionGroup)},y)):null},t.Alert.displayName="Alert"},789:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(156),n(301);var r=n(299);n(302);var i=a(n(1)),l=a(n(12));n(594);var o=n(305),s=n(303),c=n(604),u=n(619);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){s._inherits(n,e);var t=function(e){return function(){var t,n=s._getPrototypeOf(e);if(f()){var a=s._getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return s._possibleConstructorReturn(this,t)}}(n);function n(){var e;s._classCallCheck(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),r._defineProperty(s._assertThisInitialized(e),"createColumns",(function(){var t=e.props.colSize;return o._toConsumableArray(Array(t)).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.sm})}}))})),r._defineProperty(s._assertThisInitialized(e),"getColumns",(function(){var t=e.props,n=t.paddingColumnSize,a=t.columns;return e.newArray(n).map((function(){return""})).concat(a||e.createColumns())})),r._defineProperty(s._assertThisInitialized(e),"createRows",(function(){var t=e.props,n=t.colSize,a=t.rowSize,r=t.columns,l=t.paddingColumnSize,o=r?r.length:n;return e.newArray(a).map((function(){return{cells:e.newArray(l).map((function(){return""})).concat(e.newArray(o).map((function(){return{title:i.createElement(u.Skeleton,{size:u.SkeletonSize.md})}})))}}))})),r._defineProperty(s._assertThisInitialized(e),"newArray",(function(e){return o._toConsumableArray(Array(e))})),e}return s._createClass(n,[{key:"render",value:function(){return i.createElement(c.Table,{cells:this.getColumns(),rows:this.createRows(),sortBy:this.props.sortBy,"aria-label":"Loading"},i.createElement(c.TableHeader,null),i.createElement(c.TableBody,null))}}]),n}(i.Component);m.propTypes={colSize:l.number,rowSize:l.number,columns:l.array,paddingColumnSize:l.number,sortBy:l.shape({index:l.number,direction:l.oneOf(["asc","desc"])})},m.defaultProps={rowSize:0,paddingColumnSize:0},t.SkeletonTable=m},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3),r=a.__importStar(n(1)),i=n(2),l=a.__importDefault(n(66)),o=a.__importDefault(n(105)),s=a.__importDefault(n(135)),c=a.__importDefault(n(136)),u=a.__importDefault(n(137)),f=a.__importDefault(n(109));t.variantIcons={success:o.default,danger:s.default,warning:c.default,info:u.default,default:f.default},t.AlertIcon=e=>{var{variant:n,className:o=""}=e,s=a.__rest(e,["variant","className"]);const c=t.variantIcons[n];return r.createElement("div",Object.assign({},s,{className:i.css(l.default.alertIcon,o)}),r.createElement(c,null))}},791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3).__importStar(n(1));t.AlertContext=a.createContext(null)}}]);
//# sourceMappingURL=../sourcemaps/Reports-4b3684f1eac19e552521a16438253714.js.map