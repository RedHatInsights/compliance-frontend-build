(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1023:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(2),r=n.__importDefault(a(94)),o=n.__importDefault(a(735)),s=n.__importDefault(a(752)),c=n.__importDefault(a(694)),u=n.__importDefault(a(695)),d=n.__importDefault(a(696));t.variantIcons={success:o.default,danger:s.default,warning:c.default,info:u.default,default:d.default},t.AlertIcon=e=>{var{variant:a,className:o=""}=e,s=n.__rest(e,["variant","className"]);const c=t.variantIcons[a];return i.createElement("div",Object.assign({},s,{className:l.css(r.default.alertIcon,o)}),i.createElement(c,null))}},1024:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const n=a(3).__importStar(a(1));t.AlertContext=n.createContext(null)},1025:function(e,t,a){"use strict";t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},1027:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabTitleText=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(2),r=n.__importDefault(a(50));t.TabTitleText=e=>{var{children:t,className:a=""}=e,o=n.__rest(e,["children","className"]);return i.createElement("span",Object.assign({className:l.css(r.default.tabsItemText,a)},o),t)},t.TabTitleText.displayName="TabTitleText"},1278:function(e,t,a){(t=a(8)(!1)).push([e.i,".threshold-tooltip {\n  margin-bottom: var(--pf-global--spacer--md); }\n\n.grey-icon {\n  color: var(--pf-global--Color--200); }\n\n.policy-description {\n  padding-top: 10px; }\n",""]),e.exports=t},1297:function(e,t,a){"use strict";a.r(t),a.d(t,"MULTIVERSION_QUERY",(function(){return ee})),a.d(t,"QUERY",(function(){return te})),a.d(t,"PolicyDetails",(function(){return ae}));var n=a(687),i=a.n(n),l=a(1),r=a.n(l),o=a(19),s=a.n(o),c=a(683),u=a.n(c),d=a(27),m=a(666),f=a(783),p=a(820),b=a(343),v=a(724),g=a(737),y=a(828),h=a(691),_=a(757),E=a(782),S=a(682),T=a(380),I=a(756),O=a(371),C=(a(853),a(824)),P=a(676),j=a(829),w=a(692),N=function(e){var t=e.loading,a=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(j.PageSection,{variant:j.PageSectionVariants.light},r.a.createElement(P.Text,{component:P.TextVariants.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",a.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(w.SystemRulesTable,{remediationsEnabled:!1,columns:Object(w.selectRulesTableColumns)(["Rule","Severity","Ansible"]),loading:t,profileRules:[{profile:{refId:a.refId,name:a.name},rules:a.rules}]}))};N.propTypes={loading:s.a.bool,policy:s.a.shape({name:s.a.string,refId:s.a.string,rules:s.a.array,benchmark:s.a.object})};var x=N,A=a(135),k=a.n(A),R=a(725),L=a.n(R),B=a(830),D=function(e){var t=e.policy,a=e.systemTableProps,n=Object(I.a)("showSsgVersions");return r.a.createElement(B.b,k()({policyId:t.id,showActions:!1,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}].concat(L()(n?[{key:"facts.compliance",title:"SSG version",renderFunc:function(e){return r.a.createElement(B.a.SSGVersion,{profile:e})}}]:[])),complianceThreshold:t.complianceThreshold},a))};D.propTypes={policy:s.a.shape({id:s.a.string.isRequired,complianceThreshold:s.a.number.isRequired}),systemTableProps:s.a.object};var M=D,V=a(346),F=a.n(V),G=a(1009),H=a(1027);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){F()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.policy.policy.profiles;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Alert,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(j.PageSection,{variant:j.PageSectionVariants.light},r.a.createElement(S.x,{level:1,defaultTab:t[0].ssgVersion},t.map((function(e){return r.a.createElement(y.Tab,{key:e.ssg_version,title:r.a.createElement(H.TabTitleText,null,r.a.createElement("span",null,"SSG ",e.ssgVersion+" "),r.a.createElement(G.Label,{color:"blue"},e.rules.length)),eventKey:e.ssgVersion},r.a.createElement(w.SystemRulesTable,{remediationsEnabled:!1,columns:Object(w.selectRulesTableColumns)(["Rule","Severity","Ansible"]),profileRules:[{profile:z({},e),rules:e.rules}]}))})))))};U.propTypes={policy:s.a.object.isRequired};var q=U,W=a(4),$=a.n(W),Q=a(1278),J=a.n(Q),Y={insert:"head",singleton:!1};$()(J.a,Y),J.a.locals;function Z(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return Z=function(){return e},e}function X(){var e=i()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policyType\n        policy {\n            id\n            name\n            refId\n            profiles {\n                ssgVersion\n                name\n                refId\n                rules {\n                    title\n                    severity\n                    rationale\n                    refId\n                    description\n                    remediationAvailable\n                    identifier\n                }\n            }\n        }\n        businessObjective {\n            id\n            title\n        }\n        hosts {\n            id\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return X=function(){return e},e}var ee=u()(X()),te=u()(Z()),ae=function(e){var t=e.route,a=Object(I.a)("multiversionTabs"),n=Object(d.m)().policy_id,i=Object(d.l)(),o=Object(T.b)(),s=Object(m.useQuery)(a?ee:te,{variables:{policyId:n}}),c=s.data,u=s.error,C=s.loading,P=s.refetch,j=c&&!C?c.profile:void 0;return j&&j.external&&(u={message:"This is an external SCAP policy."},c=void 0,C=void 0),Object(l.useEffect)((function(){P()}),[i]),Object(O.b)(t,null==j?void 0:j.name),r.a.createElement(S.A,{stateValues:{error:u,data:c,loading:C}},r.a.createElement(S.z,{stateKey:"loading"},r.a.createElement(h.PageHeader,null,r.a.createElement(S.k,null)),r.a.createElement(_.Main,null,r.a.createElement(E.Spinner,null))),r.a.createElement(S.z,{stateKey:"data"},j&&r.a.createElement(l.Fragment,null,r.a.createElement(h.PageHeader,{className:"page-header-tabs"},r.a.createElement(f.Breadcrumb,null,r.a.createElement(S.b,{to:"/scappolicies"},"Policies"),r.a.createElement(p.BreadcrumbItem,{isActive:!0},j.name)),r.a.createElement(v.Grid,{gutter:"lg"},r.a.createElement(g.GridItem,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(h.PageHeaderTitle,{title:j.name})),r.a.createElement(g.GridItem,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(S.a,{to:"/scappolicies/".concat(j.id,"/edit"),state:{policy:j},hash:o,backgroundLocation:{hash:"details"}},r.a.createElement(b.Button,{variant:"secondary"},"Edit policy")))),r.a.createElement(S.x,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(y.Tab,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(y.Tab,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(y.Tab,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(_.Main,null,r.a.createElement(S.w,{defaultTab:"details"},r.a.createElement(S.d,{eventKey:"details"},r.a.createElement(S.l,{policy:j})),r.a.createElement(S.d,{eventKey:"rules"},a?r.a.createElement(q,{policy:j}):r.a.createElement(x,{policy:j})),r.a.createElement(S.d,{eventKey:"systems"},r.a.createElement(M,{policy:j})))))))};ae.propTypes={route:s.a.object};t.default=ae},695:function(e,t,a){"use strict";t.__esModule=!0,t.InfoCircleIconConfig={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.InfoCircleIcon=a(134).createIcon(t.InfoCircleIconConfig),t.default=t.InfoCircleIcon},696:function(e,t,a){"use strict";t.__esModule=!0,t.BellIconConfig={name:"BellIcon",height:1024,width:896,svgPath:"M448,0 C465.333333,0 480.333333,6.33333333 493,19 C505.666667,31.6666667 512,46.6666667 512,64 L512,106 L514.23,106.45 C587.89,121.39 648.48,157.24 696,214 C744,271.333333 768,338.666667 768,416 C768,500 780,568.666667 804,622 C818.666667,652.666667 841.333333,684 872,716 C873.773676,718.829136 875.780658,721.505113 878,724 C890,737.333333 896,752.333333 896,769 C896,785.666667 890,800.333333 878,813 C866,825.666667 850.666667,832 832,832 L63.3,832 C44.9533333,831.84 29.8533333,825.506667 18,813 C6,800.333333 0,785.666667 0,769 C0,752.333333 6,737.333333 18,724 L24,716 L25.06,714.9 C55.1933333,683.28 77.5066667,652.313333 92,622 C116,568.666667 128,500 128,416 C128,338.666667 152,271.333333 200,214 C248,156.666667 309.333333,120.666667 384,106 L384,63.31 C384.166667,46.27 390.5,31.5 403,19 C415.666667,6.33333333 430.666667,0 448,0 Z M576,896 L576,897.08 C575.74,932.6 563.073333,962.573333 538,987 C512.666667,1011.66667 482.666667,1024 448,1024 C413.333333,1024 383.333333,1011.66667 358,987 C332.666667,962.333333 320,932 320,896 L576,896 Z",yOffset:0,xOffset:0},t.BellIcon=a(134).createIcon(t.BellIconConfig),t.default=t.BellIcon},756:function(e,t,a){"use strict";var n=a(179),i=a(27),l=function(e,t){var a="enable"===e;a?(console.log("Setting feature value for ".concat(t," to ").concat(a)),localStorage.setItem("".concat("insights:compliance",":").concat(t),a)):(console.log("Removing feature setting of ".concat(t)),localStorage.removeItem("".concat("insights:compliance",":").concat(t)))};t.a=function(e){var t=n.f[e];if(e){var a,r,o,s;a=Object(i.l)(),r=a.search,o=a.pathName,s=Object(i.k)(),r&&(new URLSearchParams(r).forEach(l),s.push(o));var c=function(e){return!!localStorage.getItem("".concat("insights:compliance",":").concat(e))}(e)||t;return console.log("Feature ".concat(e," is set to ").concat(c)),c}}},783:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=void 0;const n=a(3),i=n.__importStar(a(1)),l=n.__importDefault(a(68)),r=a(2),o=a(79);t.Breadcrumb=e=>{var{children:a=null,className:s="","aria-label":c="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=n.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const f=o.useOUIAProps(t.Breadcrumb.displayName,u,d);return i.createElement("nav",Object.assign({},m,{"aria-label":c,className:r.css(l.default.breadcrumb,s)},f),i.createElement("ol",{className:l.default.breadcrumbList},i.Children.map(a,(e,t)=>{const a=t>0;return i.isValidElement(e)?i.cloneElement(e,{showDivider:a}):e})))},t.Breadcrumb.displayName="Breadcrumb"},824:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertVariant=void 0;const n=a(3),i=n.__importStar(a(1)),l=a(1),r=a(2),o=n.__importDefault(a(94)),s=n.__importDefault(a(97)),c=a(1023),u=a(79),d=a(1024),m=n.__importDefault(a(1025)),f=a(234);var p;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(p=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:a=p.default,isInline:b=!1,isLiveRegion:v=!1,variantLabel:g=u.capitalize(a)+" alert:","aria-label":y=u.capitalize(a)+" Alert",actionClose:h,actionLinks:_,title:E,children:S="",className:T="",ouiaId:I,ouiaSafe:O=!0,timeout:C=!1,onTimeout:P,truncateTitle:j=0,tooltipPosition:w}=e,N=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","onTimeout","truncateTitle","tooltipPosition"]);const x=u.useOUIAProps(t.Alert.displayName,I,O,a),A=i.createElement(i.Fragment,null,i.createElement("span",{className:r.css(s.default.screenReader)},g),E),[k,R]=l.useState(!1),[L,B]=l.useState(!1),D=i.useRef(null);i.useEffect(()=>{if(!D.current||!j)return;D.current.style.setProperty(m.default.name,j.toString());const e=D.current&&D.current.offsetHeight<D.current.scrollHeight;L!==e&&B(e)},[D,j,L]);const M=r.css(o.default.alert,b&&o.default.modifiers.inline,a!==p.default&&o.default.modifiers[a],T),V=i.createElement("h4",Object.assign({},L&&{tabIndex:0},{ref:D,className:r.css(o.default.alertTitle,j&&o.default.modifiers.truncate)}),A);return!1===k&&C&&0!==C&&setTimeout(()=>{R(!0),P&&P()},!0===C?8e3:C),!1===k?i.createElement("div",Object.assign({},N,{className:M,"aria-label":y},x,v&&{"aria-live":"polite","aria-atomic":"false"}),i.createElement(c.AlertIcon,{variant:a}),L?i.createElement(f.Tooltip,{content:A,position:w},V):V,h&&i.createElement(d.AlertContext.Provider,{value:{title:E,variantLabel:g}},i.createElement("div",{className:r.css(o.default.alertAction)},h)),S&&i.createElement("div",{className:r.css(o.default.alertDescription)},S),_&&i.createElement("div",{className:r.css(o.default.alertActionGroup)},_)):null},t.Alert.displayName="Alert"},828:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0,t.Tab=e=>null,t.Tab.displayName="Tab"},829:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageSection=t.PageSectionTypes=t.PageSectionVariants=void 0;const n=a(3),i=n.__importStar(a(1)),l=n.__importDefault(a(11)),r=a(2),o=a(145);var s,c;!function(e){e.default="default",e.light="light",e.dark="dark",e.darker="darker"}(s=t.PageSectionVariants||(t.PageSectionVariants={})),function(e){e.default="default",e.nav="nav"}(c=t.PageSectionTypes||(t.PageSectionTypes={}));const u={[c.default]:l.default.pageMainSection,[c.nav]:l.default.pageMainNav},d={[s.default]:"",[s.light]:l.default.modifiers.light,[s.dark]:l.default.modifiers.dark_200,[s.darker]:l.default.modifiers.dark_100};t.PageSection=e=>{var{className:t="",children:a,variant:s="default",type:c="default",padding:m,isFilled:f,isWidthLimited:p=!1,sticky:b,hasShadowTop:v=!1,hasShadowBottom:g=!1,hasOverflowScroll:y=!1}=e,h=n.__rest(e,["className","children","variant","type","padding","isFilled","isWidthLimited","sticky","hasShadowTop","hasShadowBottom","hasOverflowScroll"]);return i.createElement("section",Object.assign({},h,{className:r.css(u[c],o.formatBreakpointMods(m,l.default),d[s],!1===f&&l.default.modifiers.noFill,!0===f&&l.default.modifiers.fill,p&&l.default.modifiers.limitWidth,"top"===b&&l.default.modifiers.stickyTop,"bottom"===b&&l.default.modifiers.stickyBottom,v&&l.default.modifiers.shadowTop,g&&l.default.modifiers.shadowBottom,y&&l.default.modifiers.overflowScroll,t)}),p&&i.createElement("div",{className:r.css(l.default.pageMainBody)},a),!p&&a)},t.PageSection.displayName="PageSection"}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails-3999d0e33b0d3454eb0bb3a971d5c394.js.map