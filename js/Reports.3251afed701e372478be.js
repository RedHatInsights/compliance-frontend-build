(self.webpackChunkcompliance_frontend=self.webpackChunkcompliance_frontend||[]).push([[322],{1649:(e,n,t)=>{"use strict";t.r(n),t.d(n,{Reports:()=>_,default:()=>k});var l,r=t(32465),o=t(92950),a=t.n(o),s=t(45697),i=t.n(s),c=t(334),u=t(46829),d=t(44119),m=t.n(d),p=t(48716),f=t(39173),h=t(86350),E=t(75959),v=t(34171),b=t(77346),w=m()(l||(l=(0,r.Z)(["\nquery Profiles($filter: String!) {\n    profiles(search: $filter, limit: 1000){\n        edges {\n            node {\n                id\n                name\n                refId\n                description\n                policyType\n                totalHostCount\n                testResultHostCount\n                compliantHostCount\n                unsupportedHostCount\n                majorOsVersion\n                ssgVersion\n                complianceThreshold\n                businessObjective {\n                    id\n                    title\n                }\n                policy {\n                    id\n                    name\n                    benchmark {\n                        id\n                        version\n                    }\n                }\n                benchmark {\n                    id\n                    version\n                }\n            }\n        }\n\n    }\n}\n"]))),y=function(e){return e.showTableView?a().createElement(E.Z,{colSize:3,rowSize:10}):a().createElement(v.iP,null)};y.propTypes={showTableView:i().bool};var g=function(){return a().createElement(p.Z,null,a().createElement(f.Z,{title:"Reports"}))},_=function(){var e=[],n=!1,t=(0,c.useLocation)(),l=(0,b.ZP)("reportsTableView"),r=l?v.Ek:v.n0,s=(0,u.useQuery)(w,{variables:{filter:"(has_policy_test_results = true AND external = false)\n                    OR (has_policy = false AND has_test_results = true)"}}),i=s.data,d=s.error,m=s.loading,p=s.refetch;return(0,o.useEffect)((function(){p()}),[t,p]),i&&(d=void 0,m=void 0,n=(e=function(e){var n;return((null==e||null===(n=e.profiles)||void 0===n?void 0:n.edges)||[]).map((function(e){return e.node}))}(i))&&e.length>0),a().createElement(v.tC,{stateValues:{error:d,data:i,loading:m}},a().createElement(v.K7,{stateKey:"loading"},a().createElement(g,null),a().createElement(h.Z,null,a().createElement(y,{showTableView:l}))),a().createElement(v.K7,{stateKey:"data"},a().createElement(g,null),a().createElement(h.Z,null,n?a().createElement(r,{profiles:e}):a().createElement(v.vm,null))))};const k=_}}]);