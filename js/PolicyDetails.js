(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1228:function(e,a,t){var n=t(1229);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t(11)(n,l);n.locals&&(e.exports=n.locals)},1229:function(e,a,t){(a=t(10)(!1)).push([e.i,".threshold-tooltip{margin-bottom:var(--pf-global--spacer--md)}.grey-icon{color:var(--pf-global--Color--200)}.policy-description{padding-top:10px}\n",""]),e.exports=a},1249:function(e,a,t){"use strict";t.r(a),t.d(a,"QUERY",(function(){return R})),t.d(a,"PolicyDetails",(function(){return A}));var n=t(514),l=t.n(n),i=t(0),r=t.n(i),s=t(510),o=t.n(s),c=t(15),m=t(490),d=t(796),p=t(767),u=t(528),y=t(529),f=t(585),h=t(84),v=t(511),E=t(527),b=(t(666),t(14)),g=t.n(b),T=t(809),I=t(800),S=t(508),w=t(530),x=t(197),j=function(e){var a=e.loading,t=e.policy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"info",isInline:!0,title:"Rule editing coming soon"}),r.a.createElement(I.a,{variant:I.c.light},r.a.createElement(S.a,{component:S.b.p},r.a.createElement("strong",null,"What rules are shown on this list?Â "),"This view shows rules that are from the latest SSG version (",t.benchmark.version,"). If you are using a different version of SSG for systems in this policy, those rules will be different and can be viewed on the systems details page.")),r.a.createElement(w.SystemRulesTable,{remediationsEnabled:!1,columns:[{title:"Rule",transforms:[x.a]},{title:"Severity",transforms:[x.a]},{title:r.a.createElement(r.a.Fragment,null,w.ANSIBLE_ICON," Ansible"),transforms:[x.a],original:"Ansible"}],loading:a,profileRules:[{profile:{refId:t.refId,name:t.name},rules:t.rules}]}))};j.propTypes={loading:g.a.bool,policy:g.a.shape({name:g.a.string,refId:g.a.string,rules:g.a.array,benchmark:g.a.object})};var K=j,P=function(e){var a=e.policy,t=e.complianceThreshold;return r.a.createElement(E.h,{policyId:a.id,remediationsEnabled:!1,columns:[{key:"facts.compliance.display_name",title:"System name",props:{width:40,isStatic:!0}}],complianceThreshold:t})};P.propTypes={policy:g.a.shape({id:g.a.string.isRequired}),complianceThreshold:g.a.number};var k=P;t(1228);function O(){var e=l()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        refId\n        external\n        description\n        totalHostCount\n        compliantHostCount\n        complianceThreshold\n        majorOsVersion\n        lastScanned\n        policy {\n            id\n            name\n        }\n        businessObjective {\n            id\n            title\n        }\n        rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n        }\n        benchmark {\n            id\n            title\n            version\n        }\n    }\n}\n"]);return O=function(){return e},e}var R=o()(O()),A=function(){var e=Object(c.m)().policy_id,a=Object(m.useQuery)(R,{variables:{policyId:e}}),t=a.data,n=a.error,l=a.loading,i=a.refetch,s=t&&!l?t.profile:{};return s.external&&(n={message:"This is an external SCAP policy."},t=void 0,l=void 0),r.a.createElement(v.v,{stateValues:{error:n,data:t,loading:l}},r.a.createElement(v.u,{stateKey:"loading"},r.a.createElement(h.PageHeader,null,r.a.createElement(v.j,null)),r.a.createElement(h.Main,null,r.a.createElement(h.Spinner,null))),r.a.createElement(v.u,{stateKey:"data"},r.a.createElement(h.PageHeader,{className:"page-header-tabs"},r.a.createElement(d.a,null,r.a.createElement(v.b,{to:"/scappolicies"},"Policies"),r.a.createElement(p.a,{isActive:!0},s.name)),r.a.createElement(u.a,{gutter:"lg"},r.a.createElement(y.a,{xl2:11,xl:10,lg:12,md:12,sm:12},r.a.createElement(h.PageHeaderTitle,{title:s.name})),r.a.createElement(y.a,{className:"policy-details-button",xl2:1,xl:2,lg:2,md:3,sm:3},r.a.createElement(E.d,{policyId:s.id,previousThreshold:s.complianceThreshold,businessObjective:s.businessObjective,onClose:function(){return i()}}))),r.a.createElement(v.r,{"aria-label":"Policy Tabs",defaultTab:"details"},r.a.createElement(f.a,{title:"Details",id:"policy-details",eventKey:"details"}),r.a.createElement(f.a,{title:"Rules",id:"policy-rules",eventKey:"rules"}),r.a.createElement(f.a,{title:"Systems",id:"policy-systems",eventKey:"systems"}))),r.a.createElement(h.Main,null,r.a.createElement(v.s,{defaultTab:"details"},r.a.createElement(v.e,{eventKey:"details"},r.a.createElement(v.k,{policy:s})),r.a.createElement(v.e,{eventKey:"rules"},r.a.createElement(K,{policy:s})),r.a.createElement(v.e,{eventKey:"systems"},r.a.createElement(k,{policy:s,complianceThreshold:s.complianceThreshold}))))))};a.default=A}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails.js.map