(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{215:function(e,t,n){"use strict";function a(e,t){this.props.history.push(t)}n.d(t,"a",function(){return a})},489:function(e,t,n){var a=n(490),r=n(106);e.exports=function(e){return e&&e.length?a(e,r):0}},490:function(e,t){e.exports=function(e,t){for(var n,a=-1,r=e.length;++a<r;){var o=t(e[a]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},491:function(e,t,n){var a=n(162),r=n(492),o=Object.prototype.hasOwnProperty,i=r(function(e,t,n){o.call(e,n)?e[n].push(t):a(e,n,[t])});e.exports=i},492:function(e,t,n){var a=n(493),r=n(494),o=n(126),i=n(98);e.exports=function(e,t){return function(n,l){var c=i(n)?a:r,u=t?t():{};return c(n,e,o(l,2),u)}}},493:function(e,t){e.exports=function(e,t,n,a){for(var r=-1,o=null==e?0:e.length;++r<o;){var i=e[r];t(a,i,n(i),e)}return a}},494:function(e,t){e.exports=function(e,t,n,a){for(var r=-1,o=null==e?0:e.length;++r<o;){var i=e[r];t(a,i,n(i),e)}return a}},512:function(e,t,n){"use strict";n.r(t);var a=n(53),r=n.n(a),o=n(54),i=n.n(o),l=n(55),c=n.n(l),u=n(56),s=n.n(u),p=n(57),f=n.n(p),m=n(89),h=n.n(m),d=n(116),y=n.n(d),b=n(9),g=n.n(b),v=n(251),O=n(253),w=n(1),P=n.n(w),j=n(295),E=n(215),x=n(270),C=n(302),T=n(301),_=n(276),S=n(151),k=n(274),M=n(300),N=n(275),z=n(120),A=n.n(z),I=n(75);function R(){var e=y()(["\nmutation UpdateProfile($input: UpdateProfileInput!) {\n    UpdateProfile(input: $input) {\n        profile {\n            id,\n            compliance_threshold\n        }\n    }\n}\n"]);return R=function(){return e},e}var q=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=c()(this,(e=s()(t)).call.apply(e,[this].concat(o)))).onClick=function(){var e=n.props,t=e.mutate,a=e.policyId,r=e.threshold;t({variables:{input:{id:a,compliance_threshold:parseFloat(r)}}}).then(function(){document.location.reload()})},n}return f()(t,e),i()(t,[{key:"render",value:function(){return g.a.createElement(S.c,{type:"submit",variant:"primary",onClick:this.onClick},"Save")}}]),t}(g.a.Component),D=A()(R());q.propTypes={policyId:P.a.string,mutate:P.a.function,threshold:P.a.number};var U=Object(I.graphql)(D)(q),L=function(e){function t(e){var n;return r()(this,t),(n=c()(this,s()(t).call(this,e))).handleModalToggle=function(){n.setState(function(e){return{isModalOpen:!e.isModalOpen}})},n.handleTextInputChange=function(e){e>100||e<0?n.setState({validThreshold:!1}):n.setState({validThreshold:!0,threshold:e})},n.onToggle=function(e){n.setState({isOpen:e})},n.onSelect=function(){n.setState({isOpen:!n.state.isOpen})},n.state={isOpen:!1,isModalOpen:!1,validThreshold:!0,threshold:e.previousThreshold},n}return f()(t,e),i()(t,[{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.isModalOpen,a=e.threshold,r=e.validThreshold,o=this.props.policyId,i=[g.a.createElement(x.a,{key:"action",onClick:this.handleModalToggle,component:"button"},"Set compliance threshold")];return g.a.createElement(g.a.Fragment,null,g.a.createElement(C.a,{onSelect:this.onSelect,toggle:g.a.createElement(T.a,{onToggle:this.onToggle},"Actions"),isOpen:t,dropdownItems:i}),g.a.createElement(_.a,{isSmall:!0,title:"Update compliance threshold",isOpen:n,onClose:this.handleModalToggle,actions:[g.a.createElement(S.c,{key:"cancel",variant:"secondary",onClick:this.handleModalToggle},"Cancel"),g.a.createElement(U,{key:"confirm",policyId:o,threshold:a})]},'The compliance threshold defines what percentage of rules must be met in order for a system to be determined "compliant"',g.a.createElement(k.a,null,g.a.createElement(M.a,{"field-id":"policy-threshold",isValid:r,helperTextInvalid:"Threshold has to be a number between 0 and 100",label:"Compliance threshold (%):"},g.a.createElement(N.a,{value:a,type:"number",id:"policy-threshold",onChange:this.handleTextInputChange,isValid:r,"aria-label":"compliance threshold"})))))}}]),t}(b.Component);L.propTypes={policyId:P.a.string,previousThreshold:P.a.number};var $=L,H=n(74),K=n(505),B=n(510),F=n(296),W=n(122),G=n.n(W),V=n(181),J=n.n(V),Q=n(489),X=n.n(Q),Y=n(107),Z=n.n(Y),ee=n(491),te=n.n(ee),ne=n(96),ae=n.n(ne),re=n(103),oe=n.n(re),ie=n(392),le=n(105),ce=n(507);function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){var t=e.data,n=e.style;return t.map(function(e){var t=oe()({},e.labels,n.labels);return le.a.evaluateStyle(t,e)})},fe=function(e){var t=e.orientation,n=e.theme,a=function(e,t){var n=e.style||{};t=t||{};return{parent:oe()(n.parent,t.parent,{height:"100%",width:"100%"}),data:oe()({},n.data,t.data),labels:oe()({},n.labels,t.labels),border:oe()({},n.border,t.border),title:oe()({},n.title,t.title)}}(e,n&&n.legend&&n.legend.style?n.legend.style:{}),r=function(e){var t=e.colorScale;return"string"==typeof t?ie.a.getColorScale(t):t||[]}(e),o="horizontal"===t,i=le.a.getPadding({padding:e.borderPadding});return ae()({},e,{style:a,isHorizontal:o,colorScale:r,borderPadding:i})},me=function(e){var t=e.data,n=e.style&&e.style.data||{},a=pe(e);return t.map(function(t,r){var o=t.symbol||{},i=a[r].fontSize,l=o.size||n.size||i/2.5;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){se(e,t,n[t])})}return e}({},t,{size:l,symbolSpacer:e.symbolSpacer||Math.max(l,i),fontSize:i,textSize:ce.a.approximateTextSize(t.name,a[r]),column:function(e,t){var n=e.itemsPerRow,a=e.isHorizontal;return n?a?t%n:Math.floor(t/n):a?t:0}(e,r),row:function(e,t){var n=e.itemsPerRow,a=e.isHorizontal;return n?a?Math.floor(t/n):t%n:a?0:t}(e,r)})})},he=function(e,t){var n=e.gutter||{},a="object"==typeof n?(n.left||0)+(n.right||0):n||0,r=te()(t,"column");return Z()(r).reduce(function(e,t,n){var o=r[t].map(function(e){return e.textSize.width+e.size+e.symbolSpacer+a});return e[n]=Math.max.apply(Math,ue(o)),e},[])},de=function(e,t){var n=e.rowGutter||{},a="object"==typeof n?(n.top||0)+(n.bottom||0):n||0,r=te()(t,"row");return Z()(r).reduce(function(e,t,n){var o=r[t].map(function(e){return e.textSize.height+e.symbolSpacer+a});return e[n]=Math.max.apply(Math,ue(o)),e},[])},ye=function(e){var t=e.style&&e.style.title||{},n=ce.a.approximateTextSize(e.title,t),a=t.padding||0;return{height:n.height+2*a||0,width:n.width+2*a||0}},be=function(e,t){var n=e.title,a=e.titleOrientation,r=e.centerTitle,o=e.borderPadding,i=t.height,l=t.width,c=function(e){var t=e.titleOrientation,n=e.centerTitle,a=e.titleComponent,r=e.style&&e.style.title||{},o=a.props&&a.props.style||{},i=function(e,t){var n={textAnchor:"right"===e?"end":"start",verticalAnchor:"bottom"===e?"end":"start"};if(t){var a="top"===e||"bottom"===e;return{textAnchor:a?"middle":n.textAnchor,verticalAnchor:a?n.verticalAnchor:"middle"}}return n}(t,n);return Array.isArray(o)?o.map(function(e){return oe()({},e,r,i)}):oe()({},o,r,i)}(e),u=Array.isArray(c)?c[0].padding:c.padding,s="top"===a||"bottom"===a,p="right"===a?"right":"left",f={x:r?l/2:o["bottom"===a?"bottom":"top"]+(u||0),y:r?i/2:o[p]+(u||0)},m=function(){return o[a]+(u||0)},h=s?f.x:m(),d=s?m():f.y;return{x:"right"===a?e.x+l-h:e.x+h,y:"bottom"===a?e.y+i-d:e.y+d,style:c,text:n}},ge=function(e,t){var n=le.a.modifyProps(e,t,"legend"),a=e=ae()({},n,fe(n)),r=a.title,o=a.titleOrientation,i=me(e),l=he(e,i),c=de(e,i),u=r?ye(e):{height:0,width:0};return{height:"left"===o||"right"===o?Math.max(X()(c),u.height):X()(c)+u.height,width:"left"===o||"right"===o?X()(l)+u.width:Math.max(X()(l),u.width)}},ve=function(e,t){var n=le.a.modifyProps(e,t,"legend"),a=e=ae()({},n,fe(n)),r=a.data,o=a.standalone,i=a.theme,l=a.padding,c=a.style,u=a.colorScale,s=a.gutter,p=a.rowGutter,f=a.borderPadding,m=a.title,h=a.titleOrientation,d=a.name,y=a.x,b=void 0===y?0:y,g=a.y,v=void 0===g?0:g,O=me(e),w=he(e,O),P=de(e,O),j=pe(e),E=m?ye(e):{height:0,width:0},x="left"===h?E.width:0,C="top"===h?E.height:0,T=s&&"object"==typeof s&&s.left||0,_=p&&"object"==typeof p&&p.top||0,S=ge(e,t),k=function(e,t,n){var a=e.x,r=e.y,o=e.borderPadding,i=e.style;return{x:a,y:r,height:(t||0)+o.top+o.bottom,width:(n||0)+o.left+o.right,style:ae()({fill:"none"},i.border)}}(e,S.height,S.width),M=be(e,k),N={parent:{data:r,standalone:o,theme:i,padding:l,name:d,height:e.height,width:e.width,style:c.parent},all:{border:k,title:M}};return O.reduce(function(e,t,n){var a=u[n%u.length],o=oe()({},t.symbol,c.data,{fill:a}),i=t.eventKey||n,l=function(e,t,n){var a=e.column,r=e.row;return{x:J()(a).reduce(function(e,t){return e+=n[t]},0),y:J()(r).reduce(function(e,n){return e+=t[n]},0)}}(t,P,w),s=v+f.top+t.symbolSpacer,p=b+f.left+t.symbolSpacer,m={index:n,data:r,datum:t,symbol:o.type||o.symbol||"circle",size:t.size,style:o,y:s+l.y+C+_,x:p+l.x+x+T},h={datum:t,data:r,text:t.name,style:j[n],y:m.y,x:m.x+t.symbolSpacer+t.size/2};return e[i]={data:m,labels:h},e},N)},Oe=n(138),we=n(254),Pe=n(127),je=n.n(Pe);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ce(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.a.Component),function(e,t,n){t&&xe(e.prototype,t),n&&xe(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e){return!je()(this.props,e)}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.rx,r=e.ry,o=e.width,i=e.height,l=e.events,c=e.className,u=e.clipPath,s=e.style,p=e.role,f=e.shapeRendering,m=e.transform;return g.a.createElement("rect",Ee({x:t,y:n,rx:a,ry:r,width:o,height:i,className:c,clipPath:u,style:s,transform:m,role:p||"presentation",shapeRendering:f||"auto",vectorEffect:"non-scaling-stroke"},l))}}]),t}();function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ke(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(Te,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:P.a.string,clipPath:P.a.string,events:P.a.object,height:P.a.number,role:P.a.string,rx:P.a.number,ry:P.a.number,shapeRendering:P.a.string,style:P.a.object,transform:P.a.string,width:P.a.number,x:P.a.number,y:P.a.number}});var Me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.a.Component),function(e,t,n){t&&Se(e.prototype,t),n&&Se(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,o=e.events,i=e.datum,l=e.active,c=e.role,u=e.clipPath,s=e.className,p=e.shapeRendering,f=e.rectComponent,m=e.transform,h=le.a.evaluateStyle(ae()({fill:"none"},this.props.style),i,l);return g.a.cloneElement(f,{style:h,className:s,x:t,y:n,width:a,height:r,events:o,role:c,shapeRendering:p,transform:m,clipPath:u})}}]),t}();Object.defineProperty(Me,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){_e(e,t,n[t])})}return e}({},we.a.primitiveProps,{height:P.a.number,rectComponent:P.a.element,width:P.a.number,x:P.a.number,y:P.a.number})}),Object.defineProperty(Me,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{rectComponent:g.a.createElement(Te,null)}});var Ne=n(520),ze={circle:function(e,t,n){return"M ".concat(e,", ").concat(t,"\n      m ").concat(-n,", 0\n      a ").concat(n,", ").concat(n," 0 1,0 ").concat(2*n,",0\n      a ").concat(n,", ").concat(n," 0 1,0 ").concat(2*-n,",0")},square:function(e,t,n){var a=.87*n,r=e-a,o=t+a,i=e+a-r;return"M ".concat(r,", ").concat(o,"\n      h").concat(i,"\n      v-").concat(i,"\n      h-").concat(i,"\n      z")},diamond:function(e,t,n){var a=.87*n,r=Math.sqrt(a*a*2);return"M ".concat(e,", ").concat(t+r,"\n      l ").concat(r,", -").concat(r,"\n      l -").concat(r,", -").concat(r,"\n      l -").concat(r,", ").concat(r,"\n      l ").concat(r,", ").concat(r,"\n      z")},triangleDown:function(e,t,n){var a=e+n,r=t-n,o=t+n/2*Math.sqrt(3);return"M ".concat(e-n,", ").concat(r,"\n      L ").concat(a,", ").concat(r,"\n      L ").concat(e,", ").concat(o,"\n      z")},triangleUp:function(e,t,n){var a=e+n,r=t-n/2*Math.sqrt(3),o=t+n;return"M ".concat(e-n,", ").concat(o,"\n      L ").concat(a,", ").concat(o,"\n      L ").concat(e,", ").concat(r,"\n      z")},plus:function(e,t,n){var a=1.1*n,r=a/1.5;return"\n      M ".concat(e-r/2,", ").concat(t+a,"\n      v-").concat(r,"\n      h-").concat(r,"\n      v-").concat(r,"\n      h").concat(r,"\n      v-").concat(r,"\n      h").concat(r,"\n      v").concat(r,"\n      h").concat(r,"\n      v").concat(r,"\n      h-").concat(r,"\n      v").concat(r,"\n      z")},minus:function(e,t,n){var a=1.1*n,r=a-.3*a,o=e-a,i=t+r/2,l=e+a-o;return"M ".concat(o,", ").concat(i,"\n      h").concat(l,"\n      v-").concat(r,"\n      h-").concat(l,"\n      z")},star:function(e,t,n){var a=1.35*n,r=Math.PI/5,o=J()(10).map(function(n){var o=n%2==0?a:a/2;return"".concat(o*Math.sin(r*(n+1))+e,",\n        ").concat(o*Math.cos(r*(n+1))+t)});return"M ".concat(o.join("L")," z")}},Ae=n(417);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var De=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.a.Component),function(e,t,n){t&&Re(e.prototype,t),n&&Re(e,n)}(t,[{key:"getPath",value:function(e){var t=e.datum,n=e.active,a=e.x,r=e.y,o=le.a.evaluateProp(e.size,t,n);if(e.getPath)return e.getPath(a,r,o);var i={circle:ze.circle,square:ze.square,diamond:ze.diamond,triangleDown:ze.triangleDown,triangleUp:ze.triangleUp,plus:ze.plus,minus:ze.minus,star:ze.star},l=le.a.evaluateProp(e.symbol,t,n);return("function"==typeof i[l]?i[l]:i.circle)(a,r,o)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.datum,a=e.role,r=e.shapeRendering,o=e.className,i=e.events,l=e.pathComponent,c=e.transform,u=e.clipPath,s=le.a.evaluateStyle(this.props.style,n,t),p=this.getPath(this.props);return g.a.cloneElement(l,{style:s,role:a,shapeRendering:r,className:o,events:i,d:p,transform:c,clipPath:u})}}]),t}();Object.defineProperty(De,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ie(e,t,n[t])})}return e}({},we.a.primitiveProps,{datum:P.a.object,getPath:P.a.func,pathComponent:P.a.element,size:P.a.oneOfType([P.a.number,P.a.func]),symbol:P.a.oneOfType([P.a.oneOf(["circle","diamond","plus","minus","square","star","triangleDown","triangleUp"]),P.a.func]),x:P.a.number,y:P.a.number})}),Object.defineProperty(De,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{pathComponent:g.a.createElement(Ae.a,null)}});var Ue=n(516),Le=n(517),$e=n(513);function He(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Be(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Fe={orientation:"vertical",titleOrientation:"top",width:450,height:300,x:0,y:0},We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.a.Component),function(e,t,n){t&&Ke(e.prototype,t),n&&Ke(e,n)}(t,[{key:"renderChildren",value:function(e){var t=this,n=e.dataComponent,a=e.labelComponent,r=e.title,o=this.dataKeys.map(function(e,a){if("all"!==e){var r=t.getComponentProps(n,"data",a);return g.a.cloneElement(n,r)}}).filter(Boolean),i=this.dataKeys.map(function(e,n){var r=t.getComponentProps(a,"labels",n);if(void 0!==r.text&&null!==r.text)return g.a.cloneElement(a,r)}).filter(Boolean),l=this.getComponentProps(e.borderComponent,"border","all"),c=g.a.cloneElement(e.borderComponent,l);if(r){var u=this.getComponentProps(e.title,"title","all"),s=g.a.cloneElement(e.titleComponent,u);return[c].concat(He(o),[s],He(i))}return[c].concat(He(o),He(i))}},{key:"render",value:function(){var e=this.constructor.role,t=le.a.modifyProps(this.props,Fe,e),n=[this.renderChildren(t)];return t.standalone?this.renderContainer(t.containerComponent,n):g.a.cloneElement(t.groupComponent,{},n)}}]),t}();Object.defineProperty(We,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryLegend"}),Object.defineProperty(We,"role",{configurable:!0,enumerable:!0,writable:!0,value:"legend"}),Object.defineProperty(We,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{borderComponent:P.a.element,borderPadding:P.a.oneOfType([P.a.number,P.a.shape({top:P.a.number,bottom:P.a.number,left:P.a.number,right:P.a.number})]),centerTitle:P.a.bool,colorScale:P.a.oneOfType([P.a.arrayOf(P.a.string),P.a.oneOf(["grayscale","qualitative","heatmap","warm","cool","red","green","blue"])]),containerComponent:P.a.element,data:P.a.arrayOf(P.a.shape({name:P.a.string.isRequired,label:P.a.object,symbol:P.a.object})),dataComponent:P.a.element,eventKey:P.a.oneOfType([P.a.func,Oe.a.allOfType([Oe.a.integer,Oe.a.nonNegative]),P.a.string]),events:P.a.arrayOf(P.a.shape({target:P.a.oneOf(["data","labels","parent"]),eventKey:P.a.oneOfType([P.a.array,Oe.a.allOfType([Oe.a.integer,Oe.a.nonNegative]),P.a.string]),eventHandlers:P.a.object})),externalEventMutations:P.a.arrayOf(P.a.shape({callback:P.a.function,childName:P.a.oneOfType([P.a.string,P.a.array]),eventKey:P.a.oneOfType([P.a.array,Oe.a.allOfType([Oe.a.integer,Oe.a.nonNegative]),P.a.string]),mutation:P.a.function,target:P.a.oneOfType([P.a.string,P.a.array])})),groupComponent:P.a.element,gutter:P.a.oneOfType([P.a.number,P.a.shape({left:P.a.number,right:P.a.number})]),height:Oe.a.nonNegative,itemsPerRow:Oe.a.nonNegative,labelComponent:P.a.element,name:P.a.string,orientation:P.a.oneOf(["horizontal","vertical"]),padding:P.a.oneOfType([P.a.number,P.a.shape({top:P.a.number,bottom:P.a.number,left:P.a.number,right:P.a.number})]),rowGutter:P.a.oneOfType([P.a.number,P.a.shape({top:P.a.number,bottom:P.a.number})]),sharedEvents:P.a.shape({events:P.a.array,getEventState:P.a.func}),standalone:P.a.bool,style:P.a.shape({border:P.a.object,data:P.a.object,labels:P.a.object,parent:P.a.object,title:P.a.object}),symbolSpacer:P.a.number,theme:P.a.object,title:P.a.oneOfType([P.a.string,P.a.array]),titleComponent:P.a.element,titleOrientation:P.a.oneOf(["top","bottom","left","right"]),width:Oe.a.nonNegative,x:Oe.a.nonNegative,y:Oe.a.nonNegative}}),Object.defineProperty(We,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{borderComponent:g.a.createElement(Me,null),data:[{name:"Series 1"},{name:"Series 2"}],containerComponent:g.a.createElement(Ne.a,null),dataComponent:g.a.createElement(De,null),groupComponent:g.a.createElement("g",null),labelComponent:g.a.createElement(Ue.a,null),standalone:!0,theme:Le.a.grayscale,titleComponent:g.a.createElement(Ue.a,null)}}),Object.defineProperty(We,"getBaseProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return ve(e,Fe)}}),Object.defineProperty(We,"getDimensions",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return ge(e,Fe)}}),Object.defineProperty(We,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["borderComponent","containerComponent","dataComponent","groupComponent","labelComponent","titleComponent"]});var Ge=Object($e.a)(We),Ve={"":P.a.any},Je=function(e){return g.a.createElement(Ne.a,e)};G()(Je,Ne.a),Je.propTypes=Ve;var Qe=Je,Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ye={"":P.a.any},Ze=g.a.createElement(Qe,{responsive:!1}),et=function(e){return g.a.createElement(Ge,Xe({containerComponent:Ze,theme:F.a.default},e))};G()(et,Ge),et.propTypes=Ye;var tt=et,nt=n(304),at=n(176);n(230);function rt(){var e=y()(["\nquery Profile($policyId: String!){\n    profile(id: $policyId) {\n        id\n        name\n        ref_id\n        description\n        total_host_count\n        compliant_host_count\n        compliance_threshold\n        hosts {\n            id,\n            name,\n            profile_names,\n            rules_passed(profile_id: $policyId)\n            rules_failed(profile_id: $policyId)\n            last_scanned(profile_id: $policyId)\n            compliant(profile_id: $policyId)\n        }\n    }\n}\n"]);return rt=function(){return e},e}var ot=A()(rt()),it=function(e){var t=e.policyId,n=e.onNavigateWithProps;return g.a.createElement(I.Query,{query:ot,variables:{policyId:t}},function(e){var t=e.data,a=e.error,r=e.loading,o=[],i="loading-donut",l={};if(a)return 401===a.networkError.statusCode&&window.insights.chrome.auth.logout(),"Oops! Error loading Policy data: "+a;if(r)return g.a.createElement(H.PageHeader,null,"Loading Policy details...");var c=(l=t.profile).compliant_host_count,u=l.total_host_count;i=l.name.replace(/ /g,""),o=[{x:"Compliant",y:c},{x:"Non-compliant",y:u-c}];var s=t.profile.hosts,p=[{name:o[0].y+" Systems Compliant"},{name:o[1].y+" Systems Non-Compliant"}],f=Math.floor(o[0].y/(o[0].y+o[1].y)*100)+"%",m=g.a.createElement("svg",{className:"chart-label",height:200,width:200},g.a.createElement(K.a,{style:{fontSize:20},text:f,textAnchor:"middle",verticalAnchor:"middle",x:100,y:90}),g.a.createElement(K.a,{style:{fill:"#bbb"},text:"Compliant",textAnchor:"middle",verticalAnchor:"middle",x:100,y:110}));return g.a.createElement(g.a.Fragment,null,g.a.createElement(H.PageHeader,null,g.a.createElement(H.Breadcrumbs,{style:{padding:"0px"},items:[{title:"Policies",navigate:"/policies"}],current:l.name,onNavigate:n}),g.a.createElement(H.PageHeaderTitle,{title:l.name}),g.a.createElement(v.a,{gutter:"md"},g.a.createElement(O.a,{span:4},g.a.createElement("div",{className:"chart-inline"},g.a.createElement("div",{className:"chart-container"},m,g.a.createElement(B.a,{data:o,identifier:i,theme:F.a.light.blue,legendPosition:"right",height:200,width:200})),g.a.createElement(tt,{data:p,orientation:"vertical",theme:F.a.light.blue,y:55,height:200,width:200}))),g.a.createElement(O.a,{span:6},g.a.createElement(nt.a,null,g.a.createElement(at.b,{style:{fontWeight:"bold"},component:at.a.p},"Description"),g.a.createElement(at.b,{className:"policy-description",component:at.a.p},g.a.createElement(H.Truncate,{text:l.description,length:380})),g.a.createElement("br",null)),g.a.createElement(at.b,{component:at.a.small},"Threshold for compliance: ",l.compliance_threshold,"%")),g.a.createElement(O.a,{span:2},g.a.createElement($,{policyId:l.id,previousThreshold:l.compliance_threshold})))),g.a.createElement(H.Main,null,g.a.createElement(v.a,{gutter:"md"},g.a.createElement(O.a,{span:12},g.a.createElement(j.a,{items:s,columns:[{composed:["facts.os_release","display_name"],key:"display_name",title:"Name"},{key:"facts.compliance.profiles",title:"Profile"},{key:"facts.compliance.rules_passed",title:"Rules Passed"},{key:"facts.compliance.rules_failed",title:"Rules Failed"},{key:"facts.compliance.score",title:"Score"},{key:"facts.compliance.compliant",title:"Compliant"},{key:"facts.compliance.last_scanned",title:"Last Scanned"}]})))))})};it.propTypes={policyId:P.a.string,onNavigateWithProps:P.a.func};var lt=function(e){function t(e){var n;return r()(this,t),(n=c()(this,s()(t).call(this,e))).onNavigate=E.a.bind(h()(h()(n))),n}return f()(t,e),i()(t,[{key:"render",value:function(){return g.a.createElement(it,{policyId:this.props.match.params.policy_id,onNavigateWithProps:this.onNavigate})}}]),t}(g.a.Component);lt.propTypes={match:P.a.object};t.default=Object(H.routerParams)(lt)}}]);
//# sourceMappingURL=../sourcemaps/PolicyDetails.js.map