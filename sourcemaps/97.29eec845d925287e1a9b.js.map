{"version":3,"sources":["webpack:///./src/PresentationalComponents/ComplianceEmptyState/ComplianceEmptyState.js","webpack:///./src/PresentationalComponents/ComplianceRemediationButton/ComplianceRemediationButton.js","webpack:///./src/PresentationalComponents/ErrorCard/ErrorCard.js","webpack:///./src/PresentationalComponents/ReduxFormWrappers/ReduxFormWrappers.js","webpack:///./src/PresentationalComponents/RulesTable/Cells.js","webpack:///./src/PresentationalComponents/RulesTable/Columns.js","webpack:///./src/Utilities/hooks/useTableTools/useTableSort.js","webpack:///./src/Utilities/hooks/useTableTools/usePaginate.js","webpack:///./src/Utilities/hooks/useTableTools/Components/NoResultsTable.js","webpack:///./src/Utilities/hooks/useTableTools/useRowsBuilder.js","webpack:///./src/Utilities/hooks/useTableTools/useItemIdentify.js","webpack:///./src/Utilities/hooks/useTableTools/useExpandable.js","webpack:///./src/Utilities/hooks/useTableTools/useDedicatedAction.js","webpack:///./src/Utilities/hooks/useTableTools/Components/TableToolsTable.js","webpack:///./src/Utilities/hooks/useTableTools/useTableTools.js","webpack:///./src/PresentationalComponents/RulesTable/RuleDetailsRow.js","webpack:///./src/PresentationalComponents/RulesTable/EmptyRows.js","webpack:///./src/PresentationalComponents/RulesTable/Constants.js","webpack:///./src/PresentationalComponents/RulesTable/Filters.js","webpack:///./src/PresentationalComponents/RulesTable/RulesTable.js","webpack:///./src/PresentationalComponents/TabbedRules/OsVersionText.js","webpack:///./src/PresentationalComponents/TabbedRules/ProfileTabContent.js","webpack:///./src/PresentationalComponents/TabbedRules/ruleSelection.js","webpack:///./src/PresentationalComponents/TabbedRules/TabbedRules.js","webpack:///./src/PresentationalComponents/UnsupportedSSGVersion/UnsupportedSSGVersion.js","webpack:///./src/PresentationalComponents/LoadingPoliciesTable/LoadingPoliciesTable.js","webpack:///./src/PresentationalComponents/ErrorPage/ErrorPage.js","webpack:///./src/PresentationalComponents/GreySmallText/GreySmallText.js","webpack:///./src/PresentationalComponents/CheckboxGroup/CheckboxGroup.js","webpack:///./src/PresentationalComponents/ProfileTypeSelect/ProfileTypeSelect.js","webpack:///./src/PresentationalComponents/ComplianceScore/ComplianceScore.js","webpack:///./src/PresentationalComponents/PolicyDetailsContentLoader/PolicyDetailsContentLoader.js","webpack:///./src/PresentationalComponents/ReportDetailsContentLoader/ReportDetailsContentLoader.js","webpack:///./src/PresentationalComponents/PolicyDetailsDescription/PolicyDetailsDescription.js","webpack:///./src/PresentationalComponents/ReportDetailsDescription/ReportDetailsDescription.js","webpack:///./src/PresentationalComponents/ProgressBar/ProgressBar.js","webpack:///./src/PresentationalComponents/TabSwitcher/TabSwitcher.js","webpack:///./src/PresentationalComponents/StateView/StateView.js","webpack:///./src/PresentationalComponents/SystemsCountWarning/SystemsCountWarning.js","webpack:///./src/PresentationalComponents/WarningText/WarningText.js","webpack:///./src/PresentationalComponents/BackgroundLink/BackgroundLink.js","webpack:///./src/PresentationalComponents/BreadcrumbLinkItem/BreadcrumbLinkItem.js","webpack:///./src/PresentationalComponents/ReportsTable/Cells.js","webpack:///./src/PresentationalComponents/ReportsTable/Filters.js","webpack:///./src/PresentationalComponents/ReportsTable/ReportsTable.js","webpack:///./src/Utilities/hooks/useTableSort.js","webpack:///./src/PresentationalComponents/ReportsEmptyState/ReportsEmptyState.js","webpack:///./src/PresentationalComponents/PolicyPopover/PolicyPopover.js","webpack:///./src/PresentationalComponents/PolicyThresholdTooltip/PolicyThresholdTooltip.js","webpack:///./src/PresentationalComponents/PolicyBusinessObjectiveTooltip/PolicyBusinessObjectiveTooltip.js","webpack:///./src/PresentationalComponents/NoResultsTable/NoResultsTable.js","webpack:///./src/PresentationalComponents/PoliciesTable/PoliciesTable.js","webpack:///./src/PresentationalComponents/ProfileThresholdField/ProfileThresholdField.js","webpack:///./src/PresentationalComponents/SupportedSSGVersionsLink/SupportedSSGVersionsLink.js","webpack:///./src/PresentationalComponents/SubPageTitle/SubPageTitle.js","webpack:///./src/PresentationalComponents/NoSystemsTableWithWarning/NoSystemsTableWithWarning.js","webpack:///./src/PresentationalComponents/ConditionalLink/ConditionalLink.js","webpack:///./src/SmartComponents/CreatePolicy/validate.js","webpack:///./src/Utilities/TextHelper.js","webpack:///./src/Utilities/helpers.js","webpack:///./src/Utilities/hooks/useTableTools/FilterConfigBuilder/Helpers.js","webpack:///./src/Utilities/hooks/useTableTools/FilterConfigBuilder/FilterBuilder.js","webpack:///./src/Utilities/hooks/useTableTools/FilterConfigBuilder/ChipBuilder.js","webpack:///./src/Utilities/hooks/useTableTools/FilterConfigBuilder/FilterConfigBuilder.js","webpack:///./src/Utilities/hooks/useTableTools/helper.js","webpack:///./src/Utilities/hooks/useTableTools/useBulkSelect.js","webpack:///./src/Utilities/hooks/useTableTools/Components/SelectedFilterSwitch.js","webpack:///./src/Utilities/hooks/useTableTools/useSelectedFilter.js","webpack:///./src/Utilities/hooks/useTableTools/useFilterConfig.js","webpack:///./src/Utilities/ruleHelpers.js"],"names":["QUERY","gql","ComplianceEmptyState","title","mainButton","client","useQuery","fetchPolicy","data","error","loading","Spinner","errorMsg","ErrorCard","message","policiesCount","profiles","totalCount","policyWord","haveWord","Bullseye","EmptyState","EmptyStateIcon","style","fontWeight","color","size","icon","CloudSecurityIcon","Title","headingLevel","EmptyStateBody","TextContent","href","EmptyStatePrimary","EmptyStateSecondaryActions","Button","variant","component","target","rel","propTypes","defaultProps","ApolloClient","link","HttpLink","uri","COMPLIANCE_API_ROOT","credentials","cache","InMemoryCache","ComplianceRemediationButton","profile","system","majorOsVersion","refId","id","split","description","systems","issues","issueIds","map","issue","filter","index","originalIssueIndex","indexOf","Array","from","Set","concat","rule","find","rules","profileRule","remediationAvailable","ruleProfile","supported","compliant","formatRule","props","allSystems","selectedRules","result","forEach","push","length","rulesWithRemediations","ruleObjectsFailed","Promise","all","then","uniqIssuesBySystem","flatten","dataProvider","flatMap","some","addNotification","this","RemediationButton","isDisabled","notEmptyData","onRemediationCreated","getNotification","React","name","severity","rationale","identifier","references","connect","dispatch","notification","ReduxFormTextInput","field","TextInput","value","input","defaultValue","onChange","ReduxFormTextArea","TextArea","ruleProps","Rule","Text","TextVariants","label","Policy","HighSeverity","className","MediumSeverity","LowSeverityIcon","width","height","viewBox","role","verticalAlign","xmlns","d","fill","fillRule","LowSeverity","UnknownSeverity","Severity","high","medium","low","toLowerCase","Passed","Ansible","Name","sortByProp","renderFunc","renderComponent","sortByFunction","PolicyCell","transforms","fitContent","sortByArray","SeverityCell","PassedCell","original","tooltip","AnsibleCell","addSortableTransform","columns","column","isSortable","uniq","sortable","columnOffset","options","onSelect","detailsComponent","useState","direction","sortBy","setSortBy","onSort","_","sorter","items","orderByArray","orderArrayByProp","tableProps","cells","perPage","enablePagination","pagination","page","paginationState","setPaginationState","setPagination","newState","onSetPage","onPerPageSelect","paginator","start","end","slice","setPage","nextPage","toolbarProps","NoResultsTable","kind","EmptyTable","EmptyStateVariant","emptyRows","colSpan","columnProp","key","primeItem","item","transformers","newItem","transformer","applyTransformers","buildRow","rowTransformer","idx","row","rowProps","itemId","undefined","itemRow","EmptyRowsComponent","transformedItems","filteredItems","sortedItems","paginatedItems","rows","v","itemCount","getIdProp","idProp","identify","itemDetailsRow","DetailsComponent","parent","rowId","childRowForRule","enableExpanbale","openItems","setOpenItems","_columns","rowIndex","isOpen","includes","onCollapse","_event","_index","_isOpen","enableDedicatedAction","dedicatedAction","DedicatedActionOption","AdditionalDedicatedActions","selected","TableToolsTable","filters","toolbarPropsOption","tablePropsOption","identifiedItems","useItemIdentify","useTableSort","sortableTableProps","usePaginate","pagintionToolbarProps","useFilterConfig","conditionalFilterProps","selectedFilterToolbarProps","useExpandable","openItem","expandableProps","useBulkSelectWithItems","selectItem","bulkSelectToolbarProps","bulkSelectTableProps","selectedItems","dedicatedActionToolbarProps","useDedicatedAction","additionalDedicatedActions","useRowsBuilder","rowBuilderToolbarProps","rowBuilderTableProps","useTableTools","PrimaryToolbar","Table","TableHeader","TableBody","TableToolbar","isFooter","Pagination","PaginationVariant","sortByProperty","isRequired","RuleDetailsRow","marginTop","Stack","StackItem","marginBottom","isFilled","Grid","GridItem","span","ident","reduce","prev","next","ref","HIGH_SEVERITY","MEDIUM_SEVERITY","LOW_SEVERITY","UNKNOWN_SEVERITY","filterRulesWithAllValues","values","valueCheck","anyFilterApply","filteredRules","BASE_FILTER_CONFIGURATION","type","conditionalFilterType","reference","PASS_FILTER_CONFIG","REMEDIATION_AVAILABLE_FILTER_CONFIG","showPassFailFilter","policies","remediationAvailableFilter","config","policy","policiesFilterConfig","RulesTable","profileRules","Columns","remediationsEnabled","selectedFilter","handleSelect","selectedRefIds","hidePassed","rulesTableProps","toRulesArrayWithProfile","c","aria-label","filterConfig","buildFilterConfig","activeFilters","passed","selectable","preselected","testResultProfiles","newOsMinorVersion","osMajorVersion","osMinorVersion","ProfileSystemCount","count","Badge","isRead","pluralize","SSGVersionText","ssgVersion","Popover","position","bodyContent","SSGPopoverBody","footerContent","cursor","fontSize","BENCHMARK_QUERY","ProfileTabContent","systemCount","selectedRuleRefIds","variables","benchmark","skip","stateValues","stateKey","matchesSelectionItem","selectionItem","selectedRuleRefIdsForTab","tabSelection","ruleRefIds","profilesWithRulesToSelection","prevSelection","only","additionalSelection","foundSelection","console","tabsDataToOsMinorMap","tabsData","osMinorMap","extendProfilesByOsMinor","eventKey","getDefaultTab","defaultTab","firstTab","TabbedRules","setSelectedRuleRefIds","level","profileSelectedRuleRefIds","filteredSelection","Tab","supportedConfigsLink","UNSUPPORTED_PLURAL_MESSAGE","WarningWithPopover","children","maxWidth","headerContent","WarningWithTooltip","content","Tooltip","TooltipOrPopover","tooltipProps","Component","componentProps","popover","showHeader","showPopupHeader","messageVariant","UnsupportedSSGVersion","showWarningIcon","showHelpIcon","tooltipText","iconProps","defaultStyle","display","ouiaId","RowLoader","ErrorPage","networkError","statusCode","window","insights","chrome","auth","logout","NotAuthorized","serviceName","InvalidObject","onClick","history","goBack","GreySmallText","CheckboxFieldArray","inputValue","defaultChecked","Checkbox","isChecked","checked","arr","splice","handleChange","InUseProfileLabel","Label","lineHeight","ProfileTypeSelect","hasGutter","disabled","rowSpan","Field","JSON","stringify","Truncate","lines","CompliantIcon","rulesPassed","rulesFailed","complianceScoreString","fixedPercentage","score","speed","backgroundcolor","foregroundcolor","x","y","rx","ry","primaryColor","secondaryColor","cx","cy","r","PolicyDetailsDescription","Card","CardHeader","CardBody","complianceThreshold","businessObjective","text","linkifyHtml","inline","policyType","PropTypes","Dt","TextListItem","TextListItemVariants","Dd","PolicyDescription","TextList","TextListVariants","Link","to","version","ReportDetailsDescription","ProgressBar","percent","failed","ProgressVariant","Progress","ContentTab","useAnchorLevels","defaultAnchor","levels","useAnchor","currentAnchor","RoutedTabSwitcher","tab","RoutedTabs","useHistory","useLocation","pathname","state","Tabs","e","preventDefault","tabToActivate","replace","tabAnchor","hash","join","activeKey","StateViewPart","StateView","child","StateViewWithError","WARNING_TEXT","WithOptionalToolTip","showTooltip","TooltipPosition","SystemsCountWarning","WarningText","BackgroundLink","desiredState","backgroundLocation","background","RouterLink","BreadcrumbLinkItem","BreadcrumbItem","marginRight","OperatingSystem","unsupportedHostCount","CompliantSystems","testResultHostCount","compliantHostCount","measureLocation","marginLeft","policyNameFilter","lowerCaseValue","policyTypeFilter","policyTypes","operatingSystemFilter","operatingSystems","operatingSystem","policyComplianceFilter","compliantHostsPercent","Math","round","min","max","i","ReportsTable","conditionalFilter","array","tableSort","sorted","sortedProfiles","PolicyPopover","isInline","Fragment","PolicyNameCell","FILTER_CONFIGURATION","PoliciesTable","FilterConfigBuilder","filterConfigBuilder","getChipBuilder","getFilterBuilder","itemsPerPage","changePage","setState","applyFilterToObjectArray","chips","removeFilterWithChip","initialDefaultState","clearAll","clearAllFilter","deleteFilter","policyId","location","filteredPolicies","filterChips","chipBuilder","chipsFor","totalHostCount","policiesToRows","paginatedPolicies","buildConfiguration","onFilterUpdate","hideLabel","dropDirection","setPerPage","activeFiltersConfig","onDelete","onFilterDelete","ToolbarItem","actionResolver","withRouter","ProfileThresholdField","validThreshold","thresholdValid","previousThreshold","threshold","FormGroup","fieldId","validated","helperTextInvalid","helperText","labelIcon","handleThresholdChange","reduxForm","form","destroyOnUnmount","forceUnregisterOnUnmount","SubPageTitle","additionalProps","validateBenchmarkPage","validateDetailsPage","validateRulesPage","validateSystemsPage","systemIds","fixed","withPercent","fixedValue","toFixed","singular","plural","collection","sortingByProp","propName","order","objA","objB","propA","propB","_data","_id","entity","getSortable","property","objects","sort","a","b","String","localeCompare","objectArray","orderProp","orderArray","sortedObjectArray","orderKey","reverse","getProperty","obj","path","fallback","parts","shift","camelCase","string","trim","toUpperCase","substring","stringToId","configItem","filterString","filterStringArray","moreThanTwo","f","fl","fs","buildFilterFilterString","combineFilterStrings","findWithString","category","currentValue","labelForValue","categoryConfig","Object","keys","groupValue","group","itemValue","getCategoryForLabel","textFilterChip","checkboxFilterChip","radioFilterChip","groupFilterChip","chipFor","defaultPlaceholder","ChipBuilder","filterBuilder","FilterBuilder","handler","placeholder","filterValues","event","selectedValues","groups","subItem","toTextFilterConfig","toCheckboxFilterConfig","toRadioFilterConfig","toGroupedFilterConfig","states","initConfig","toFilterConfigItem","default","defaultStates","initialState","filterStateName","defaultValueForFilter","query","results","parentValue","info","getItemByLabelOrValue","filteredObjects","currentState","chipItem","newGroupState","chipCategory","chipLabel","chipValue","stateProp","newFilterState","removeFilterFromGroupFilterState","removeFilterFromFilterState","filterSelected","selectedIds","selectOrUnselect","itemIds","mergeArraysUniqly","arrayA","arrayB","useBulkSelect","selectedItemsTotal","total","itemIdsInTable","itemIdsOnPage","enableBulkSelect","setSelectedItemIds","selectedIdsTotal","paginatedTotal","allSelected","noneSelected","currentPageSelected","selection","allItemsIncluded","itemsTotal","titleOption","compileTitle","onSelectCallback","func","newSelectedItemsIds","selectItems","unselectItems","unselectAll","selectNone","selectPage","currentPageIds","useEffect","canSelectAll","bulkSelect","toggleProps","selectItemTransformer","propItems","filteredTotal","filtered","allCount","setPageMemo","useMemo","clearSelection","SelectedFilterSwitch","setActiveFilter","Switch","enableSelectedFilter","filterItem","enableFilters","initialActiveFilters","setActiveFilters","addConfigItem","useSelectedFilter","selectFilterItem","activeFilterValues","filterConfigWithSelected","buildFilterString","profilesRulesFailed","profilesRulesPassed","systemRulesFailed","systemSupportedByProfiles","acc","systemsWithRuleObjectsFailed","profilesWithRules","profileWithRules","parse"],"mappings":"qSAqBMA,GAAQC,QAAH,6HAQLC,EAAuB,SAAC,GAAkC,IAAhCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,OACjD,GAA+BC,cAASN,EAAO,CAC7CO,YAAa,eACbF,WAFIG,EAAN,EAAMA,KAAMC,EAAZ,EAAYA,MAKZ,GALA,EAAmBC,QAMjB,OAAO,kBAACC,EAAA,EAAD,MAGT,GAAIF,EAAO,CACT,IAAMG,EAAW,oCAAH,OAAuCH,GACrD,OAAO,kBAACI,YAAD,CAAWC,QAASF,IAG7B,IAAMG,EAAgBP,EAAKQ,SAASC,WAE9BC,EAAaH,EAAgB,EAAI,WAAa,SAC9CI,EAAWJ,EAAgB,EAAI,OAAS,MAE9C,OACE,kBAAC,EAAAK,SAAD,KACE,kBAAC,EAAAC,WAAD,KACE,kBAAC,EAAAC,eAAD,CACEC,MAAO,CACLC,WAAY,MACZC,MAAO,wCAETC,KAAK,KACLvB,MAAM,aACNwB,KAAMC,OAER,kBAAC,EAAAC,MAAD,CAAOC,aAAa,KAAKJ,KAAK,MAC3BvB,GAEH,6BACA,kBAAC,EAAA4B,eAAD,KACGhB,EAAgB,GACf,kBAAC,EAAAiB,YAAD,KACE,uBAAGC,KAAK,oCACLlB,EADH,IACmBG,GACd,IACJC,EAJH,qBAI+BA,EAJ/B,gBAOF,kBAAC,EAAAa,YAAD,qHAIA,kBAAC,EAAAA,YAAD,wHAKF,kBAAC,EAAAE,kBAAD,KAAoB9B,GACpB,kBAAC,EAAA+B,2BAAD,KACE,kBAAC,EAAAC,OAAD,CACEC,QAAQ,OACRC,UAAU,IACVC,OAAO,SACPC,IAAI,sBACJP,KACE,yJANJ,2CAkBV/B,EAAqBuC,UAAY,CAC/BtC,MAAOsC,WACPrC,WAAYqC,WACZpC,OAAQoC,YAGVvC,EAAqBwC,aAAe,CAClCvC,MAAO,cACPC,WACE,kBAAC,EAAAgC,OAAD,CACEC,QAAQ,UACRC,UAAU,IACVL,KAAK,qCAHP,qBAQF5B,OAAQ,IAAIsC,KAAa,CACvBC,KAAM,IAAIC,IAAS,CACjBC,IAAKC,0BACLC,YAAa,YAEfC,MAAO,IAAIC,QAIf,W,sQCzHMC,E,8nBACS,WAAmBC,EAASC,EAAQC,GAApC,IAAGnD,EAAH,EAAGA,MAAOoD,EAAV,EAAUA,MAAV,MAAwD,CACnEC,GAAI,WAAF,OAAaF,EAAb,YACAF,EAAQK,MAAM,yBAAyB,GADvC,YAEEF,GACJG,YAAavD,EACbwD,QAAS,CAACN,Q,wCAGS,SAACO,GACpB,IAAMC,EAAWD,EAAOE,KAAI,SAACC,GAAD,OAAWA,EAAMP,MAC7C,OAAOI,EAAOI,QAAO,SAACD,EAAOE,GAC3B,IAAMC,EAAqBL,EAASM,QAAQJ,EAAMP,IAClD,OAAOU,IAAuBD,IAEzBL,EAAOM,GAAoBP,QAAUS,MAAMC,KAC1C,IAAIC,IAAIV,EAAOM,GAAoBP,QAAQY,OAAOR,EAAMJ,cACpD,S,iCAIA,SAACa,EAAMnB,GAAP,OACZA,EAAOrC,SAASyD,MAAK,SAACrB,GAAD,OACnBA,EAAQsB,MAAMD,MAAK,SAACE,GAAD,OAAiBH,EAAKjB,QAAUoB,EAAYpB,gB,2CAG3C,SAACmB,EAAOrB,GAC9B,OAAOqB,EACJV,QACC,SAACQ,GAAD,OACEA,EAAKI,sBACL,EAAKC,YAAYL,EAAMnB,GAAQyB,YACZ,IAAnBN,EAAKO,aAERjB,KAAI,SAACU,GACJ,IAAMpB,EAAU,EAAKyB,YAAYL,EAAMnB,GACvC,OAAO,EAAK2B,WACVR,EACApB,EAAQG,MACRF,EAAOG,GACPJ,EAAQE,uB,kCAKD,WACb,MAAsC,EAAK2B,MAAnCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cACdC,EAAS,CAAEzB,QAAS,GAAIC,OAAQ,IAgBtC,OAdAsB,EACGlB,QAAO,SAACX,GAAD,OAAYA,EAAOyB,aAC1BO,QAFH,mCAEW,WAAOhC,GAAP,iEACP+B,EAAOzB,QAAQ2B,KAAKjC,EAAOG,IAEE,IAAzB2B,EAAcI,OAChBH,EAAOxB,OAAO0B,KAAK,EAAKE,sBAAsBL,EAAe9B,IAE7D+B,EAAOxB,OAAO0B,KACZ,EAAKE,sBAAsBnC,EAAOoC,kBAAmBpC,IAPlD,2CAFX,uDAcOqC,QAAQC,IAAIP,EAAOxB,QAAQgC,MAAK,SAAChC,GAEtC,OADAwB,EAAOxB,OAAS,EAAKiC,mBAAmBC,IAAQlC,IACzCwB,S,mDAII,oGACM,EAAKW,eADX,cACPvF,EADO,yBAENA,EAAKoD,OAAO2B,OAAS,GAAK/E,EAAKmD,QAAQ4B,OAAS,GAF1C,6C,0CAKQ,WACrB,MAAsC,EAAKN,MAAnCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,cAKpB,OAJYA,EAAcI,OACtBJ,EACAD,EAAWc,SAAQ,SAAC3C,GAAD,OAAYA,EAAOoC,sBAE7BQ,MACX,SAACzB,GAAD,aACEA,EAAKI,wBACJ,UAAAJ,EAAKxD,gBAAL,eAAeiF,MAAK,SAAC7C,GAAD,OAAaA,EAAQ0B,eACxCI,EAAWe,MACT,SAAC5C,GAAD,OAAY,EAAKwB,YAAYL,EAAMnB,GAAQyB,gBAE5B,IAAnBN,EAAKO,gB,uCAIX,WACE,IAAQmB,EAAoBC,KAAKlB,MAAzBiB,gBAER,OACE,kBAAC,aAAD,KACE,kBAACE,EAAA,EAAD,CACEC,aAAcF,KAAKvB,wBAA0BuB,KAAKG,gBAClDC,qBAAsB,SAACnB,GAAD,OACpBc,EAAgBd,EAAOoB,oBAEzBT,aAAcI,KAAKJ,cAEnB,kBAAC,KAAD,CACErE,KAAK,KACLD,MAAM,yCATV,mB,GAhGkCgF,eAkH1CtD,EAA4BV,UAAY,CACtC0C,cAAe1C,UACfyC,WAAYzC,YACVA,UAAgB,CACde,GAAIf,WACJiE,KAAMjE,WACNqC,UAAWrC,oBACXzB,SAAUyB,YACRA,UAAgB,CACdc,MAAOd,WACPiE,KAAMjE,WACNiC,MAAOjC,YACLA,UAAgB,CACdtC,MAAOsC,WACPkE,SAAUlE,WACVmE,UAAWnE,WACXc,MAAOd,WACPiB,YAAajB,WACbsC,UAAWtC,SACXoE,WAAYpE,WACZqE,WAAYrE,oBAOxByD,gBAAiBzD,UAGnBU,EAA4BT,aAAe,CACzCwC,WAAY,IAGd,SAAe6B,cACb,iBAAO,MACP,SAACC,GAAD,MAAe,CACbd,gBAAiB,SAACe,GAAD,OAAkBD,GAASd,QAAgBe,QAHhE,CAKE9D,I,gFChJUV,Y,iHCbCyE,EAAqB,SAACC,GAAD,OAChC,kBAAC,EAAAC,WAAD,QACEC,MAAOF,EAAMG,MAAMD,OAASF,EAAMI,aAClCC,SAAUL,EAAMG,MAAME,UAClBL,KAIKM,EAAoB,SAACN,GAAD,OAC/B,kBAAC,EAAAO,UAAD,QACEL,MAAOF,EAAMG,MAAMD,OAASF,EAAMI,aAClCC,SAAUL,EAAMG,MAAME,UAClBL,M,+LCNFQ,EAAY,CAChBxH,MAAOsC,WACPoE,WAAYpE,WACZW,QAASX,WACTsC,UAAWtC,SACXmC,qBAAsBnC,SACtBkE,SAAUlE,YAGCmF,EAAO,SAAC,GAAD,IAAGzH,EAAH,EAAGA,MAAO0G,EAAV,EAAUA,WAAV,OAClB,kBAAC,EAAA7E,YAAD,KACG7B,EACA0G,EACC,kBAAC,EAAAgB,KAAD,CAAMvF,UAAWwF,sBAAqBjB,EAAWkB,OAEjD,KAINH,EAAKnF,UAAYkF,EAEV,IAAMK,EAAS,SAAC,GAAD,SAAG5E,QAAsBsD,MAC/CsB,EAAOvF,UAAYkF,EAEZ,IAAMM,EAAe,kBAC1B,8BACE,kBAAC,KAAD,CAAuBC,UAAU,iBADnC,UAKWC,EAAiB,kBAC5B,8BACE,kBAAC,KAAD,CAAyBD,UAAU,kBADrC,YAKWE,EAAkB,kBAC3B,yBAAKC,MAAM,MAAMC,OAAO,MAAMC,QAAQ,YAAYC,KAAK,MAAMjH,MAAQ,CAAEkH,cAAe,YAAeC,MAAM,8BAA6B,0BAAMC,EAAE,6QAA6QC,KAAK,UAAUC,SAAS,cAG5aC,EAAc,kBACzB,8BACE,kBAACV,EAAD,MADF,SAKWW,EAAkB,kBAC7B,8BACE,kBAAC,KAAD,MADF,aAKWC,EAAW,SAAC,GAAD,IAAGrC,EAAH,EAAGA,SAAH,MACrB,CACCsC,KAAM,kBAAChB,EAAD,MACNiB,OAAQ,kBAACf,EAAD,MACRgB,IAAK,kBAACL,EAAD,OACLnC,aAJD,EAICA,EAAUyC,gBAAkB,kBAACL,EAAD,OAChCC,EAASvG,UAAYkF,EAEd,IAAM0B,EAAS,SAAC,GAAD,SAAGtE,UAErB,kBAAC,KAAD,CAAiBmD,UAAU,iBAE3B,kBAAC,KAAD,CAAuBA,UAAU,kBAErCmB,EAAO5G,UAAYkF,EAEZ,IAAM2B,EAAU,SAAC,GAAD,SAAG1E,qBACD,kBAAC,KAAD,CAAiBsD,UAAU,iBAAoB,MACxEoB,EAAQ7G,UAAYkF,G,sJCpEP4B,EAAO,CAClBpJ,MAAO,OACPqJ,WAAY,QACZC,YAAYC,QAAgB9B,OAGjBI,EAAS,CACpB7H,MAAO,SACPwJ,eAAgB,SAACnF,GAAD,aAAUA,SAAV,UAAUA,EAAMpB,eAAhB,aAAU,EAAesD,MACzC+C,YAAYC,QAAgBE,OAGjBZ,EAAW,CACtB7I,MAAO,WACPqJ,WAAY,WACZK,WAAY,CAACC,cACbC,YAAa,CAAC,OAAQ,SAAU,MAAO,WACvCN,YAAYC,QAAgBM,OAGjBX,EAAS,CACpBlJ,MAAO,SACPqJ,WAAY,YACZC,YAAYC,QAAgBO,OAGjBX,EAAU,CACrBnJ,MACE,8BACE,kBAAC,KAAD,MADF,YAIF+J,SAAU,UACVjF,MAAO,CACLkF,QAAS,WAEXN,WAAY,CAACC,cACbN,WAAY,uBACZC,YAAYC,QAAgBU,Q,kwBC9C9B,IAEMC,EAAuB,SAACC,GAAD,OAC3BA,EAAQxG,KAAI,SAACyG,GAAD,cACPA,GAJY,SAACA,GAAD,OAAYA,EAAOf,YAAce,EAAOZ,eAKnDa,CAAWD,GACX,CACEV,YAAYY,QAAK,GAAD,gBAAMF,aAAA,EAAAA,EAAQV,aAAc,IAA5B,CAAiCa,eAEnD,QAGFC,EAAe,eAACC,EAAD,uDAAW,GAAX,OACU,mBAArBA,EAAQC,gBACqB,IAA7BD,EAAQE,mBAqClB,QAnCqB,SAACR,GAA0B,IAAjBM,EAAiB,uDAAP,GACvC,GAA4BG,cAAS,CACnC9G,MAAO,EACP+G,UAAW,SAFb,eAAOC,EAAP,KAAeC,EAAf,KAIMC,EAAS,SAACC,EAAGnH,EAAO+G,GAAX,OACbE,EAAU,CACRjH,QACA+G,eAGJ,MAAO,CACLK,OAAQ,SAACC,GACP,IAAMf,EAASD,EAAQW,EAAOhH,MAAQ0G,EAAaC,IACnD,OAAOL,WAAQR,aACXwB,QACED,EACAf,aAFU,EAEVA,EAAQf,WACRe,aAHU,EAGVA,EAAQR,YACRkB,EAAOD,YAETQ,SACEjB,aAAA,EAAAA,EAAQf,cAAce,aAAtB,EAAsBA,EAAQZ,gBAC9B2B,EACAL,EAAOD,YAGfS,WAAY,CACVN,SACAF,SACAS,MAAOrB,EAAqBC,M,qkBCAlC,QAhDoB,WAAkB,IAAjBM,EAAiB,uDAAP,GAC7B,EAAyBA,EAAjBe,eAAR,MAAkB,GAAlB,EACMC,GAA2C,KAAxBhB,aAAA,EAAAA,EAASiB,YAElC,GAA8Cd,cAAS,CACrDY,UACAG,KAAM,IAFR,eAAOC,EAAP,KAAwBC,EAAxB,KAIMC,EAAgB,SAACC,GAAD,OACpBF,EAAmB,OACdD,GACAG,KAGDC,EAAY,SAACf,EAAGU,GAAJ,OAAaG,EAAc,OAAKF,GAAN,IAAuBD,WAE7DM,EAAkB,SAAChB,EAAGO,GAAJ,OAAgBM,EAAc,CAAEH,KAAM,EAAGH,aAE3DU,EAAY,SAACf,GACjB,IAAQQ,EAAkBC,EAAlBD,KAAMH,EAAYI,EAAZJ,QACRW,GAASR,EAAO,GAAKH,EACrBY,EAAMD,EAAQX,EAEpB,OAAOL,EAAMkB,MAAMF,EAAOC,IAGtBE,EAAU,SAACX,GACf,IAAMY,EAAWZ,EAAO,EAAIC,EAAgBD,KAAOA,EAAOA,EAC1DG,EAAc,CACZH,KAAMY,EAAW,EAAIA,EAAW,KAIpC,OAAOd,EACH,CACES,YACAI,UACAE,aAAc,CACZd,WAAY,OACPE,GADK,IAERI,YACAC,sBAIN,I,0BCpCOQ,EAAiB,SAAC,GAAD,QAAGC,YAAH,MAAU,UAAV,SAC5B,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAA1L,SAAD,KACE,kBAAC,EAAAC,WAAD,CAAYgB,QAAS0K,0BACnB,kBAAC,EAAAlL,MAAD,CAAOC,aAAa,KAAKJ,KAAK,MAA9B,eACemL,EADf,UAGA,kBAAC,EAAA9K,eAAD,wCACmC8K,EADnC,IACyC,6BADzC,0CASRD,EAAenK,UAAY,CACzBoK,KAAMpK,YAGD,IAAMuK,EAAY,CACvB,CACEtB,MAAO,CACL,CACMvL,MAAO,kBAAO,kBAACyM,EAAD,OAClB3H,MAAO,CACLgI,QAAS,O,qkBCnCnB,IAAMC,EAAa,SAAC3C,GAAD,eACjBA,EAAO4C,MAAP,UAAc5C,EAAOL,gBAArB,aAAc,EAAiBd,iBAA/B,UAAgDmB,EAAOpK,aAAvD,aAAgD,EAAciJ,gBAY1DgE,EAAY,SAACC,EAAMC,GACvB,IAAIC,EAAUF,EAQd,OANAC,EAAajI,SAAQ,SAACmI,GAChBA,IACFD,EAAUC,EAAYD,OAInBA,GAGHE,EAAoB,SAACnC,GAAD,IAAQgC,EAAR,uDAAuB,GAAvB,OACxBhC,EAAMxH,KAAI,SAACuJ,GAAD,OAAUD,EAAUC,EAAMC,OAEhCI,EAAW,SAACL,EAAM/C,EAASqD,EAAgBC,GAAhC,OACfD,EAAe3H,SAAQ,SAACwH,GACtB,IAAMK,EA3BM,SAACR,EAAM/C,GAAP,SAAC,KACZ+C,EAAKS,UADM,IAEdC,OAAQV,EAAKU,OACbrC,MAAOpB,EAAQxG,KAAI,SAACyG,GAAD,MAAa,CAC9BpK,MAAOoK,EAAOd,WACVc,EAAOd,gBAAWuE,OAAWA,EAAWX,GACxCA,EAAKH,EAAW3C,UAqBR0D,CAAQZ,EAAM/C,GAC1B,OAAOkD,EAAcA,EAAYK,EAAKR,EAAM/C,EAASsD,GAAOC,MA8ChE,QA3CuB,SAACvC,EAAOhB,GAA0B,IAAjBM,EAAiB,uDAAP,GAChD,EAAkDA,EAA1C4C,mBAAR,MAAsB,GAAtB,IAAkD5C,EAAxB+C,sBAA1B,MAA2C,GAA3C,EACMO,EAAqBtD,EAAQoC,WAAaA,EAC1CmB,EAAmBX,EACrBC,EAAkBnC,EAAOkC,GACzBlC,EAEE8C,EAAgBxD,WAAS5G,OAC3B4G,EAAQ5G,OAAOmK,GACfA,EAEEE,EAAczD,WAASS,OACzBT,EAAQS,OAAO+C,GACfA,EAEEE,EAAiB1D,WAASyB,UAC5BzB,aADmB,EACnBA,EAASyB,UAAUgC,GACnBA,EAEEE,EACJD,EAAe/I,OAAS,EACpB+I,EACGtI,SAAQ,SAACqH,EAAMO,GAAP,OAAeF,EAASL,EAAM/C,EAASqD,EAAgBC,MAC/D5J,QAAO,SAACwK,GAAD,QAASA,KACnBN,EAEArC,EAAajB,WAASiB,WAAT,OAEVjB,EAAQiB,YAFE,IAGb4C,UAAWL,EAAc7I,cAE3ByI,EAEJ,MAAO,CACLvC,WAAY,CACV8C,QAEF5B,aAAc,CACZd,gB,olBC1EN,IAAM6C,EAAY,SAACrB,GAAD,IAAOsB,EAAP,uDAAgB,KAAhB,OAAyBtB,EAAKsB,IAE1CC,EAAW,SAACvB,EAAMxG,GACtB,OACE,OACKwG,GADL,GADwB,iBAAfxG,EACT,CAEEkH,OAAQW,EAAUrB,EAAMxG,IAG1B,CAEEkH,OAAQlH,EAAWwG,MAWzB,QAN+B,SAAC/B,GAAwB,IAAjBV,EAAiB,uDAAP,GACzC/D,GAAa+D,aAAA,EAAAA,EAAS/D,aAAc6H,EAE1C,OAAOpD,EAAMxH,KAAI,SAACuJ,GAAD,OAAUuB,EAASvB,EAAMxG,O,qkBCjB5C,IAOMgI,EAAiB,SAACxB,EAAMO,EAAKhD,GAAZ,YACgB,KAA9BA,aAAP,EAAOA,EAASE,mBARM,SAACuC,EAAMO,EAAKkB,GAAZ,MAAkC,CACxDC,OAAc,EAANnB,EACRlC,MAAO,CACL,CAAEvL,MAAO,kBAAC2O,EAAD,CAAkBtK,KAAM6I,EAAMF,IAAK,QAAUE,EAAK2B,WAM7DC,CAAgB5B,EAAMO,EAAKhD,EAAQE,mBAkCrC,QAhCsB,SAACF,GACrB,IAAMsE,IAAoBtE,EAAQE,iBAClC,GAAkCC,cAAS,IAA3C,eAAOoE,EAAP,KAAkBC,EAAlB,KAoBA,OAAOF,EACH,CACE1B,YAbW,SAACK,EAAKR,EAAMgC,EAAUC,GACrC,IAAMC,EAASJ,EAAUK,SAASnC,EAAKU,QAOvC,MAAO,CANQ,OACVF,GADO,IAEV0B,WAEoBV,EAAexB,EAAMiC,EAAU1E,KAQjDa,WAAY,CACVgE,WAvBW,SAACC,EAAQC,EAAQC,EAAS/B,GACvCsB,EAAUK,SAAS3B,EAAIE,QACzBqB,EAAaD,EAAUnL,QAAO,SAAC+J,GAAD,OAAYA,IAAWF,EAAIE,WAEzDqB,EAAa,GAAD,eAAKD,GAAL,CAAgBtB,EAAIE,aAsBhC,ICdN,EA1B2B,SAACnD,GAC1B,IAAMiF,IAA0BjF,EAAQkF,gBAErBC,EAGfnF,EAHFkF,gBACAE,EAEEpF,EAFFoF,2BACAC,EACErF,EADFqF,SAGF,OAAOJ,EACH,CACElD,aAAc,CACZmD,gBAAiBG,GACf,6BACGF,GACC,kBAACA,EAAD,CAAuBE,SAAUA,IAElCD,GACC,kBAACA,EAAD,CAA4BC,SAAUA,OAMhD,I,s3BCjBN,IAAMC,EAAkB,SAAC,GAOnB,QANJ5E,aAMI,MANI,GAMJ,MALJhB,eAKI,MALM,GAKN,MAJJ6F,eAII,MAJM,GAIN,MAHJvF,eAGI,MAHM,GAGN,EACJ,ECPoB,WAA4C,IAA3CU,EAA2C,uDAAnC,GAAIhB,EAA+B,uDAArB,GAAIM,EAAiB,uDAAP,GACnCwF,EACpBxF,EADM+B,aAA8C0D,EACpDzF,EADwCa,WAGpC6E,EAAkBC,EAAgBjF,EAAOV,GAE/C,EAAmD4F,EACjDlG,EACAM,GAFkB6F,EAApB,EAAQhF,WAAgCJ,EAAxC,EAAwCA,OAKxC,EAIIqF,EAAY9F,GAHA+F,EADhB,EACEhE,aACAF,EAFF,EAEEA,QACAJ,EAHF,EAGEA,UAGF,GAIIuE,OAAgB,OACfhG,GADc,IAEjB6B,aALcoE,EADhB,EACElE,aACA3I,EAFF,EAEEA,OACA8M,EAHF,EAGEA,2BAMF,EACEC,EAAcnG,GADKoG,EAArB,EAAQxD,YAAmCyD,EAA3C,EAA+BxF,WAG/B,GAKIyF,OAAuB,OACtBtG,GADqB,IAExBU,MAAOD,EAAOiF,GACdtM,SACAqI,YACAI,aATa0E,EADf,EACE3D,YACc4D,EAFhB,EAEEzE,aACY0E,EAHd,EAGE5F,WACA6F,EAJF,EAIEA,cASoBC,EAAgCC,EAAmB,OACpE5G,GADmE,IAEtEqF,SAAUqB,EACVG,2BAA4B,CAACX,aAAD,EAACA,EAA4BhB,oBAHnDnD,aAMR,EAGI+E,EAAepB,EAAiBG,EAAmB/E,MAAO,CAC5DsB,UAAWpC,EAAQoC,UACnBQ,YAAa,CAAC2D,GACdxD,eAAgB,CAACqD,GACjBnF,WAAY8E,aAAF,EAAEA,EAAuB9E,WACnCQ,YACArI,SACAqH,WATcsG,EADhB,EACEhF,aACYiF,EAFd,EAEEnG,WAWIkB,EAAe,iBAChBgE,GACAS,GACAP,GACAC,GACAS,GACAI,GACAvB,GAGC3E,EAAa,WACjBC,MAAOpB,GACJsH,GACAnB,GACAY,GACAJ,GACAZ,GAGL,MAAO,CACL1D,eACAlB,cD3EmCoG,CAAcvG,EAAOhB,E,qWAAR,EAChD6F,UACAxD,aAHE,EAFJA,aAMElB,YAJE,aAKCb,IAJG+B,EAAR,EAAQA,aAAclB,EAAtB,EAAsBA,WAOtB,OACE,kBAAC,aAAD,KACE,kBAACqG,EAAA,EAAmBnF,GAEpB,kBAAC,EAAAoF,MAAUtG,EACT,kBAAC,EAAAuG,YAAD,MACA,kBAAC,EAAAC,UAAD,OAGF,kBAACC,EAAA,EAAD,CAAcC,UAAQ,GACpB,kBAAC,EAAAC,YAAD,QACE/P,QAASgQ,4BACL1F,EAAad,gBAO3BqE,EAAgBzN,UAAY,CAC1B6I,MAAO7I,qBACP6H,QAAS7H,YACPA,UAAgB,CACdtC,MAAOsC,SACPoH,WAAYpH,UACZ6P,eAAgB7P,WAChBsH,YAAatH,UACbkH,eAAgBlH,SAChBgH,WAAYhH,YAEd8P,WACFpC,QAAS1N,WACTmI,QAASnI,WACTkK,aAAclK,YAGhB,U,4BE/CM+P,GAAiB,SAAC,GAAa,IAAXhO,EAAW,EAAXA,KAChBjB,EAA0DiB,EAA1DjB,MAAOG,EAAmDc,EAAnDd,YAAamD,EAAsCrC,EAAtCqC,WAAYC,EAA0BtC,EAA1BsC,WAAYF,EAAcpC,EAAdoC,UAC9CuG,EAAM,kBAAH,OAAqB5J,GAE9B,OACE,yBAAK4J,IAAKA,EAAK5L,MAAO,CAAEkR,UAAW,iCACjC,kBAAC,EAAAC,MAAD,CAAOlP,GAAE,2BAAsB2J,GAAOjF,UAAU,oBAC9C,kBAAC,EAAAyK,UAAD,CAAWpR,MAAO,CAAEqR,aAAc,iCAChC,kBAAC,EAAA/K,KAAD,CAAMK,UAAU,mBAAmB5F,UAAWwF,mBAC5C,4CAGJ,kBAAC,EAAA6K,UAAD,CAAWE,UAAQ,GAAEnP,IAEvB,kBAAC,EAAAgP,MAAD,CACElP,GAAE,sCAAiC2J,GACnCjF,UAAU,oBAEV,kBAAC,EAAA4K,KAAD,KACGjM,GAAcA,EAAWtB,OAAS,GACjC,kBAAC,EAAAwN,SAAD,CAAUC,KAAM,GACd,kBAAC,EAAAnL,KAAD,CAAMK,UAAU,mBAAmB5F,UAAWwF,mBAC5C,0CAEF,kBAAC,EAAAD,KAAD,KACGhB,EACE/C,KAAI,SAACmP,EAAOrF,GAAR,OACH,kBAAC,MAAD,CACE3L,KAAMgR,EAAM5P,OACZd,OAAO,SACP4K,IAAG,UAAK5J,EAAL,uBAAyBqK,IAE3BqF,EAAMlL,UAGVmL,QAAO,SAACC,EAAMC,GAAP,MAAgB,CAACD,EAAM,KAAMC,QAK5CtM,GAAcA,EAAWvB,OAAS,GACjC,kBAAC,EAAAwN,SAAD,CAAUC,KAAM,IACd,kBAAC,EAAAnL,KAAD,CAAMK,UAAU,mBAAmB5F,UAAWwF,mBAC5C,0CAEF,kBAAC,EAAAD,KAAD,KACGf,EACEhD,KAAI,SAACuP,EAAKzF,GAAN,OACH,kBAAC,MAAD,CACE3L,KAAMoR,EAAIpR,KACVM,OAAO,SACP4K,IAAG,UAAK5J,EAAL,sBAAwBqK,IAE1ByF,EAAItL,UAGRmL,QAAO,SAACC,EAAMC,GAAP,MAAgB,CAACD,EAAM,KAAMC,UAOhDxM,GACC,kBAAC,EAAA8L,MAAD,CACElP,GAAE,yBAAoB2J,GACtB5L,MAAO,CAAEqR,aAAc,iCAEvB,kBAAC,EAAAD,UAAD,CAAWpR,MAAO,CAAEqR,aAAc,iCAChC,kBAAC,EAAA/K,KAAD,CAAMK,UAAU,mBAAmB5F,UAAWwF,mBAC5C,0CAGJ,kBAAC,EAAA6K,UAAD,CAAWE,UAAQ,GAAEjM,MAO/B4L,GAAe/P,UAAY,CACzB+B,KAAM/B,YAGR,YC3DA,GA3BkB,SAAC6H,GAAD,MAAa,CAC7B,CACEoB,MAAO,CACL,CACEvL,MACE,kBAAC2M,EAAA,EAAD,KACE,kBAAC,EAAA1L,SAAD,KACE,kBAAC,EAAAC,WAAD,CAAYgB,QAAS0K,0BACnB,kBAAC,EAAAlL,MAAD,CAAOC,aAAa,KAAKJ,KAAK,MAA9B,2BAGA,kBAAC,EAAAK,eAAD,+CACyC,6BADzC,0CAQRkD,MAAO,CACLgI,QAAS3C,EAAQ/E,a,oDCtBd+N,GACX,8BACE,kBAAC,MAAD,CAAuBpL,UAAU,iBADnC,SAIWqL,GACX,8BACE,kBAAC,MAAD,CAAyBrL,UAAU,kBADrC,WAIWsL,GACX,8BACE,kBAAC,MAAD,MADF,QAIWC,GACX,8BACE,kBAAC,MAAD,MADF,Y,YChBIC,GAA2B,SAAChP,EAAOiP,EAAQC,GAAhB,OAC/BlP,EAAMV,QACJ,SAACQ,GAAD,OACEmP,EAAO7P,KAAI,SAACuD,GAAD,OAAWuM,EAAWpP,EAAM6C,MAAQrD,QAAO,SAACwK,GAAD,QAASA,KAAGjJ,OAClE,MAGAsO,GAAiB,SAACnP,EAAOiP,EAAQC,GACrC,IAAIE,EAAgB,GASpB,OARApP,EAAMW,SAAQ,SAACb,GAEXmP,EAAO7P,KAAI,SAACuD,GAAD,OAAWuM,EAAWpP,EAAM6C,MAAQrD,QAAO,SAACwK,GAAD,QAASA,KAAGjJ,OAClE,GAEAuO,EAAcxO,KAAKd,MAGhBsP,GAGHC,GAA4B,CAChC,CACEC,KAAMC,WACNlM,MAAO,OACP/D,OAAQ,SAACU,EAAO2C,GAAR,OACNqM,GACEhP,EACA,CAAC2C,IACD,SAAC7C,EAAM6C,GAAP,OACE7C,EAAKrE,MAAMiJ,cAAcoG,SAASnI,EAAM+B,gBACvC5E,EAAKqC,YACJrC,EAAKqC,WAAWkB,MACbqB,cACAoG,SAASnI,EAAM+B,gBACpB5E,EAAKsC,WAAW9C,QAAO,SAACkQ,GAAD,OACrBA,EAAUnM,MAAMqB,cAAcoG,SAASnI,EAAM+B,kBAC7C7D,OAAS,OAGnB,CACEyO,KAAMC,eACNlM,MAAO,WACPuD,MAAO,CACL,CAAEvD,MAAOuL,GAAejM,MAAO,QAC/B,CAAEU,MAAOwL,GAAiBlM,MAAO,UACjC,CAAEU,MAAOyL,GAAcnM,MAAO,OAC9B,CAAEU,MAAO0L,GAAkBpM,MAAO,YAEpCrD,OAAQ,SAACU,EAAOiP,GAAR,OACNE,GAAenP,EAAOiP,GAAQ,SAACnP,EAAM6C,GAAP,OAAiB7C,EAAKmC,WAAaU,QAIjE8M,GAAqB,CACzBH,KAAMC,eACNlM,MAAO,SACPuD,MAAO,CACL,CAAEvD,MAAO,eAAgBV,MAAO,UAChC,CAAEU,MAAO,eAAgBV,MAAO,WAElCrD,OAAQ,SAACU,EAAOiP,GAAR,OACNE,GACEnP,EACAiP,GACA,SAACnP,EAAM6C,GAAP,OAAiB7C,EAAKO,aAAyB,WAAVsC,QAkB9B+M,GAAsC,CACjDJ,KAAMC,eACNlM,MAAO,wBACPuD,MAAO,CAAC,CAAEvD,MAAO,wBAAyBV,MAAO,SACjDrD,OAAQ,SAACU,EAAO2C,GAAR,OACN3C,EAAMV,QAAO,SAACQ,GAAD,MACE,SAAb6C,EAAM,KAA8C,IAA9B7C,EAAKI,0BA0BjC,SAtB0B,SAAC,GAIrB,IAHJyP,EAGI,EAHJA,mBACAC,EAEI,EAFJA,SACAC,EACI,EADJA,2BAEMC,EAAS,GAAH,OAAOT,IAcnB,OAZIM,GACFG,EAAOlP,KAAK6O,IAGVG,GAAYA,EAAS/O,OAAS,GAChCiP,EAAOlP,KApCyB,SAACgP,GAAD,MAAe,CACjDN,KAAMC,eACNlM,MAAO,SACPuD,MAAOgJ,EAASxQ,KAAI,SAAC2Q,GAAD,MAAa,CAAE1M,MAAO0M,EAAO/N,KAAMW,MAAOoN,EAAOjR,OACrEQ,OAAQ,SAACU,EAAOiP,GAAR,OACND,GACEhP,EACAiP,GACA,SAACnP,EAAM6C,GAAP,OACG7C,EAAKpB,QAAQqR,OAASjQ,EAAKpB,QAAQqR,OAAOjR,GAAKgB,EAAKpB,QAAQI,MAC7D6D,OA0BQqN,CAAqBJ,IAG/BC,GACFC,EAAOlP,KAAK8O,IAGPI,G,2vBC5GT,IAAMG,GAAa,SAAC,GAkBd,IAjBJtR,EAiBI,EAjBJA,OACAuR,EAgBI,EAhBJA,aAgBI,IAfJtK,eAeI,MAfM,CACRuK,MACAA,MACAA,MACAA,MACAA,OAUE,MARJC,2BAQI,aAPJP,kCAOI,aANJQ,sBAMI,SALJC,EAKI,EALJA,aAKI,IAJJC,sBAII,MAJa,GAIb,MAHJC,kBAGI,SAFJtK,EAEI,EAFJA,QACGuK,GACC,aACEzQ,GAAQ0Q,SAAwBR,GAChCP,EACJ/J,EAAQtG,QAAO,SAACqR,GAAD,MAAmB,WAAZA,EAAElV,SAAoBoF,OAAS,EACjD+O,EAAWM,EACd5Q,QAAO,sBAAGZ,WACVU,KAAI,gBAAGV,EAAH,EAAGA,QAAH,MAAkB,CACrBI,GAAIJ,EAAQqR,OAASrR,EAAQqR,OAAOjR,GAAKJ,EAAQI,GACjDkD,KAAMtD,EAAQsD,SAmBlB,OACE,kBAAC,GAAD,QACE4O,aAAW,cACXhK,MAAO5G,EACP4F,QAASA,EACT6F,QAAO,IACLoF,aAAcC,GAAkB,CAC9BnB,qBACAC,WACAC,gCAEEW,GAAc,CAChBO,cAAe,CACbC,OAAQ,CAAC,aAIf9K,QAAO,SACFA,GADE,IAEL/D,WAAY,SAACwG,GAAD,OAAUA,EAAK9J,OAC3BoS,aAAcX,GAAgBF,EAC9BjK,SAAUmK,EACVY,YAAaX,EACbnK,iBAAkB0H,GAClBxF,UAAWA,GAAU1C,GACrByK,kBACID,EAAsB,CAAEhF,gBA1CR,SAAC,GAAD,IAAa3K,EAAb,EAAG8K,SAAH,OACxB,kBAAC9M,EAAA,EAAD,CACE+B,WAAY,CACV,CACE1B,GAAIH,EAAOG,GACXxC,SAAUqC,EAAOwS,mBACjBpQ,kBAAmB,GACnBX,UAAWzB,EAAOyB,YAGtBK,eAAgBA,GAAiB,IAAInB,QACnC,SAACQ,GAAD,OAAUA,EAAKI,4BA+BoD,KAEjEuQ,KAKVR,GAAWlS,UAAY,CACrBmS,aAAcnS,UACd/B,QAAS+B,SACTyS,WAAYzS,SACZY,OAAQZ,WACRqS,oBAAqBrS,SACrB8R,2BAA4B9R,SAC5BwS,eAAgBxS,UAChBsS,eAAgBtS,SAChBuS,aAAcvS,SACd6H,QAAS7H,UACTmI,QAASnI,YAGX,a,oOClGA,QALsB,SAAC,GAAD,IAAGW,EAAH,EAAGA,QAAS0S,EAAZ,EAAYA,kBAAZ,oBACb,IAAW1S,EAAQ2S,eADN,YAElB3S,EAAQ4S,gBAAkBF,I,MCqBxBG,EAAqB,SAAC,GAAD,QAAGC,aAAH,MAAW,EAAX,SACzB,kBAAC,EAAAC,MAAD,CAAOC,QAAM,GAAb,UAAkBF,EAAlB,aAA2BG,QAAUH,EAAO,aAG9CD,EAAmBxT,UAAY,CAC7BW,QAASX,WACTyT,MAAOzT,YAGT,IAAM6T,EAAiB,SAAC,GAAD,IAAGlT,EAAH,EAAGA,QAAS0S,EAAZ,EAAYA,kBAAZ,OACrB,kBAAC,EAAAjO,KAAD,CAAMvF,UAAWwF,kBAAjB,gBACgB1E,EAAQmT,WAAY,IAClC,kBAAC,EAAAC,QAAD,CACEC,SAAS,QACTC,YAAa,kBAACC,EAAD,CAAsBvT,UAAS0S,sBAC5Cc,cAAe,kBAAC,KAAD,OAEf,0BAAMrV,MAAO,CAAEsV,OAAQ,YACrB,kBAAC,KAAD,CAA4B3O,UAAU,kBAM9CoO,EAAe7T,UAAY,CACzBW,QAASX,sBACTqT,kBAAmBrT,YAGrB,IAAMkU,EAAiB,SAAC,GAAD,IAAGvT,EAAH,EAAGA,QAAS0S,EAAZ,EAAYA,kBAAZ,OACrB,kBAAC,EAAA9T,YAAD,CAAaT,MAAO,CAAEuV,SAAU,kCAC9B,kBAAC,EAAAjP,KAAD,iFAC4E,IAC1E,kBAAC,EAAD,CAAqBzE,UAAS0S,uBAEhC,kBAAC,EAAAjO,KAAD,KACE,kBAAC,EAAD,CAAqBzE,UAAS0S,sBADhC,wEAOJa,EAAelU,UAAY,CACzBW,QAASX,sBACTqT,kBAAmBrT,YAGrB,IAAMsU,GAAkB9W,QAAH,oTAmBf+W,EAAoB,SAAC,GAQrB,QAPJ5T,EAOI,EAPJA,QACAkH,EAMI,EANJA,QACA0K,EAKI,EALJA,aACAiC,EAII,EAJJA,YACAC,EAGI,EAHJA,mBACA/B,EAEI,EAFJA,gBACAW,EACI,EADJA,kBAEA,GAIIxV,cAASyW,EAAiB,CAC5BI,UAAW,CACT3T,GAAIJ,EAAQgU,UAAU5T,IAExB6T,MAAOrC,KAAgB,UAAC5R,EAAQgU,iBAAT,OAAC,EAAmB5T,MAPrC4T,EADR,EACE5W,KACAC,EAFF,EAEEA,MACAC,EAHF,EAGEA,QAOIgE,EAAQsQ,EAAeoC,SAAH,UAAGA,EAAWA,iBAAd,aAAG,EAAsB1S,MAAQtB,aAAjC,EAAiCA,EAASsB,MAEpE,OACE,kBAAC,aAAD,KACE,kBAAC,EAAAoO,KAAD,KACE,kBAAC,EAAA9Q,YAAD,CAAakG,UAAU,cACrB,kBAAC,EAAAL,KAAD,CAAMvF,UAAWwF,mBACf,0BAAMI,UAAU,cACd,kBAAC,EAAD,CAAqB9E,UAAS0S,uBAEhC,kBAACG,EAAD,CAAoBC,MAAOe,KAE7B,kBAACX,EAAD,CAAsBlT,UAAS0S,wBAGnC,kBAAC,KAAD,CAAoBwB,YAAa,CAAE7W,QAAOC,UAASgE,UACjD,kBAAC,KAAD,CAAe6S,SAAS,WACtB,kBAAC,EAAA5W,QAAD,OAEF,kBAAC,KAAD,CAAe4W,SAAS,SACtB,kBAAC,MAAD,QACEhD,4BAA0B,EAC1BO,qBAAqB,EACrBxK,QAASA,EACTsK,aAAc,CAAC,CAAExR,UAASsB,MAAOA,GAAS,KAC1CuQ,eAAgBiC,EAChBlC,aACEA,GACC,SAACkC,GAAD,OACClC,EAAa5R,EAAS0S,EAAmBoB,KAEzC/B,QAQhB6B,EAAkBvU,UAAY,CAC5BW,QAASX,WACTqT,kBAAmBrT,WACnB6H,QAAS7H,UACTuS,aAAcvS,SACdwU,YAAaxU,WACbyU,mBAAoBzU,UACpB0S,gBAAiB1S,YAGnB,U,olBC3JO,IAAM+U,EAAuB,SAClCC,EACArU,EACA0S,GAHkC,OAKlC2B,EAAcjU,KAAOJ,EAAQI,IAC7BiU,EAAczB,kBACXF,GAAqB1S,EAAQ4S,iBAErB0B,EAA2B,SACtCR,EACA9T,EACA0S,GAEA,IAAM6B,GAAgBT,GAAsB,IAAIzS,MAAK,SAACgT,GAAD,OACnDD,EAAqBC,EAAerU,EAAS0S,MAE/C,OAAO6B,aAAA,EAAAA,EAAcC,aAAc,IAGxBC,EAA+B,SAC1C7W,GAGG,IAFH8W,EAEG,uDAFa,GAChBlN,EACG,uDADO,GAEFmN,EAASnN,EAATmN,KACFC,EAAsBhX,EACzB8C,KAAI,SAACV,GACJ,IAGqB,EAHf6U,EAAiBH,EAAcrT,MAAK,SAACgT,GAAD,OACxCD,EAAqBC,EAAerU,MAEtC,OAAK6U,EAkBMF,EACFE,OADF,GAjBA7U,EAAQsB,OACXwT,QAAQzX,MAAR,kBACa2C,EAAQI,GADrB,qCAKGJ,EAAQ4S,gBACXkC,QAAQzX,MAAR,kBACa2C,EAAQI,GADrB,8CAKK,CACLA,GAAIJ,EAAQI,GACZwS,eAAgB5S,EAAQ4S,eACxB4B,YAAY,UAAAxU,EAAQsB,aAAR,eAAeZ,KAAI,SAACU,GAAD,OAAUA,EAAKjB,WAAU,QAM7DS,QAAO,SAACwK,GAAD,QAASA,KAEnB,OAAOuJ,EACHC,EADO,kBAEHF,IAFG,OAEeE,KAGfG,EAAuB,SAACC,GACnC,IAAMC,EAAa,GAUnB,OATAD,EAAS/S,SAAQ,YAAoC,IAAjCjC,EAAiC,EAAjCA,QAAS0S,EAAwB,EAAxBA,kBAC3B,GAAI1S,WAASI,GAAI,CACf,IAAMwS,EAAiBF,GAAqB1S,EAAQ4S,eACpDqC,EAAWjV,EAAQI,IAAnB,kBACM6U,EAAWjV,EAAQI,KAAO,IADhC,CAEEwS,QAICqC,GAGIC,EAA0B,SAACtX,EAAUqX,GAAX,OACrCrX,EAASgF,SAAQ,SAAC5C,GAAD,OACdiV,EAAWjV,EAAQI,KAAO,MAACwK,IAAYlK,KAAI,SAACkS,GAAD,cACvC5S,GADuC,IAE1C4S,0B,2FCrEAuC,EAAW,SAAC,EAAwBzC,GAAzB,IAAGtS,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,eAAP,sBACNxS,EADM,YACAwS,GAAkBF,IAE7B0C,EAAgB,SAACJ,EAAUK,GAC/B,GAAKL,GAAgC,IAApBA,EAAS7S,OAA1B,CAIA,IAAKkT,EAAY,CACf,IAAMC,EAAWN,EAAS,GAC1BK,EAAa,CACXjV,GAAIkV,EAAStV,QAAQI,GACrBwS,eACE0C,EAAStV,QAAQ4S,gBAAkB0C,EAAS5C,mBAIlD,OAAOyC,EAASE,KAGZE,EAAc,SAAC,GAQf,IAPJP,EAOI,EAPJA,SACAK,EAMI,EANJA,WACAvB,EAKI,EALJA,mBACA0B,EAII,EAJJA,sBACAtO,EAGI,EAHJA,QAGI,IAFJuO,aAEI,MAFI,EAEJ,EADD1D,GACC,YACEH,EAAe,SACnB5R,EACA0S,EACAgD,GAEA,IAAMC,GAAqB7B,GAAsB,IAAIlT,QACnD,SAACyT,GAAD,OACGD,EAAqBC,EAAerU,EAAS0S,MAG5CvI,EAAU,CACd/J,GAAIJ,EAAQI,GACZwS,eAAgBF,GAAqB1S,EAAQ4S,eAC7C4B,WAAYkB,GAEdF,EAAsB,CAACrL,GAAF,eAAcwL,MAGrC,OACE,kBAAC,KAAD,CAAYF,MAAOA,EAAOJ,WAAYD,EAAcJ,EAAUK,IAC3DL,aADH,EACGA,EAAUtU,KAAI,gBAAGV,EAAH,EAAGA,QAAS0S,EAAZ,EAAYA,kBAAmBmB,EAA/B,EAA+BA,YAA/B,OACb,kBAAC,EAAA+B,IAAD,CACE7L,IAAKoL,EAASnV,EAAS0S,GACvByC,SAAUA,EAASnV,EAAS0S,GAC5B3V,MACE,8BACE,0BAAM+H,UAAU,cACd,kBAAC,EAAD,CACE9E,QAASA,EACT0S,kBAAmBA,KAGvB,kBAAC,EAAAK,MAAD,CAAOC,QAAM,GAAEa,KAInB,kBAAC,EAAD,CAEI7T,UACA0S,oBACAxL,UACA6K,kBACA8B,cACAC,mBAAoBQ,EAClBR,EACA9T,EACA0S,GAEFd,aAAc4D,EAAwB5D,OAAehH,UASnE2K,EAAYlW,UAAY,CACtB2V,SAAU3V,YACRA,UAAgB,CACdW,QAASX,sBACTyU,mBAAoBzU,YAAkBA,YACtCqT,kBAAmBrT,WACnBwU,YAAaxU,cAEf8P,WACF2E,mBAAoBzU,YAClBA,UAAgB,CACde,GAAIf,WACJmV,WAAYnV,YAAkBA,eAGlCmW,sBAAuBnW,SACvB6H,QAAS7H,YAAkBA,YAC3BgW,WAAYhW,UAAgB,CAC1Be,GAAIf,WACJuT,eAAgBvT,aAElBoW,MAAOpW,YAGT,W,8tBChHO,IAAMwW,EACX,kQAOIC,EACJ,kBAAC,aAAD,KACE,kBAAC,EAAArR,KAAD,CAAMxF,QAAQ,IAAId,MAAO,CAAEqR,aAAc,SAAzC,iOAMA,kBAAC,EAAA/K,KAAD,CAAMxF,QAAQ,KAAd,0DAME8W,EAAqB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,IAAa/W,eAAb,MAAuB,SAAvB,SACzB,kBAAC,EAAAmU,QAAD,CACEhT,GAAG,sBACH6V,SAAS,QACTC,cAAc,2BACd5C,YACc,WAAZrU,EACI6W,EAvBR,mMA0BEtC,cAAe,kBAAC,KAAD,OAEdwC,IAILD,EAAmB1W,UAAY,CAC7B2W,SAAU3W,SACVJ,QAASI,UAAgB,CAAC,WAAY,YAGxC,IAAM8W,EAAqB,SAAC,GAAD,IAAGH,EAAH,EAAGA,SAAUI,EAAb,EAAaA,QAAb,OACzB,kBAAC,EAAAC,QAAD,CAASD,QAASA,EAAS/C,SAAS,UACjC2C,IAILG,EAAmB9W,UAAY,CAC7B+W,QAAS/W,WACT2W,SAAU3W,UAGZ,IAAMiX,EAAmB,SAAC,GAAwC,IAAtCrX,EAAsC,EAAtCA,QAAS+W,EAA6B,EAA7BA,SAAUO,EAAmB,EAAnBA,aAC7C,EAAsC,CACpCxP,QAAS,CACPyP,UAAWL,EACXM,eAAgBF,GAElBG,QAAS,CACPF,UAAWT,EACXU,eAAgB,CACdE,WAAYJ,EAAaK,gBACzB3X,QAASsX,EAAaM,kBAG1B5X,GAZMuX,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,eAcnB,OAAO,kBAACD,EAAcC,EAAiBT,IAGzCM,EAAiBjX,UAAY,CAC3B2W,SAAU3W,SACVJ,QAASI,UAAgB,CAAC,UAAW,YACrCkX,aAAclX,YAGhB,IAAMyX,EAAwB,SAAC,GAOzB,IANJd,EAMI,EANJA,SAMI,IALJe,uBAKI,aAJJC,oBAII,SAHJ7Y,EAGI,EAHJA,MACA8Y,EAEI,EAFJA,YACAJ,EACI,EADJA,eAOMK,EAAY,CAChBjY,QAFcgY,EAAc,UAAY,UAGxCV,aAPmB,EAAH,KACZU,GAAe,CAAEb,QAAS,6BAAMa,KADpB,IAEhBJ,oBAOIM,EAAgBF,EAAsC,GAAxB,CAAExD,OAAQ,WAE9C,OACE,0BAAMtV,MAAK,OAAOA,GAAP,IAAciZ,QAAS,kBAC/BL,GACC,kBAACT,EAAqBY,EACpB,0BAAM/Y,MAAOgZ,EAAcrS,UAAU,cACnC,kBAAC,KAAD,CAAyBzG,MAAM,2CAKpC2X,EAEAgB,GACC,kBAACV,EAAqBY,EACpB,0BAAM/Y,MAAOgZ,EAAcrS,UAAU,cACnC,kBAAC,KAAD,UAQZgS,EAAsBzX,UAAY,CAChC0X,gBAAiB1X,SACjB2X,aAAc3X,SACdlB,MAAOkB,WACP4X,YAAa5X,WACb2W,SAAU3W,SACVJ,QAASI,WACTwX,eAAgBxX,WAChBuX,gBAAiBvX,UAGnB,W,4cC/GA,QAzB6B,kBAC3B,kBAAC,EAAAsP,MAAD,CACEuD,aAAW,iBACXmF,OAAO,gBACP/O,MAAO,CACL,CAAEvL,MAAO,eACT,CAAEA,MAAO,oBACT,CAAEA,MAAO,WACT,CAAEA,MAAO,uBACT,CAAEA,MAAO,yBAEXoO,MAAM,OAAInK,MAAM,IAAIN,KAAI,iBAAO,CAC7B4H,MAAO,CACL,CACEvL,MAAO,kBAACua,EAAA,EAAD,MACPzN,QAAS,SAKf,kBAAC,EAAA+E,YAAD,MACA,kBAAC,EAAAC,UAAD,Q,sGClBE0I,EAAY,SAAC,GAAwB,IAAtBla,EAAsB,EAAtBA,MAAUwE,GAAY,YACzC,OAAIxE,EAAMma,cAAkD,MAAlCna,EAAMma,aAAaC,YAC3CC,OAAOC,SAASC,OAAOC,KAAKC,QAAO,IAC5B,GAGLza,EAAMma,cAAkD,MAAlCna,EAAMma,aAAaC,WACpC,kBAACM,EAAA,EAAD,CAAeC,YAAY,eAGhC3a,EAAMma,cAAkD,MAAlCna,EAAMma,aAAaC,WACpC,kBAACQ,EAAA,EAAD,MAIP,uCACMpW,EADN,CAEEiD,UAAU,qFAEV,kBAAC,KAAD,CACExG,KAAK,KACLH,MAAO,CAAEE,MAAO,yCAElB,kBAAC,EAAAI,MAAD,CAAOC,aAAa,MAApB,sBACA,kBAAC,EAAA+F,KAAD,mFAGE,kBAAC,EAAAA,KAAD,KAAOpH,EAAMK,UAEf,kBAAC,EAAAsB,OAAD,CACEC,QAAQ,OACRoY,OAAO,wBACPa,QAASC,QAAQC,QAHnB,aAWNb,EAAUlY,UAAY,CACpBhC,MAAOgC,YAGT,UC/CO,IAAMgZ,EAAgB,SAAC,GAAD,IAAGrC,EAAH,EAAGA,SAAH,OAC3B,kBAAC,EAAAvR,KAAD,CACEtG,MAAO,CAAEE,MAAO,gCAChBa,UAAWwF,sBAEVsR,IAILqC,EAAchZ,UAAY,CACxB2W,SAAU3W,UAGZ,U,cCZMiZ,EAAqB,SAAC,GAAuB,IAArBpU,EAAqB,EAArBA,MAAOsD,EAAc,EAAdA,QAC3BlE,EAAmBY,EAAnBZ,KAAMc,EAAaF,EAAbE,SACRmU,EAAarU,EAAMD,MAazB,OACE,kBAAC,aAAD,KACGuD,EAAQ9G,KAAI,WAAmCG,GAAnC,IAAG8D,EAAH,EAAGA,MAAOV,EAAV,EAAUA,MAAOuU,EAAjB,EAAiBA,eAAjB,OACX,kBAAC,EAAAC,SAAD,CACE1O,IAAK9F,EACL7D,GAAI6D,EACJU,MAAOA,EACPrB,KAAI,UAAKA,EAAL,YAAazC,EAAb,KACJoD,MAAOA,EACPyU,UACiB,KAAfH,EAAoBC,EAAiBD,EAAWnM,SAASnI,GAE3DG,SAAU,SAACuU,GAAD,OAvBG,SAACA,EAAS1U,GAC7B,IAAM2U,GAAM,OAAI,IAAI1X,IAAIqX,IAOxB,OANII,EACFC,EAAI1W,KAAK+B,GAET2U,EAAIC,OAAOD,EAAI7X,QAAQkD,GAAQ,GAG1BG,EAASwU,GAeaE,CAAaH,EAAS1U,WAOvDqU,EAAmBjZ,UAAY,CAC7B6E,MAAO7E,UAAgB,CACrBiE,KAAMjE,sBACN+E,SAAU/E,SACV4E,MAAO5E,aAETmI,QAASnI,YACPA,UAAgB,CACdsF,MAAOtF,sBACP4E,MAAO5E,sBACPmZ,eAAgBnZ,YAElB8P,YAQO9P,YACPA,UAAgB,CACdsF,MAAOtF,sBACP4E,MAAO5E,sBACPmZ,eAAgBnZ,YAElB8P,W,eCnDE4J,EAAoB,kBACxB,kBAAC,EAAA1C,QAAD,CACEhD,SAAS,QACT+C,QAAQ,wHAGR,kBAAC,EAAA4C,MAAD,CAAO3a,MAAM,SAASF,MAAO,CAAE8a,WAAY,UAA3C,YAMEC,EAAoB,SAAC,GAAD,IAAGtb,EAAH,EAAGA,SAAUsa,EAAb,EAAaA,QAAb,OACxB,kBAAC,aAAD,KACwB,KAArBta,aAAA,EAAAA,EAAUuE,SACT,kBAAC,EAAAvD,YAAD,CAAaT,MAAO,CAAEE,MAAO,2CAC3B,kBAAC,EAAAoG,KAAD,0DAIJ,kBAAC,EAAAiL,KAAD,CAAMyJ,WAAS,GACZvb,EAAS8C,KAAI,SAACV,GACb,IAAQM,EAAoCN,EAApCM,YAAagD,EAAuBtD,EAAvBsD,KAAMlD,EAAiBJ,EAAjBI,GAAIgZ,EAAapZ,EAAboZ,SAC/B,OACE,kBAAC,aAAD,CAAgBrP,IAAG,yBAAoB3J,IACrC,kBAAC,EAAAuP,SAAD,CAAUC,KAAM,EAAGyJ,QAAS,GAC1B,kBAAC,EAAAza,YAAD,CACET,MAAO,CACL8a,WAAY,MACZ5a,MAAO+a,EACH,yCACA,KAGN,kBAAC,EAAA3U,KAAD,KACE,kBAAC6U,EAAA,EAAD,CACEpa,UAAU,QACV0R,KAAK,QACLtN,KAAK,UACLW,MAAOsV,KAAKC,UAAUxZ,GACtBkY,QAAS,kBAAMA,EAAQqB,KAAKC,UAAUxZ,KACtCoZ,SAAUA,IAPd,WASO9V,EATP,KAUG8V,GAAY,kBAACL,EAAD,QAGjB,kBAAC,EAAAna,YAAD,CACET,MAAO,CAAEE,MAAO,2CAEhB,kBAAC,EAAAoG,KAAD,CAAMvF,UAAWwF,kBACf,kBAAC+U,EAAA,EAAD,CAAU1P,IAAG,8BAAyB3J,GAAMsZ,MAAO,GAChDpZ,aAYrB4Y,EAAkB7Z,UAAY,CAC5BzB,SAAUyB,UACV6Y,QAAS7Y,UAGX6Z,EAAkB5Z,aAAe,CAC/B1B,SAAU,GACVsa,QAAS,iBAAO,KAGlB,U,qCC/EMyB,EAAgB,SAAC1Z,GACrB,OAAIA,EAAO2Z,YAAc3Z,EAAO4Z,cAAgB,EACvC,kBAAC,KAAD,CAAoBxb,MAAM,0CAE1B4B,EAAO0B,UACZ,kBAAC,KAAD,CAAiBtD,MAAM,yCAEvB,kBAAC,KAAD,CAAuBA,MAAM,yCAKtByb,EAAwB,SAAC7Z,GACpC,OAAyB,IAArBA,EAAOyB,UACF,eACEzB,EAAO2Z,YAAc3Z,EAAO4Z,cAAgB,EAC9C,OAGF,KAAME,QAAgB9Z,EAAO+Z,QAwBtC,QArBwB,SAAC/Z,GAAD,OACtB,kBAAC,EAAAwE,KAAD,KACGxE,EAAOyB,UACN,kBAAC,EAAA2U,QAAD,CACED,QACE,6HAIF,kBAACuD,GAAD,QACE5P,IAAG,iCAA4B9J,EAAOG,KAClCH,IAEL6Z,EAAsB7Z,IAGzB6Z,EAAsB7Z,K,eClB5B,QA1BmC,kBACjC,kBAAC,KAAD,CACEga,MAAO,EACPhV,MAAO,IACPC,OAAQ,IACRC,QAAQ,eACR+U,gBAAgB,UAChBC,gBAAgB,WAEhB,0BAAMC,EAAE,KAAKC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACpD,0BAAMkV,EAAE,MAAMC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACpD,0BAAMkV,EAAE,MAAMC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACpD,0BAAMkV,EAAE,IAAIC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACnD,0BAAMkV,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACpD,0BAAMkV,EAAE,MAAMC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACrD,0BAAMkV,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACrD,0BAAMkV,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACpD,0BAAMkV,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACrD,0BAAMkV,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACtD,0BAAMkV,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACtD,0BAAMkV,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACrD,0BAAMkV,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACtD,0BAAMkV,EAAE,KAAKC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,SCK1D,EA3BmC,kBACjC,kBAAC,KAAD,CACEA,OAAQ,IACRD,MAAO,KACPgV,MAAO,EACPO,aAAa,UACbC,eAAe,WAEf,0BAAML,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,OACrD,0BAAMkV,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACrD,4BAAQwV,GAAG,MAAMC,GAAG,MAAMC,EAAE,OAC5B,0BAAMR,EAAE,OAAOC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,OACtD,0BAAMkV,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,IAAIC,OAAO,MACnD,0BAAMkV,EAAE,KAAKC,EAAE,KAAKC,GAAG,IAAIC,GAAG,IAAItV,MAAM,KAAKC,OAAO,MACpD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,IAAIC,OAAO,MACrD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,MACvD,0BAAMkV,EAAE,MAAMC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAItV,MAAM,MAAMC,OAAO,Q,mCCRrD2V,EAA2B,SAAC,GAAD,IAAGxJ,EAAH,EAAGA,OAAH,OAC/B,kBAAC,EAAAyJ,KAAD,CAAMzD,OAAO,qBACX,kBAAC,EAAA0D,WAAD,KACE,kBAAC,EAAAtW,KAAD,CAAMtG,MAAO,CAAEuV,SAAU,KACvB,+CAGJ,kBAAC,EAAAsH,SAAD,KACE,kBAAC,EAAApc,YAAD,KACE,kBAAC,EAAA6F,KAAD,CAAMvF,UAAWwF,mBAAjB,uBAEE,kBAAC,GAAD,OAEF,kBAAC,EAAAD,KAAD,CAAMK,UAAU,oBAAoB5F,UAAWwF,mBAC5CqV,QAAgB1I,EAAO4J,oBAAqB,IAE/C,kBAAC,EAAAxW,KAAD,CAAMvF,UAAWwF,mBAAjB,qBAEE,kBAAC,GAAD,OAEF,kBAAC,EAAAD,KAAD,CAAMvF,UAAWwF,kBACb2M,EAAO6J,mBAAqB7J,EAAO6J,kBAAkBne,OAAU,KAEnE,kBAAC,EAAA0H,KAAD,CAAMvF,UAAWwF,mBAAjB,sBACA,kBAAC,EAAAD,KAAD,CAAMvF,UAAWwF,kBACf,kBAAC,IAAD,CACEyW,KAAMC,IAAY/J,EAAO/Q,aAAe,IACxC6B,OAAQ,IACRkZ,QAAQ,KAGZ,kBAAC,EAAA5W,KAAD,CAAMvF,UAAWwF,mBAAjB,oBACA,kBAAC,EAAAD,KAAD,CAAMvF,UAAWwF,kBAAjB,QAAuC2M,EAAOnR,gBAC9C,kBAAC,EAAAuE,KAAD,CAAMvF,UAAWwF,mBAAjB,gBACA,kBAAC,EAAAD,KAAD,CAAMvF,UAAWwF,kBAAiB2M,EAAOiK,YACzC,kBAAC,EAAA7W,KAAD,CAAMvF,UAAWwF,mBAAjB,gBACA,kBAAC,EAAAD,KAAD,CAAMvF,UAAWwF,kBAAiB2M,EAAOlR,WAMjD0a,EAAyBxb,UAAY,CACnCgS,OAAQhS,YAGV,U,2CCnDMkc,EAAY,CAChBvF,SAAU3W,UAGNmc,EAAK,SAAC,GAAD,IAAGxF,EAAH,EAAGA,SAAanU,GAAhB,mBACT,kBAAC,EAAA4Z,cAAD,UAAkB5Z,EAAlB,CAAyB3C,UAAWwc,4BACjC1F,IAGLwF,EAAGnc,UAAYkc,EAEf,IAAMI,EAAK,SAAC,GAAD,IAAG3F,EAAH,EAAGA,SAAanU,GAAhB,mBACT,kBAAC,EAAA4Z,cAAD,UAAkB5Z,EAAlB,CAAyB3C,UAAWwc,4BACjC1F,IAGL2F,EAAGtc,UAAYkc,EAEf,IAAMK,EAAoB,SAAC,GAAD,IAAG5b,EAAH,EAAGA,QAAH,OACxB,kBAAC,aAAD,KACE,kBAAC,EAAA6b,SAAD,CAAU3c,UAAW4c,uBACnB,kBAACN,EAAD,KACE,kBAAC,EAAA/W,KAAD,CAAMK,UAAU,qBAAhB,mBAEF,kBAAC0W,EAAD,yBACA,kBAACG,EAAD,aAAU3b,EAAQE,gBAClB,kBAACsb,EAAD,6BACA,kBAACG,EAAD,MAAK5B,QAAgB/Z,EAAQib,oBAAqB,IAClD,kBAACO,EAAD,2BACA,kBAACG,EAAD,KACG3b,EAAQkb,kBAAoBlb,EAAQkb,kBAAkBne,MAAQ,OAGnE,kBAAC,EAAAgf,KAAD,CAAMC,GAAI,iBAAmBhc,EAAQqR,OAAOjR,IAA5C,iBAIJwb,EAAkBvc,UAAY,CAC5BW,QAASX,UAAgB,CACvBe,GAAIf,WACJ4b,oBAAqB5b,WACrB6b,kBAAmB7b,WACnBa,eAAgBb,WAChBgS,OAAQhS,UAAgB,CACtBe,GAAIf,aAEN2U,UAAW3U,UAAgB,CACzB4c,QAAS5c,gBAKf,IAAM6c,EAA2B,SAAC,GAAD,IAAGlc,EAAH,EAAGA,QAAH,OAC/B,kBAAC,EAAApB,YAAD,CAAakG,UAAU,kBACrB,kBAAC8W,EAAD,CAAyB5b,cAI7Bkc,EAAyB7c,UAAY,CACnCW,QAASX,YAGX,U,eCpEM8c,EAAc,SAAC,GAAwB,IACvCld,EACAlC,EAFiBqf,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OAe9B,OAXgB,MAAZD,GACFrf,EAAQ,UACRkC,EAAUqd,2BACDD,GACTtf,EAAQ,QACRkC,EAAUqd,2BAEVvf,EAAQ,WACRkC,EAAUqd,wBAIV,kBAACC,WAAD,CACEnc,GAAI,yBACJ6D,MAAOmY,EACPrf,MAAOA,EACPkC,QAASA,EACT6F,UAAU,yBAKhBqX,EAAY9c,UAAY,CACtB+c,QAAS/c,WACTgd,OAAQhd,UAGV,U,qDChCamd,GAAa,SAAC,GAAD,SAAGxG,UAEvByG,GAAkB,SAACC,EAAejH,GACtC,IACMkH,GADSC,SAAUF,GACHrc,MAAM,KAG5B,MAAO,CACLsc,SACAE,cAJoBF,EAAOlH,IAAUiH,IAc5Brd,WACDA,SAGL,IAAMyd,GAAoB,SAAC,GAAoC,IAAlC9G,EAAkC,EAAlCA,SAAUX,EAAwB,EAAxBA,WAAYI,EAAY,EAAZA,MAChDoH,EAAkBJ,GAAgBpH,EAAYI,GAA9CoH,cAER,OAAO7G,EACJtV,KAAI,SAACqc,GAAD,OAAUA,EAAIlb,MAAMsT,WAAa0H,EAAgBE,OAAMnS,KAC3DhK,QAAO,SAACqR,GAAD,QAASA,MAGrB6K,GAAkBzd,UAAY,CAC5B2W,SAAU3W,SACVgW,WAAYhW,WACZoW,MAAOpW,YAGTyd,GAAkBxd,aAAe,CAC/BmW,MAAO,GAGF,IAAMuH,GAAa,SAAC,GAA8C,IAA5ChH,EAA4C,EAA5CA,SAAUX,EAAkC,EAAlCA,WAAYI,EAAsB,EAAtBA,MAAU5T,GAAY,aAC/DK,GAAS+a,kBAAT/a,KACR,GAA4Bgb,mBAApBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,MAClB,EAAkCX,GAAgBpH,EAAYI,GAAtDoH,EAAR,EAAQA,cAAeF,EAAvB,EAAuBA,OAcvB,OACE,kBAAC,EAAAU,MAAD,UAAUxb,EAAV,CAAiB4F,SAdK,SAAC6V,EAAGnI,GAC1BmI,EAAEC,iBACF,IAAMC,EAAgBrI,EAASsI,QAAQ,IAAK,IACxCC,EAAYf,EAChBe,EAAUjI,GAAS+H,EAEnBtb,EAAK,CACHkb,QACApB,GAAImB,EACJQ,KAAMD,EAAUtU,MAAM,EAAGqM,EAAQ,GAAGmI,KAAK,QAKCC,UAAWhB,IACpD7G,IAKPgH,GAAW1d,aAAe,CACxBmW,MAAO,GAGTuH,GAAW3d,UAAY,CACrB2W,SAAU3W,SACVgW,WAAYhW,WACZoW,MAAOpW,YC1EF,IAAMye,GAAgB,SAAC,GAAD,SAAG9H,UAE1BnU,GAAQ,CACZqS,YAAa7U,WACb2W,SAAU3W,UAGC0e,GAAY,SAAC,GAAD,IAAG7J,EAAH,EAAGA,YAAH,SAAgB8B,SAEpCpT,SAAQ,SAACqP,GAAD,OAAOA,KACfrR,QAAO,SAACod,GAAD,OAAW9J,EAAY8J,EAAMnc,MAAMsS,cAE/C4J,GAAU1e,UAAYwC,GAEf,IAAMoc,GAAqB,SAAC,GAAD,IAAG/J,EAAH,EAAGA,YAAa8B,EAAhB,EAAgBA,SAAhB,OAChC,kBAAC+H,GAAD,CAAW7J,YAAaA,GACtB,kBAAC4J,GAAD,CAAe/T,IAAI,cAAcoK,SAAS,SACxC,kBAAC,EAAD,CAAW9W,MAAO6W,EAAY7W,SAE/B2Y,IAILiI,GAAmB5e,UAAYwC,GCtB/B,IAAMqc,GAAe,kDAEfC,GAAsB,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAapI,EAAhB,EAAgBA,SAAhB,OAC1BoI,EACE,kBAAC,EAAA/H,QAAD,CAAShD,SAAUgL,yBAAwBjI,QAAS8H,IACjDlI,GAGHA,GAGJmI,GAAoB9e,UAAY,CAC9B+e,YAAa/e,SACb2W,SAAU3W,UAGZ,IAAMif,GAAsB,SAAC,GAAuB,IAC9CnD,EADyBrI,EAAqB,EAArBA,MAAO7T,EAAc,EAAdA,QAGpC,OAAQA,GACN,IAAK,QACHkc,EAAOrI,EACP,MACF,IAAK,UACHqI,EAAO,aACP,MACF,IAAK,OACHA,EAAO+C,GACP,MACF,QACE/C,EAAOrI,EAGX,OACE,kBAACqL,GAAD,CACEC,YAAyB,UAAZnf,GAAmC,YAAZA,GAEpC,kBAAC,GAAD,KAAckc,KAKpBmD,GAAoBhf,aAAe,CACjCL,QAAS,WAGXqf,GAAoBjf,UAAY,CAC9ByT,MAAOzT,sBACPJ,QAASI,YAIX,Y,gBCpDMkf,GAAc,SAAC,GAAD,IAAGvI,EAAH,EAAGA,SAAH,OAClB,kBAAC,aAAD,KACE,kBAAC,MAAD,CAAyBlR,UAAU,kBACnC,kBAAC,EAAAL,KAAD,CAAMvF,UAAU,OAAO4F,UAAU,sBAAjC,IACSkR,KAKbuI,GAAYlf,UAAY,CACtB2W,SAAU3W,UAGZ,Y,mpBCdA,IAAMmf,GAAiB,SAAC,GAOlB,IANJxC,EAMI,EANJA,GACA2B,EAKI,EALJA,KACA3H,EAII,EAJJA,SACOyI,EAGH,EAHJrB,MACAsB,EAEI,EAFJA,mBACG7c,GACC,aAEE8c,EAAa,GAAH,OADQzB,oBACoBwB,GACtCtB,EAAQ,GAAH,MAAQqB,GAAR,IAAsBE,eAEjC,OACE,kBAAC,EAAA5C,MAAD,QAAMC,GAAI,CAAEmB,SAAUnB,EAAIoB,QAAOO,SAAY9b,GAC1CmU,IAKPwI,GAAenf,UAAY,CACzBqf,mBAAoBrf,WACpB2W,SAAU3W,SACVse,KAAMte,WACN+d,MAAO/d,WACP2c,GAAI3c,uBAGN,Y,gCC1BMuf,GAAa,SAAC,GAAD,IAAG/f,EAAH,EAAGA,KAASgD,GAAZ,oBACjB,kBAAC,QAAD,UAAqBA,EAArB,CAA4Bma,GAAInd,MAGlC+f,GAAWvf,UAAY,CACrBR,KAAMQ,YAGR,IAAMwf,GAAqB,SAAC,GAAD,IAAG7I,EAAH,EAAGA,SAAanU,GAAhB,oBACzB,kBAAC,EAAAid,gBAAD,UAAoBjd,EAApB,CAA2B3C,UAAW0f,KACnC5I,IAIL6I,GAAmBxf,UAAY,CAC7B2W,SAAU3W,UAGZ,Y,oDCbO,IAAM8G,GAAO,SAACnG,GAAD,aAClB,kBAAC,EAAApB,YAAD,KACE,kBAAC,EAAAmd,KAAD,CAAMC,GAAI,YAAchc,EAAQI,GAAIjC,MAAO,CAAE4gB,YAAa,UAA1D,UACG/e,EAAQqR,cADX,aACG,EAAgB/N,MAEnB,kBAAC,aAAD,KACE,kBAAC,GAAD,CAAqBtD,UAASqT,SAAU,UACxC,kBAAC,EAAD,KAAgBrT,EAAQsb,eAK9BnV,GAAK9G,UAAY,CACfW,QAASX,YAGJ,IAAM2f,GAAkB,SAAC,GAK1B,IAJJ9e,EAII,EAJJA,eACAiT,EAGI,EAHJA,WACA8L,EAEI,EAFJA,qBACA5N,EACI,EADJA,OAEM3P,EAAqC,IAAzBud,EAGlB,OAFA9L,EAAa,QAAUA,EAGrB,kBAAC,aAAD,aACQjT,EACM,OAAXmR,GAAmB8B,GAClB,kBAAC,EAAA1O,KAAD,KACE,kBAAC,EAAD,KACG/C,EACCyR,EAEA,kBAAC2D,GAAA,EAAD,KAAwB3D,OAStC6L,GAAgB3f,UAAY,CAC1Ba,eAAgBb,WAChB8T,WAAY9T,WACZ4f,qBAAsB5f,WACtBgS,OAAQhS,YAGH,IAAM6f,GAAmB,SAAC,GAI3B,QAHJC,2BAGI,MAHkB,EAGlB,MAFJC,0BAEI,MAFiB,EAEjB,MADJH,4BACI,MADmB,EACnB,EAIJ,OACE,kBAAC,aAAD,KACE,kBAAC,EAAA1C,SAAD,CACE8C,gBAAiB,UACjBpb,MACEkb,EACK,IAAMA,EAAuBC,EAC9B,IAGR,kBAAC,EAAD,eACMA,EADN,eAC+BD,EAD/B,aAGGF,EAAuB,GACtB,kBAACnI,GAAA,EAAD,CACQG,YAjBd,sLAkBQ9Y,MAAO,CAAEmhB,WAAY,SAErB,4BAAQxa,UAAU,sBACfma,EADH,oBAUZC,GAAiB7f,UAAY,CAC3B8f,oBAAqB9f,WACrB+f,mBAAoB/f,WACpB4f,qBAAsB5f,Y,gBCjGXkgB,GAAmB,CAC9B,CACE3O,KAAMC,WACNlM,MAAO,cACP/D,OAAQ,SAAChD,EAAUqG,GACjB,IAAMub,EAAiBvb,EAAM+B,cAC7B,OAAOpI,EAASgD,QAAO,SAACZ,GAAD,MACrB,CAACA,EAAQsD,KAAMtD,EAAQqR,OAAO/N,MAC3Bsa,OACA5X,cACAoG,SAASoT,SAMPC,GAAmB,SAACC,GAAD,MAAiB,CAC/C,CACE9O,KAAMC,eACNlM,MAAO,cACP/D,OAAQ,SAAChD,EAAU2S,GAAX,OACN3S,EAASgD,QAAO,gBAAG0a,EAAH,EAAGA,WAAH,OAAoB/K,EAAOnE,SAASkP,OACtDpT,MAAOwX,EAAYhf,KAAI,SAAC4a,GAAD,MAAiB,CACtC3W,MAAO2W,EACPrX,MAAOqX,SAKAqE,GAAwB,SAACC,GAAD,MAAsB,CACzD,CACEhP,KAAMC,eACNlM,MAAO,mBACP/D,OAAQ,SAAChD,EAAU2S,GAAX,OACN3S,EAASgD,QAAO,gBAAGV,EAAH,EAAGA,eAAH,OAAwBqQ,EAAOnE,SAASlM,OAC1DgI,MAAO0X,EAAiBlf,KAAI,SAACmf,GAAD,MAAsB,CAChDlb,MAAO,QAAF,OAAUkb,GACf5b,MAAO4b,SAKAC,GAAyB,CACpC,CACElP,KAAMC,eACNlM,MAAO,6BACP/D,OAAQ,SAAChD,EAAU2S,GAAX,OACN3S,EAASgD,QAAO,YAAiD,IAA9Cue,EAA8C,EAA9CA,oBAAqBC,EAAyB,EAAzBA,mBAChCW,EAAwBC,KAAKC,MAChC,IAAMd,EAAuBC,GAQhC,OANiB7O,EACd7P,KAAI,SAACuD,GACJ,MAAmBA,EAAM5D,MAAM,KAA/B,gBAAO6f,EAAP,KAAYC,EAAZ,KACA,OAAOJ,GAAyBG,GAAOH,GAAyBI,KAEjEvf,QAAO,SAACwf,GAAD,QAASA,KACHje,OAAS,MAE7B+F,MAAO,CACL,CAAEvD,MAAO,YAAaV,MAAO,UAC7B,CAAEU,MAAO,WAAYV,MAAO,SAC5B,CAAEU,MAAO,WAAYV,MAAO,SAC5B,CAAEU,MAAO,gBAAiBV,MAAO,WC3CjCoc,GAAe,SAAC,GAAiB,IAAfziB,EAAe,EAAfA,SAChBsJ,EAAU,CACd,CACEnK,MAAO,SACP0J,WAAY,CAACa,YACb4H,eAAgB,OAChBrN,MAAO,CACLoD,MAAO,KAGX,CACElI,MAAO,mBACP0J,WAAY,CAACa,WAAUZ,cACvBwI,eAAgB,iBAChBrN,MAAO,CACLoD,MAAO,KAGX,CACElI,MAAO,6BACP0J,WAAY,CAACa,WAAUZ,cACvBH,eAAgB,mBACb,IADa,EAAG4Y,oBAAH,EAAwBC,oBAExCvd,MAAO,CACLoD,MAAO,MAIPya,GAAcrY,SAClBzJ,EAAS8C,KAAI,qBAAG4a,cAA6B1a,QAAO,SAACwf,GAAD,QAASA,MAEzDR,GAAmBvY,SACvBzJ,EAAS8C,KAAI,qBAAGR,kBAAqCU,QAAO,SAACwf,GAAD,QAASA,MAEvE,GAAoD5S,QAAgB,CAClET,QAAS,CACPoF,aAAc,GAAF,eACPoN,KADO,OAELG,EAAYvd,OAAS,GAAKsd,GAAiBC,IAAiB,KAFvD,OAGLE,EAAiBzd,OAAS,GAC7Bwd,GAAsBC,IACtB,KALQ,OAMPE,QARaQ,EAAtB,EAAQ/W,aAcR,ECnEmB,SAACgX,EAAOrZ,GAC3B,OAA4BS,cAAS,CACnC9G,MAAO,EACP+G,UAAW,SAFb,gBAAOC,EAAP,KAAeC,EAAf,KAIMX,EAASD,EAAQW,EAAOhH,OAO9B,MAAO,CACL2f,UAAW,CACTzY,OARW,SAACC,EAAGnH,EAAO+G,GAAX,OACbE,EAAU,CACRjH,QACA+G,eAMAC,UAEF4Y,QAAQrY,UACNjB,aAAA,EAAAA,EAAQ+H,kBAAkB/H,aAA1B,EAA0BA,EAAQZ,gBAClCga,EACA1Y,EAAOD,YD+CmCwF,EAFrBxM,EAZzB,EAAyCA,QAYThD,GAI9BsJ,GAFMsZ,EAAR,EAAQA,UAAmBE,EAA3B,EAAmBD,OAIbtV,EACJuV,EAAeve,OAAS,EACpBue,EAAehgB,KAAI,SAACV,GAAD,MAAc,CAC/BsI,MAAO,CACL,CAAEvL,MAAO,kBAACoJ,GAASnG,IACnB,CAAEjD,MAAO,kBAACiiB,GAAoBhf,IAC9B,CAAEjD,MAAO,kBAACmiB,GAAqBlf,SAGnC4J,GAEN,OACE,kBAAC,aAAD,KACE,kBAAC8E,GAAA,EAAmB4R,GACpB,kBAAC,EAAA3R,OAAD,QACEuD,aAAW,UACXmF,OAAO,eACP/O,MAAOpB,EACPiE,KAAMA,GACFqV,GAEJ,kBAAC,EAAA5R,YAAD,MACA,kBAAC,EAAAC,UAAD,SAMRwR,GAAahhB,UAAY,CACvBzB,SAAUyB,WAGZ,Y,gBExFA,SAb0B,kBACxB,kBAACvC,GAAA,EAAD,CACEC,MAAO,4BACPC,WACE,kBAAC,GAAD,CAAgBgf,GAAG,qBACjB,kBAAC,EAAAhd,OAAD,CAAQC,QAAQ,UAAUoY,OAAO,yBAAjC,yB,gBCOFsJ,GAAgB,SAAC,GAAkC,IAAhC3gB,EAAgC,EAAhCA,QAAgC,IAAvBqT,gBAAuB,MAAZ,MAAY,EAErDhC,EAKErR,EALFqR,OACAiK,EAIEtb,EAJFsb,WACAL,EAGEjb,EAHFib,oBACA/a,EAEEF,EAFFE,eACAgb,EACElb,EADFkb,kBAEF,OACE,kBAAC,EAAA9H,QAAD,CACQC,WACN6C,cACE,kBAAC,EAAAtX,YAAD,KACGyS,aADH,EACGA,EAAQ/N,KACT,kBAAC,EAAAmB,KAAD,CAAMvF,UAAWwF,sBAAqB4W,IAG1C9H,cACE,kBAAC,EAAAuI,KAAD,CAAMC,GAAI,kBAAmB3K,aAAnB,EAAmBA,EAAQjR,KAArC,eAEFkT,YACE,kBAAC,EAAA1U,YAAD,CAAakG,UAAU,kBACrB,kBAAC,EAAA+W,SAAD,CAAU3c,UAAW4c,uBACnB,kBAAC,EAAAL,aAAD,CAAcvc,UAAWwc,2BAAzB,oBAGA,kBAAC,EAAAD,aAAD,CAAcvc,UAAWwc,2BAAzB,QACQxb,GAER,kBAAC,EAAAub,aAAD,CAAcvc,UAAWwc,2BAAzB,wBAGA,kBAAC,EAAAD,aAAD,CAAcvc,UAAWwc,4BACtB3B,QAAgBkB,EAAqB,IAEvCC,GACC,kBAAC,aAAD,KACE,kBAAC,EAAAO,aAAD,CAAcvc,UAAWwc,2BAAzB,sBAGA,kBAAC,EAAAD,aAAD,CAAcvc,UAAWwc,2BACtBR,EAAkBne,WAQ/B,kBAAC,EAAAiC,OAAD,CAAQC,QAAQ,OAAOoY,OAAO,wBAAwBuJ,UAAQ,GAC5D,kBAAC,MAAD,CAA4B9b,UAAU,iBAM9C6b,GAActhB,UAAY,CACxBW,QAASX,WACTgU,SAAUhU,YAGZ,YCzDA,GAjB+B,kBAC7B,kBAAC,EAAAgX,QAAD,CACEhD,SAAS,QACT+C,QACE,kBAAC,EAAAyK,SAAD,mIAMF,kCAEE,kBAAC,MAAD,CAA4B/b,UAAU,iBCK5C,GAjBuC,kBACrC,kBAAC,EAAAuR,QAAD,CACEhD,SAAS,QACT+C,QACE,kBAAC,EAAAyK,SAAD,wHAMF,kCAEE,kBAAC,MAAD,CAA4B/b,UAAU,iB,gBCNtC0E,GAAiB,kBACrB,kBAACE,GAAA,EAAD,KACE,kBAAC,EAAA1L,SAAD,KACE,kBAAC,EAAAC,WAAD,CAAYgB,QAAS0K,0BACnB,kBAAC,EAAAlL,MAAD,CAAOC,aAAa,KAAKJ,KAAK,MAA9B,8BAGA,kBAAC,EAAAK,eAAD,kDAC4C,6BAD5C,2CASKiL,GAAY,CACvB,CACEtB,MAAO,CACL,CACMvL,MAAO,kBAAO,kBAACyM,GAAD,OAClB3H,MAAO,CACLgI,QAAS,O,wqBCLZ,IAAMiX,GAAiB,SAAC,GAAD,IAAG9gB,EAAH,EAAGA,QAAH,OAC5B,kBAAC,EAAApB,YAAD,KACE,kBAAC,EAAAmd,KAAD,CAAMC,GAAI,iBAAmBhc,EAAQI,IAAKJ,EAAQqR,OAAO/N,MACzD,kBAAC,EAAD,KAAgBtD,EAAQsb,cAI5BwF,GAAezhB,UAAY,CACzBW,QAASX,YAGX,IAsBa0hB,GAAuB,CAClC,CACEnQ,KAAMC,WACNlM,MAAO,OACP/D,OAAQ,SAACsQ,EAAUjN,GAAX,OACNiN,EAAStQ,QAAO,SAACyQ,GAAD,OAAYA,EAAO/N,KAAK8I,SAASnI,SAI1C+c,GAAb,8B,IAAA,G,EAAA,E,maAAA,iMACwB,IAAIC,KAAoBF,MADhD,kCAEgB,EAAKG,oBAAoBC,mBAFzC,oCAGkB,EAAKD,oBAAoBE,qBAH3C,8BAIY,CACR,CAAErkB,MAAO,QACT,CAAEA,MAAO,oBACT,CAAEA,MAAO,WACT,CAAEA,MAAO,qBAAsB0J,WAAY,CAACC,eAC5C,CAAE3J,MAAO,uBAAwB0J,WAAY,CAACC,kBATlD,4BAWU,CACNgC,KAAM,EACN2Y,aAAc,GACdhP,cAAe,MAdnB,+BAiBY,SAAC/F,EAAQ5D,GAAT,OAAkB,EAAK4Y,WAAW5Y,EAAM,EAAK0U,MAAMiE,kBAjB/D,kCAmBe,SAAC/U,EAAQ+U,GAAT,OAA0B,EAAKC,WAAW,EAAGD,OAnB5D,kCAqBe,SAAC3Y,EAAM2Y,GAAP,OACX,EAAKE,SAAS,CACZ7Y,OACA2Y,qBAxBN,yCA2BsB,SAACnQ,GAAD,OAClBA,EAAS9H,OACN,EAAKgU,MAAM1U,KAAO,GAAK,EAAK0U,MAAMiE,aACnC,EAAKjE,MAAM1U,KAAO,EAAK0U,MAAMiE,kBA9BnC,wCAiCqB,kBACjB,EAAKH,oBAAoBM,yBACvB,EAAK3f,MAAMqP,SACX,EAAKkM,MAAM/K,mBApCjB,sCAuCmB,SAACzR,EAAQqD,GACxB,EAAKsd,SAAS,CACZ7Y,KAAM,EACN2J,cAAe,SACV,EAAK+K,MAAM/K,eADH,eAEVzR,EAASqD,UA5ClB,oCAiDiB,SAACwd,GACd,IAAMpP,EAAgB,EAAK6O,oBAAoBQ,qBAC7CD,EACA,EAAKrE,MAAM/K,eAEb,EAAKkP,SAAS,CACZlP,sBAvDN,sCA2DmB,kBACf,EAAKkP,SAAS,CACZlP,cAAe,EAAK6O,oBAAoBS,4BA7D9C,sCAgEmB,SAACrV,EAAQmV,GAAT,IAAgBG,EAAhB,+DACfA,EAAW,EAAKC,iBAAmB,EAAKC,aAAaL,EAAM,QAjE/D,sCAmEmB,iBAAM,CACrB,CACE1kB,MAAO,gBACPmb,QAAS,SAAC5L,EAAQC,EAAT,GAAkC,IAAfwV,EAAe,EAAfA,SACpB1Q,EAAS,EAAKxP,MAAMqP,SAAS7P,MACjC,SAACgQ,GAAD,OAAYA,EAAOjR,KAAO2hB,KAE5B,EAAKlgB,MAAMsW,QAAQjW,KAAnB,wBAAyC6f,EAAzC,WAA4D,CAC1D1Q,SACAsN,WAAY,EAAK9c,MAAMmgB,aAI7B,CACEjlB,MAAO,cACPmb,QAAS,SAAC5L,EAAQC,EAAT,GAAkC,IAAfwV,EAAe,EAAfA,SACpB1Q,EAAS,EAAKxP,MAAMqP,SAAS7P,MACjC,SAACgQ,GAAD,OAAYA,EAAOjR,KAAO2hB,KAE5B,EAAKlgB,MAAMsW,QAAQjW,KAAnB,wBAAyC6f,EAAzC,SAA0D,CACxD1Q,SACAsN,WAAY,EAAK9c,MAAMmgB,SACvB5E,MAAO,CAAE/L,kBAzFnB,wCA+FE,WACE,MAA+BtO,KAAKqa,MAA5B1U,EAAR,EAAQA,KAAM2Y,EAAd,EAAcA,aACRnQ,EAAWnO,KAAKkf,mBAChBC,EAAcnf,KAAKof,YAAYC,SAASrf,KAAKqa,MAAM/K,eACnDlH,EAlIa,SAAC+F,GAAD,OACrBA,EAASxQ,KAAI,SAAC2Q,GAAD,MAAa,CACxB0Q,SAAU1Q,EAAOjR,GACjBkI,MAAO,CACL,CAAEvL,MAAO,kBAAC+jB,GAAD,CAAgB9gB,QAASqR,KAClC,CAAEtU,MAAO,QAAF,OAAUsU,EAAOnR,iBACxB,CACEnD,MACEsU,EAAOgR,eAAiB,EACtBhR,EAAOgR,eAEP,kBAAC,GAAD,CACEvP,MAAOzB,EAAOgR,eACdpjB,QAAQ,WAIfoS,EAAO6J,mBAAqB7J,EAAO6J,kBAAkBne,OAAU,KAd3D,UAeFsU,EAAO4J,oBAfL,UA+HMqH,CAAevf,KAAKwf,kBAAkBrR,IAC7CiB,EAAepP,KAAKme,oBAAoBsB,mBAC5Czf,KAAK0f,eACL1f,KAAKqa,MAAM/K,cACX,CAAEqQ,WAAW,IAETja,EAAa,CACjBC,OACA2C,UAAW6F,EAAS/O,OACpBwgB,cAAe,OACf5Z,UAAWhG,KAAKsG,QAChBL,gBAAiBjG,KAAK6f,WACtBra,QAAS8Y,GAGX,OACE,kBAAC,aAAD,KACE,kBAAC3S,GAAA,EAAD,CACEyD,aAAcA,EACd0Q,oBAAqB,CACnB9V,QAASmV,EACTY,SAAU/f,KAAKggB,gBAEjBta,WAAU,SACLA,GADK,IAERka,cAAe,OACftL,OAAQ,+BAGV,kBAAC,EAAA2L,YAAD,KACE,kBAAC,GAAD,CAAgBhH,GAAG,qBACjB,kBAAC,EAAAhd,OAAD,CAAQC,QAAQ,UAAUoY,OAAO,yBAAjC,uBAKJ,kBAAC,EAAA2L,YAAD,KAAc9R,EAAS/O,OAAvB,aAEF,kBAAC,EAAAwM,MAAD,CACEuD,aAAW,WACXmF,OAAO,gBACPvS,UAAU,4BACVwD,MAAOvF,KAAKmE,QACZ+b,eAAgB9X,EAAKhJ,OAAS,GAAKY,KAAKkgB,eACxC9X,KAAsB,IAAhBA,EAAKhJ,OAAeyH,GAAYuB,GAEtC,kBAAC,EAAAyD,YAAD,MACA,kBAAC,EAAAC,UAAD,OAEF,kBAACC,GAAA,EAAD,CAAcC,UAAQ,EAACjK,UAAU,mCAC/B,kBAAC,EAAAkK,YAAD,UACMvG,EADN,CAEEka,cAAc,KACdtL,OAAO,qBACPpY,QAASgQ,oCAzJrB,GAAmC5L,eAiKnC2d,GAAc3hB,UAAY,CACxB6R,SAAU7R,qBACV8Y,QAAS9Y,sBACT2iB,SAAU3iB,uBAGZ2hB,GAAc1hB,aAAe,CAC3B4R,SAAU,IAKZ,UAAegS,gBAAWlC,I,+DCzOnB,IAAMmC,GAAb,8B,IAAA,G,EAAA,E,maAAA,mLACU,CACNC,gBAAgBC,SAAe,EAAKxhB,MAAMyhB,mBAC1CC,UAAWtD,KAAM,EAAKpe,MAAMyhB,mBAAqB,IAAK,MAH1D,6CAM0B,SAACC,GAAD,OACtB,EAAKhC,SAAS,CACZ6B,gBAAgBC,SAAeE,GAC/BA,UAAWtD,KAAMsD,EAAW,QATlC,wCAYE,WACE,MAAsCxgB,KAAKqa,MAAnCmG,EAAR,EAAQA,UAAWH,EAAnB,EAAmBA,eAEnB,OACE,kBAAC,aAAD,KACE,kBAAC,EAAAI,UAAD,CACEC,QAAQ,mBACRC,UAAWN,EAAiB,UAAY,QACxCO,kBAAkB,iDAClBC,WAAW,0CACXC,UAAW,kBAAC,GAAD,MACXlf,MAAM,4BAEN,kBAAC2U,EAAA,EAAD,CACEhW,KAAK,sBACLlD,GAAG,sBACH+O,YAAY,EACZ/K,SAAUrB,KAAK+gB,sBACfJ,UAAWN,EAAiB,UAAY,QACxCjf,aAAcof,EACdrR,aAAW,uBACXhT,UAAW4E,MACX8M,KAAK,SACLzS,MAAO,CAAE8G,MAAO,MAAOmS,QAAS,iBAnC5C,GAA2C/T,eA2C3C8f,GAAsB9jB,UAAY,CAChCikB,kBAAmBjkB,YAGrB,UAAe0kB,QAAU,CACvBC,KAAM,aACNC,kBAAkB,EAClBC,0BAA0B,GAH5B,CAIGf,I,4BClDH,SANiC,kBAC/B,uBAAGhkB,OAAO,SAASC,IAAI,sBAAsBP,KAAMgX,MAAnD,0BACyB,kBAAC,MAAD,QCF3B,IAAMsO,GAAe,SAAC,GAAD,IAAGnO,EAAH,EAAGA,SAAH,OACnB,kBAAC,EAAAvR,KAAD,CACEvF,UAAU,KACVf,MAAO,CACLE,MAAO,+BACP4a,WAAY,SAGbjD,IAILmO,GAAa9kB,UAAY,CACvB2W,SAAU3W,UAGZ,Y,gBCcA,SApBkC,kBAChC,kBAAC,EAAArB,SAAD,KACE,kBAAC,EAAAC,WAAD,CAAYgB,QAAS0K,0BACnB,kBAAC,EAAAlL,MAAD,CAAOC,aAAa,KAAKJ,KAAK,KAAKH,MAAO,CAAEC,WAAY,SAAxD,6BAGA,kBAAC,EAAAO,eAAD,KACE,kBAAC,EAAAC,YAAD,KACE,kBAAC,EAAA6F,KAAD,CAAMvF,UAAWwF,kBAAjB,oDAGA,kBAAC,EAAAD,KAAD,CAAMtG,MAAO,CAAEE,MAAO,yCACpB,kBAAC,MAAD,MADF,IAC+B6f,S,uCCfzC,SATwB,SAAC,GAAD,IAAGlI,EAAH,EAAGA,SAAUnX,EAAb,EAAaA,KAASulB,GAAtB,oBACrBvlB,GACC,+BAAGA,KAAMA,GAAUulB,GAChBpO,IAGLA,GACA,K,mFCTK,IAAMqO,EAAwB,SAACrQ,EAAWrB,EAAgB3S,GAC/D,SAAIgU,GAAarB,GAAkB3S,IAOxBqjB,EAAiB,SAACE,GAAD,OAAeA,EAAY,KAAOA,GAAa,GAEhEe,EAAsB,SAAChhB,EAAMnD,EAAO8a,GAAd,SAChC3X,GACAnD,GACA8a,GACAoI,EAAepI,KAILsJ,EAAoB,SAACzQ,GAAD,OAC/BA,aAAA,EAAAA,EAAoB3R,QAAS,GAElBqiB,EAAsB,SAACC,GAClC,QAAIA,GACKA,EAAUtiB,OAAS,I,wDCvBvB,IAEM4X,EAAkB,SAAC9V,GAAyC,IAAlCygB,EAAkC,uDAA1B,EAAGC,IAAuB,yDACjEC,EAAa3gB,aAAH,EAAGA,EAAO4gB,QAAQH,GAClC,OAAOE,EAAaA,GAAcD,EAAc,IAAM,IAAM,OAGjD1R,EAAY,SAAChP,EAAO6gB,EAAUC,GAKzC,OAJKA,IACHA,EAASD,EAAW,KAGf7gB,EAAQ,GAAe,IAAVA,EAAc8gB,EAASD,I,mJCVhCzd,EAAO,SAAC2d,GAAD,cAAoB,IAAI9jB,IAAI8jB,KAEnCC,EACX,SAACC,GAAD,IAAWC,EAAX,uDAAmB,MAAnB,OACA,SAACC,EAAMC,GACL,IAAMC,EAASF,GAAQA,EAAKF,IAAc,GACpCK,EAASF,GAAQA,EAAKH,IAAc,GAC1C,OAAII,IAAUC,EACL,EACY,QAAVJ,EACFG,EAAQC,GAAS,EAAI,EAErBD,EAAQC,EAAQ,GAAK,IAKrBjf,EAAkB,SAACkQ,EAAW3U,GAAZ,OAAsB,SAAC2jB,EAAOC,EAAKC,GAAb,OACnD,kBAAClP,GAAD,UAAekP,EAAY7jB,MAEvB8jB,EAAc,SAACC,EAAU3b,GAC7B,MAAwB,mBAAb2b,EACFA,EAAS3b,GAETA,EAAK2b,IAMHxd,EAAmB,SAACwd,EAAUC,EAASje,GAApB,OAC9Bie,EAAQC,MAAK,SAACC,EAAGC,GACf,MAAkB,QAAdpe,EACKqe,OAAON,EAAYC,EAAUG,IAAIG,cACtCD,OAAON,EAAYC,EAAUI,MAGvBC,OAAON,EAAYC,EAAUG,IAAIG,cACvCD,OAAON,EAAYC,EAAUI,SAKxB7d,EAAe,SAACge,EAAaC,EAAWC,EAAYze,GAC/D,IAAM0e,EAAoBD,EAAWzjB,SAAQ,SAAC2jB,GAAD,OAC3CJ,EAAYvlB,QAAO,SAACqJ,GAAD,OAAUA,EAAKmc,KAAeG,QAEnD,MAAqB,QAAd3e,EAAsB0e,EAAkBE,UAAYF,GAGhDG,EAAc,SAAdA,EAAeC,EAAKC,EAAMC,GACrC,IAAMC,EAAQF,EAAKtmB,MAAM,KACnB0J,EAAM8c,EAAMC,QAClB,YAAwB,IAAbJ,EAAI3c,GACN8c,EAAM1kB,OAAS,EAClBskB,EAAYC,EAAI3c,GAAM8c,EAAMjJ,KAAK,KAAMgJ,GACvCF,EAAI3c,GAGH6c,GAGIG,EAAY,SAACC,GAAD,OACvBA,EACG3mB,MAAM,YACNK,KAAI,SAACsmB,GAAD,OAAYA,EAAOC,UACvBvmB,KAAI,SAACsmB,GAAD,OAAYA,EAAO,GAAGE,cAAgBF,EAAOG,UAAU,MAC3DvJ,KAAK,M,mHCrEGwJ,EAAa,SAACJ,GAAD,OAAYA,EAAO3mB,MAAM,KAAKud,KAAK,IAAI5X,eCsDjE,QAlDE,WAAYmM,GAAc,mEAKA,SAACkV,EAAYpjB,GACrC,IAAQ2M,EAAuByW,EAAvBzW,KAAM0W,EAAiBD,EAAjBC,aAEd,GAAa,WAAT1W,IAAsB3M,EACxB,MAAO,GAGT,OAAQ2M,GACN,KAAKC,UACH,MAAO,CAACyW,EAAarjB,IACvB,KAAK4M,cACH,OAAO5M,EAAMvD,KAAI,SAACE,GAAD,OAAY0mB,EAAa1mB,MAE5C,KAAKiQ,WACH,OAAOyW,EAAarjB,GAEtB,IAAK,SACH,OAAOqjB,IAET,QACE,MAAO,QAzBa,oCA6BH,SAACC,GACtB,IAAMC,EACJD,EAAkB7mB,KAAI,SAAC+mB,GAAD,OAAOA,EAAEtlB,UAAQvB,QAAO,SAAC8mB,GAAD,OAAQA,EAAK,KAAGvlB,QAAU,EAC1E,OAAOolB,EACJ7mB,KAAI,SAACinB,GAAD,OAAQA,EAAG/J,KAAK,WACpBA,KAAK4J,EAAc,QAAU,QAlCR,iCAqCN,SAACza,GACnB,IAAMwa,EAAoB,EAAKnW,OAC5B1Q,KAAI,SAAC2mB,GAAD,OACH,EAAKO,wBACHP,EACAta,EAAQqa,EAAWC,EAAW1iB,YAGjC/D,QAAO,SAAC6mB,GAAD,OAAOA,EAAEtlB,OAAS,KAC5B,OAAO,EAAK0lB,qBAAqBN,MA7CjCxkB,KAAKoP,aAAeA,EACpBpP,KAAKqO,OAASrO,KAAKoP,aAAaf,QCJpC,IAAM0W,EAAiB,SAAC7jB,GAAD,OAAW,SAACgG,GAAD,OAChCgc,OAAOhc,EAAKhG,SAAWgiB,OAAOhiB,KAuFhC,QApFE,WAAYkO,GAAc,0DAKT,SAAC4V,EAAUC,GAAX,OACfA,GAAiC,KAAjBA,EACZ,CACED,WACAtG,MAAO,CAAC,CAAEne,KAAM0kB,KAElB,SAXoB,kCAaL,SAACD,EAAUC,GAAX,OACnBA,GAAgBA,EAAa7lB,OAAS,EAClC,CACE4lB,WACAtG,MAAOuG,EAAatnB,KAAI,SAACuD,GAAD,MAAY,CAClCX,KAAM,EAAK6O,aAAa8V,cAAchkB,EAAO8jB,QAGjD,SArBoB,+BAuBR,SAACA,EAAUC,GAAX,OAChBA,GAAiC,KAAjBA,EACZ,CACED,WACAtG,MAAO,CACL,CAAEne,KAAM,EAAK6O,aAAa8V,cAAcD,EAAcD,MAG1D,SA/BoB,+BAiCR,SAACA,GAAgD,IAAtCC,EAAsC,uDAAvB,GAAIE,EAAmB,uCAC3DhgB,EAAQigB,OAAOC,KAAKJ,GACvBplB,SAAQ,SAACylB,GACR,IAAMC,EAAQJ,EAAehgB,MAAM7G,KAAKymB,EAAeO,IAEvD,OAAOF,OAAOC,KAAKJ,EAAaK,IAAa3nB,KAAI,SAAC6nB,GAAD,OAC/CP,EAAaK,GAAYE,GACrBD,aADJ,EACIA,EAAOpgB,MAAM7G,KAAKymB,EAAeS,IACjC,WAGP3nB,QAAO,SAACwK,GAAD,QAASA,KAEnB,OAAO4c,GAAgB9f,EAAM/F,OAAS,EAClC,CACE4lB,WACAtG,MAAOvZ,EAAMxH,KAAI,SAACuJ,GAAD,MAAW,CAAE3G,KAAM2G,EAAKtF,WAE3C,SAnDoB,uBAsDhB,SAAC/D,EAAQonB,GACjB,IAAME,EAAiB,EAAK/V,aAAaqW,oBAAoB5nB,GAC7D,EAAwBsnB,GAEpB,CAAEvjB,MAAO/D,EAAQgQ,KAAM,MAFnBjM,EAAR,EAAQA,MAIR,OAJA,EAAeiM,MAKb,KAAKC,UACH,OAAO,EAAK4X,eAAe9jB,EAAOqjB,GAEpC,KAAKnX,cACH,OAAO,EAAK6X,mBAAmB/jB,EAAOqjB,GAExC,KAAKnX,WACH,OAAO,EAAK8X,gBAAgBhkB,EAAOqjB,GAErC,KAAKnX,WACH,OAAO,EAAK+X,gBAAgBjkB,EAAOqjB,EAAcE,GAEnD,QACE,OAAO,UA1Ea,wBA8Ef,SAACnb,GAAD,OACTob,OAAOC,KAAKrb,GACTrM,KAAI,SAACE,GAAD,OAAY,EAAKioB,QAAQjoB,EAAQmM,EAAQnM,OAC7CA,QAAO,SAAC6mB,GAAD,QAASA,QAhFnB1kB,KAAKoP,aAAeA,EACpBpP,KAAKqO,OAASrO,KAAKoP,aAAaf,Q,43BCHpC,IAAM0X,EAAqB,SAACnkB,GAAD,0BAAwBA,EAAMqB,gBAmQzD,QA7PE,WAAYoL,GAAQ,sDAHN,OAGM,4BAFJ,OAEI,6BAIJ,SAACnH,GAAD,OACb,EAAKmH,OAAS,EAAKA,OACjBxQ,QAAO,SAACwf,GAAD,OAAOA,EAAEzb,QAAUsF,EAAKtF,SAC/BxD,OAAO8I,OAPQ,8BASH,SAACmH,GAKhB,OAJIA,IACF,EAAKA,OAASA,GAGR,EAAK+Q,YAAc,EAAKA,YAC5B,EAAKA,YACL,IAAI4G,EAAY,OAhBF,gCAmBD,SAAC3X,GAKlB,OAJIA,IACF,EAAKA,OAASA,GAGR,EAAK4X,cAAgB,EAAKA,cAC9B,EAAKA,cACL,IAAIC,EAAc,OA1BJ,kCA6BC,SAAChf,EAAMif,EAASjlB,GAAhB,MAA2B,CAC9C2M,KAAMC,UACNlM,MAAOsF,EAAKtF,MACZwkB,YAAaL,EAAmB7e,EAAKtF,OACrCvE,GAAIgnB,EAAWnd,EAAKtF,OACpBykB,cAAc,QACZnlB,SACCgG,EAAKof,OAAS,YAAa,SAAC/c,EAAQgd,GACnCJ,EAAQ9B,EAAWnd,EAAKtF,OAAQ2kB,WArClB,sCA0CK,SAACrf,EAAMif,EAASjlB,GAAhB,MAA2B,CAClD2M,KAAMC,cACNlM,MAAOsF,EAAKtF,MACZwkB,YAAaL,EAAmB7e,EAAKtF,OACrCvE,GAAIgnB,EAAWnd,EAAKtF,OACpBykB,aAAc,CACZnlB,QACAiE,MAAO+B,EAAK/B,MACZ9D,SAAU,SAACkI,EAAQgd,GACjBJ,EAAQ9B,EAAWnd,EAAKtF,OAAQ2kB,UAnDlB,mCAwDE,SAACrf,EAAMif,EAASjlB,GAAhB,MAA2B,CAC/C2M,KAAMC,WACNlM,MAAOsF,EAAKtF,MACZwkB,YAAaL,EAAmB7e,EAAKtF,OACrCvE,GAAIgnB,EAAWnd,EAAKtF,OACpBykB,aAAc,CACZnlB,QACAiE,MAAO+B,EAAK/B,MACZ9D,SAAU,SAACkI,EAAQgd,GACjBJ,EAAQ9B,EAAWnd,EAAKtF,OAAQ2kB,UAjElB,qCAsEI,SAACrf,EAAMif,EAASjlB,GAAhB,MAA2B,CACjD2M,KAAMC,WACNlM,MAAOsF,EAAKtF,MACZvE,GAAIgnB,EAAWnd,EAAKtF,OACpBykB,aAAc,CACZvc,SAAU5I,EACVG,SAAU,SAACkI,EAAQgd,GACjBJ,EAAQ9B,EAAWnd,EAAKtF,OAAQ2kB,IAElCC,OAAQtf,EAAK/B,MAAMxH,KAAI,SAACuJ,GAAD,cAClBA,GADkB,IAErB2G,KAAM,WACN1I,MAAO+B,EAAK/B,MAAMxH,KAAI,SAAC8oB,GAAD,cACjBA,GADiB,IAEpB5Y,KAAM,2BApFM,kCA0FC,SAAC3G,EAAMif,EAASjlB,GACnC,OAAQgG,EAAK2G,MACX,KAAKC,UACH,OAAO,EAAK4Y,mBAAmBxf,EAAMif,EAASjlB,GAEhD,KAAK4M,cACH,OAAO,EAAK6Y,uBAAuBzf,EAAMif,EAASjlB,GAEpD,KAAK4M,WACH,OAAO,EAAK8Y,oBAAoB1f,EAAMif,EAASjlB,GAEjD,KAAK4M,WACH,OAAO,EAAK+Y,sBAAsB3f,EAAMif,EAASjlB,GAEnD,QACE,OAAO,UAzGO,kCA6GC,SAACilB,EAASW,GAAV,IAAkBhoB,EAAlB,uDAA0B,GAAIioB,EAA9B,qDAChBjoB,GADgB,IAEnBqG,OAAQ4hB,GAAc,EAAK1Y,QACxB1Q,KAAI,SAACuJ,GAAD,OACH,EAAK8f,mBAAmB9f,EAAMif,EAASW,EAAOzC,EAAWnd,EAAKtF,YAE/D/D,QAAO,SAACwK,GAAD,QAASA,WAnHD,qCAsHI,SAACxK,GACvB,OAAQA,EAAOgQ,MACb,KAAKC,UACH,MAAO,GACT,KAAKA,cACH,MAAO,GACT,IAAK,SACH,OAAOjQ,EAAOopB,UAAW,EAC3B,QACE,YA/Hc,mCAmIE,WAAoC,IAAnCC,EAAmC,uDAAnB,GAAIH,EAAe,uCACpDI,EAAe,GAOnB,OANCJ,GAAc,EAAK1Y,QAAQnP,SAAQ,SAACrB,GACnC,IAAMupB,EAAkB/C,EAAWxmB,EAAOmJ,KAAOnJ,EAAO+D,OACxDulB,EAAaC,GACXF,EAAcE,IAAoB,EAAKC,sBAAsBxpB,MAG1DspB,MA3IW,qCA8II,SAACjmB,GACvB,IAAM8jB,EAAW,EAAK3W,OAAOxQ,QAAO,SAACmnB,GAAD,QAClCA,EAAS7f,OACL6f,EAAS7f,MAAMxH,KAAI,SAACuJ,GAAD,OAAUA,EAAKhG,SAAOmI,SAASnI,MAEtD,GAEF,OAAO8jB,EAAWA,EAASpjB,MAAQV,MArJjB,mCAwJE,SAAComB,GAAD,OACpB,EAAKjZ,OAAOxQ,QACV,SAACqJ,GAAD,OAAUmd,EAAWnd,EAAKF,KAAOE,EAAKtF,SAAWyiB,EAAWiD,MAC5D,IAAM,OA3JU,qCA6JI,SAACA,EAAOtC,GAC9B,IAAMG,EAAiB,EAAKM,oBAAoBT,GAU1CuC,IARJpC,EAAetX,OAASC,WACpBqX,EAAehgB,MACfggB,EAAehgB,MAAMtF,SAAQ,SAACqH,GAAD,OAC3BA,EAAK/B,MAAMxH,KAAI,SAAC8oB,GAAD,cACVA,GADU,IAEbe,YAAatgB,EAAKhG,gBAGF,IAAIrD,QAC5B,SAACqJ,GAAD,OAAUA,EAAKhG,QAAUomB,GAASpgB,EAAKtF,QAAU0lB,KAGnD,OAAuB,IAAnBC,EAAQnoB,OACHmoB,EAAQ,GACNA,EAAQnoB,OAAS,GAE1B2S,QAAQ0V,KAAR,mCAC8BH,EAD9B,eAC0CtC,EAD1C,2BAGOuC,EAAQ,SAGfxV,QAAQ0V,KAAK,qBAAuBH,EAAQ,OAAQtC,OAtLpC,6BA0LJ,SAAC9jB,EAAO8jB,GACtB,IAAM9d,EAAO,EAAKwgB,sBAAsBxmB,EAAO8jB,GAC/C,OAAO9d,EAAOA,EAAKtF,MAAQV,MA5LT,6BA+LJ,SAACU,EAAOojB,GACtB,IAAM9d,EAAO,EAAKwgB,sBAAsB9lB,EAAOojB,GAC/C,OAAO9d,EAAOA,EAAKhG,MAAQU,MAjMT,wCAoMO,SAACkhB,EAASxT,GACnC,IAAIqY,GAAkB,OAAI7E,GAiB1B,OAfAsC,OAAOC,KAAK/V,GAAepQ,SAAQ,SAACrB,GAClC,IAAMmnB,EAAW,EAAKS,oBAAoB5nB,GACpCqD,EAAQoO,EAAczR,GACvBmnB,GAAa9jB,IAKhBA,EAAM9B,OAAS,GACI,WAAlB4lB,EAASnX,MAAsC,kBAAV3M,KAEtCymB,EAAkB3C,EAASnnB,OAAO8pB,EAAiBzmB,OAIhDymB,MAtNW,2CAyNU,SAACC,EAAc/pB,GAAf,MACJ,iBAAjB+pB,EACH,GACAA,EAAa/pB,QAAO,SAACqD,GAAD,OAAWA,IAAUrD,SA5N3B,gDA8Ne,SAAC+pB,EAAc/pB,EAAQgqB,GAEpD,MAAwDD,EAAaC,EAASL,aAA9E,EAASK,EAAS3mB,MAAoB4mB,GAAtC,4BACJ,cACKF,GADL,cAEGC,EAASL,YAAcM,QAnOR,oCAuOG,SAACpJ,EAAOpP,GAC7B,IAAMyY,EAAerJ,EAAMsG,SACrBgD,EAAYtJ,EAAMA,MAAM,GAAGne,KAC3BsnB,EAAW,EAAKH,sBAAsBM,EAAWD,GACjDE,EAAYJ,EAAWA,EAAS3mB,MAAQ8mB,EACxCE,EAAY7D,EAAW0D,GACvBH,EAAetY,EAAc4Y,GAG7BC,GAFiB,EAAK1C,oBAAoBsC,GACjBla,OAASC,WAGlC,EAAKsa,iCACL,EAAKC,6BACTT,EAAcK,EAAWJ,GAE3B,cACKvY,GADL,cAEG4Y,EAAYC,OAvPfnoB,KAAKqO,OAASA,I,gJCZLia,EAAiB,SAACnjB,GAAD,IAAQojB,EAAR,uDAAsB,GAAtB,OAC5BpjB,EAAMtH,QAAO,SAACqJ,GAAD,OAAUqhB,EAAYlf,SAASnC,EAAKU,Y,omBCEnD,IAuBM4gB,EAAmB,SAAC1e,GAAD,OAAeA,EAAW,WAAa,UAU1D2e,EAAU,SAACtjB,GAAD,OAAWA,EAAMxH,KAAI,SAACuJ,GAAD,OAAUA,EAAKU,WAC9C8gB,EAAoB,SAACC,EAAQC,GAAT,OACxB3qB,MAAMC,KAAK,IAAIC,IAAJ,kBAAYwqB,IAAZ,OAAuBC,OAEvBC,EAAgB,SAAC,GAOxB,IAnB4B1jB,EAAOgG,EAflB2d,EA4BrBC,EAMI,EANJA,MACArkB,EAKI,EALJA,SACA+K,EAII,EAJJA,YACAuZ,EAGI,EAHJA,eACAC,EAEI,EAFJA,cAEI,IADJvoB,kBACI,MADS,KACT,EACEwoB,IAAqBxkB,EAC3B,GAA0CE,cAAS6K,GAAnD,eAAO8Y,EAAP,KAAoBY,EAApB,KACMC,GAAoBb,GAAe,IAAInpB,OACvCiqB,EAAiBJ,IAAgB7pB,OACjCkqB,EAAcF,IAAqBL,EACnCQ,EAAoC,IAArBH,EACfI,GA1B0BrkB,EA2B9B8jB,IA1B2B,KADU9d,EA4BrCod,GAAe,IA3BCnpB,QANK,SAAC+F,GAAD,IAAQskB,EAAR,uDAAoB,GAApB,OACvBtkB,EAAMtH,QAAO,SAACqJ,GAAD,OAAUuiB,EAAUpgB,SAASnC,MAAO9H,SAAW+F,EAAM/F,OAQzDsqB,CAAiBvkB,EAAOgG,IA2B3BjL,EAAuB,IAAV6oB,EACbnT,EA9CqB,KADNkT,EA+CSM,KA5CnBN,IA4CqCC,GAzCvC,MA0CH/uB,EA1Da,SAAC2vB,EAAYC,GAChC,MAKE,UAAUD,EAAV,aAoDYE,CAAaT,GAErBU,EAAgB,mCAAG,WAAOC,GAAP,uFACWA,IADX,OACjBC,EADiB,OAEvBb,EAAmBa,GACnBtlB,GAAYA,EAASslB,GAHE,2CAAH,sDAMhBC,EAAc,SAACxB,GAAD,OAAaC,EAAkBH,EAAaE,IAE1DyB,EAAgB,SAACzB,GAAD,OACpBF,EAAY1qB,QAAO,SAAC+J,GAAD,OAAa6gB,EAAQpf,SAASzB,OAE7CuiB,EAAc,iBAAM,IACpBC,EAAa,kBAAMN,EAAiBK,IAQpCE,EAAa,kBACjBP,GAAiB,WACf,IAAMQ,EAAiBrB,IAKvB,OAHEP,EAAkBH,EAAa+B,GAAgBlrB,SAC/CmpB,EAAYnpB,OAGV8qB,EAAcI,GACdL,EAAYK,OAYpB,OAJAC,gBAAU,WACRpB,EAAmB1Z,KAClB,CAACA,IAEGyZ,EACH,CACEX,cACA6B,aACA9kB,WAAY,CACVZ,SAAUqkB,EAAQ,EAjCR,SAAC9jB,EAAG6E,EAAU9C,EAAKU,GAAnB,OAChBoiB,GAAiB,kBACfhgB,EACImgB,EAAY,CAACviB,EAAIhH,KACjBwpB,EAAc,CAACxiB,EAAIhH,cA6BemH,EAClC2iB,cAAc,GAEhBhkB,aAAc,CACZikB,WAAY,CACVC,YAAa,CAAEzX,SAAU,CAACjZ,IAC1BkG,aACAiF,MAAO,CACL,CACEnL,MAAO,cACPmb,QAASiV,EACTtrB,MAAO,CACLoB,WAAYqpB,IAGhB,CACEvvB,MAAO,GAAF,OAAKwuB,EACRgB,GADG,kBAEMH,EAFN,WAGLlU,QAASkV,GAEX,CACErwB,MAAO,GAAF,OAAKwuB,EAAiBc,GAAtB,iBAA2CP,EAA3C,WACL5T,QArCI,kBAChB2U,GAAgB,iBAAC,kFACfR,EADe,qBAtBO,GAsBP,kCACeW,EADf,SACiCjB,IADjC,6HAuCTpT,UACAlR,SAAWxE,OAA0B2H,EAAbwiB,KAI9B,IAGAM,EAAwB,SAACzjB,EAAMqhB,GAAP,cACzBrhB,GADyB,IAE5BS,SAAU,CACRmC,UAAWye,GAAe,IAAIlf,SAASnC,EAAKU,YAInCmD,EAAyB,SAAC,GAOjC,IANJrG,EAMI,EANJA,SACOkmB,EAKH,EALJzlB,MACAtH,EAII,EAJJA,OACAqI,EAGI,EAHJA,UACAuJ,EAEI,EAFJA,YACAnJ,EACI,EADJA,QAEM4iB,IAAqBxkB,EACrBS,EAAQylB,EAAUjtB,KAAI,SAACuJ,GAAD,OAC1ByjB,EAAsBzjB,EAAMuI,MAExBsZ,EAAQ5jB,EAAM/F,OAEd6I,EAAgBpK,EAASA,EAAOsH,GAASA,EACzC0lB,EAAgB5iB,EAAc7I,OAC9B0rB,EAAWD,IAAkB9B,EAE7B5gB,EAAiBjC,EAAYA,EAAU+B,GAAiBA,EACxDohB,EAAiBlhB,EAAe/I,OAEhC2rB,EAAWD,EAAWD,EAAgB9B,EAEtCiC,GAAcC,cAAQ,kBAAM3kB,IAAS,KAE3CikB,gBAAU,WACe,IAAnBlB,GACF2B,GAAa,KAEd,CAAC3B,EAAgB2B,IAEpB,MAAmDnC,EAAc,CAC/DE,MAAOgC,EACPrmB,WACA+K,cACAuZ,eAAgB,kBAAkBP,EAAXqC,EAAmB7iB,EAAyB9C,IACnE8jB,cAAe,kBAAMR,EAAQtgB,IAC7BzH,WAAY,WANN0pB,EAAR,EAAQA,WAAY7B,EAApB,EAAoBA,YAAgBkC,GAApC,YASA,OAAOvB,EAAgB,GAEjB7hB,YAAa,SAACH,GAAD,OAAUyjB,EAAsBzjB,EAAMqhB,IACnDpd,cAAemd,EAAenjB,EAAOojB,GACrCze,SAAUye,EACV2C,eAAgBd,GACbK,GAEL,K,4JClMAU,EAAuB,SAAC,GAAD,IAAGxV,EAAH,EAAGA,UAAWyV,EAAd,EAAcA,gBAAd,OAC3B,kBAAC,EAAAC,OAAD,CACEzpB,MAAM,gBACN+T,UAAWA,EACXtU,SAAU,kBAAM+pB,EAAgB,YAAazV,OAIjDwV,EAAqB7uB,UAAY,CAC/BqZ,UAAWrZ,SACX8uB,gBAAiB9uB,UAGnB,UCsBA,EApC0B,SAAC,GAIrB,IAHJ8uB,EAGI,EAHJA,gBACA9b,EAEI,EAFJA,cAGMgc,IADF,EADJ1c,eAIM2c,EAAa,CACjB1d,KAAM,SACNjM,MAAO,eACPoF,IAJgB,WAKhBigB,SAAS,EACTppB,OAAQ,SAACsH,EAAOjE,GACd,OAAOiE,EAAMtH,QAAO,SAACqJ,GAAD,aAAUA,SAAA,UAAAA,EAAMS,gBAAN,eAAgBmC,YAAa5I,OAGzDyU,GAAyC,IAA7BrG,EAAa,SAU/B,OAAOgc,EACH,CACEC,aACA/kB,aAAc,CACZmD,gBAZN,kBAAC,EAAD,CAEIyhB,kBACAzV,gBAYF,I,qkBChCN,IAAM0Q,EAAe,SAAC/W,GAAD,OACnB8V,OAAO5X,OAAO8B,GAAezR,QAAO,SAACqD,GACnC,OAAI,OAAOA,KAAUkkB,OACZA,OAAO5X,OAAOtM,GAAO9B,OAAS,GAGnC,OAAO8B,KAAUjD,MACZiD,EAAM9B,OAAS,IAGf8B,MAGPid,EAAsB,IAAID,IAAoB,IAoGpD,QAlGwB,WAAkB,IAAjBzZ,EAAiB,uDAAP,GACzBuF,EAAqCvF,EAArCuF,QAAS1D,EAA4B7B,EAA5B6B,QAASsI,EAAmBnK,EAAnBmK,eACpB4c,IAAkBxhB,EACxB,EACEA,GAAW,GADb,IAAQoF,oBAAR,MAAuB,GAAvB,EAA0Cqc,EAA1C,EAA2Bnc,cAE3B,GAA0C1K,cACxCuZ,EAAoBS,oBAAoB6M,EAAsBrc,IADhE,eAAOE,EAAP,KAAsBoc,EAAtB,KAGMhM,EAAiB,SAAC7hB,EAAQqD,GAC9BwqB,EAAiB,EAAD,KACXpc,GADW,cAEbzR,EAASqD,KAGZoF,GAAWA,EAAQ,IAGfqlB,EAAgB,SAACzkB,GACrBiX,EAAoBwN,cAAczkB,GAClCwkB,EAAiBvN,EAAoBS,oBAAoBtP,KAGrDwP,EAAiB,kBACrB4M,EAAiBvN,EAAoBS,wBAEjCG,EAAe,SAACL,GAAD,OACnBgN,EACEvN,EAAoBQ,qBAAqBD,EAAOpP,KAE9C0Q,EAAiB,SAACzW,EAAQmV,GAAT,IAAgBG,EAAhB,+DACrBA,EAAWC,IAAmBC,EAAaL,EAAM,KAE7C7gB,EAAS,SAACsH,GAAD,OACbgZ,EAAoBM,yBAAyBtZ,EAAOmK,IAEtD,EAGIsc,EAAkB,CACpBtc,gBACA8b,gBAAiB1L,EACjB9Q,mBALcjE,EADhB,EACEnE,aACYqlB,EAFd,EAEEN,WAOIO,GAAqBb,cACzB,kBAAM5E,EAAa/W,KACnB,CAACA,IAGGyc,EAA2B,GAAH,eACzB3c,IADyB,OAExByc,EAAmB,CAACA,GAAoB,KAgB9C,OAbAtB,gBAAU,WAQR,OAPApM,EAAoB9P,OAAS,GAC7B0d,EAAyBluB,QAAO,SAACwK,GAAD,QAASA,KAAGnJ,QAAQysB,GACpDD,EACEvN,EAAoBS,oBAAoB6M,GAAwB,IAChErc,GAGK,WACL+O,EAAoB9P,OAAS,MAE9B,IAEImd,EACH,CACE3tB,SACA8M,6BACAnE,aAAc,CACZ4I,aAAc+O,EAAoBsB,mBAChCC,EACApQ,EACA,GACAyc,GAEFjM,oBAAqB,CACnB9V,QAASmU,EACNC,eAAe2N,GACf1M,SAAS/P,GACZyQ,SAAUC,IAGdoL,gBAAiB1L,EACjBpQ,gBACAwc,qBACAH,gBACAxN,sBACAoG,aAAc,kBACZpG,EACGE,iBAAiB0N,GACjBC,kBAAkB1c,KAEzB,K,uqBClHC,IAAM2c,EAAsB,SAACpxB,GAAD,OACjCA,EAASgF,SACP,SAAC5C,GAAD,OACEA,EAAQsB,OAAStB,EAAQsB,MAAMV,QAAO,SAACQ,GAAD,OAAWA,EAAKO,iBAG/CstB,EAAsB,SAACrxB,GAAD,OACjCA,EAASgF,SACP,SAAC5C,GAAD,OAAaA,EAAQsB,OAAStB,EAAQsB,MAAMV,QAAO,SAACQ,GAAD,OAAUA,EAAKO,iBAQzDutB,EAAoB,SAACjvB,GAAD,OAC/BA,EAAOwS,mBACHuc,EAAoB/uB,EAAOwS,oBAC3B,IAEO0c,EAA4B,eAACvxB,EAAD,uDAAY,GAAZ,OACvCA,EAASkS,QAAO,SAACsf,EAAKpvB,GAAN,OAAkBovB,KAASpvB,EAAQ0B,aAAW,IAEnD2tB,EAA+B,SAAC9uB,GAAD,OAC1CA,EAAQG,KAAI,SAACT,GAAD,cACPA,GADO,IAEVoC,kBAAmB6sB,EAAkBjvB,GACrCyB,UAAWytB,EAA0BlvB,EAAOwS,oBAC5C7U,SAAUqC,EAAOwS,yBAGRT,EAA0B,SAACsd,GAAD,OACrCA,EAAkB1sB,SAAQ,SAAC2sB,GAAD,OACxBA,EAAiBjuB,MAAMZ,KAAI,SAACU,GAC1B,IAAMqC,EAAarC,EAAKqC,YAAc8V,KAAKiW,MAAMpuB,EAAKqC,YACtD,cACKrC,GADL,IAEEsC,WAAYtC,EAAKsC,WAAa6V,KAAKiW,MAAMpuB,EAAKsC,YAAc,GAC5DD,WAAYA,GAAcA,EAAWkB,MAAQlB,EAAa,KAC1DzD,QAASuvB,EAAiBvvB,kB","file":"js/97.abe83668a20ed8e2530f.js","sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport { ApolloClient, HttpLink, InMemoryCache } from 'apollo-boost';\nimport {\n  Title,\n  TextContent,\n  Button,\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStatePrimary,\n  EmptyStateSecondaryActions,\n  EmptyStateIcon,\n} from '@patternfly/react-core';\nimport { CloudSecurityIcon } from '@patternfly/react-icons';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { Spinner } from '@redhat-cloud-services/frontend-components/Spinner';\nimport { ErrorCard } from '../ErrorCard/ErrorCard';\nconst COMPLIANCE_API_ROOT = '/api/compliance';\n\nconst QUERY = gql`\n  {\n    profiles(search: \"external = false and canonical = false\") {\n      totalCount\n    }\n  }\n`;\n\nconst ComplianceEmptyState = ({ title, mainButton, client }) => {\n  let { data, error, loading } = useQuery(QUERY, {\n    fetchPolicy: 'network-only',\n    client,\n  });\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  if (error) {\n    const errorMsg = `Oops! Error loading System data: ${error}`;\n    return <ErrorCard message={errorMsg} />;\n  }\n\n  const policiesCount = data.profiles.totalCount;\n\n  const policyWord = policiesCount > 1 ? 'policies' : 'policy';\n  const haveWord = policiesCount > 1 ? 'have' : 'has';\n\n  return (\n    <Bullseye>\n      <EmptyState>\n        <EmptyStateIcon\n          style={{\n            fontWeight: '500',\n            color: 'var(--pf-global--primary-color--100)',\n          }}\n          size=\"xl\"\n          title=\"Compliance\"\n          icon={CloudSecurityIcon}\n        />\n        <Title headingLevel=\"h1\" size=\"lg\">\n          {title}\n        </Title>\n        <br />\n        <EmptyStateBody>\n          {policiesCount > 0 && (\n            <TextContent>\n              <a href=\"insights/compliance/scappolicies\">\n                {policiesCount} {policyWord}\n              </a>{' '}\n              {haveWord} been created but {haveWord} no reports.\n            </TextContent>\n          )}\n          <TextContent>\n            The Compliance service uses SCAP policies to track your\n            organization&#39;s adherence to compliance requirements.\n          </TextContent>\n          <TextContent>\n            Get started by adding a policy, or read documentation about how to\n            connect OpenSCAP to the Compliance service.\n          </TextContent>\n        </EmptyStateBody>\n        <EmptyStatePrimary>{mainButton}</EmptyStatePrimary>\n        <EmptyStateSecondaryActions>\n          <Button\n            variant=\"link\"\n            component=\"a\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={\n              `https://access.redhat.com/documentation/en-us/red_hat_insights/` +\n              `2020-04/html/assessing_and_monitoring_security_policy_compliance_of_rhel_systems/index`\n            }\n          >\n            Learn about OpenSCAP and Compliance\n          </Button>\n        </EmptyStateSecondaryActions>\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nComplianceEmptyState.propTypes = {\n  title: propTypes.string,\n  mainButton: propTypes.object,\n  client: propTypes.object,\n};\n\nComplianceEmptyState.defaultProps = {\n  title: 'No policies',\n  mainButton: (\n    <Button\n      variant=\"primary\"\n      component=\"a\"\n      href=\"/insights/compliance/scappolicies\"\n    >\n      Create new policy\n    </Button>\n  ),\n  client: new ApolloClient({\n    link: new HttpLink({\n      uri: COMPLIANCE_API_ROOT + '/graphql',\n      credentials: 'include',\n    }),\n    cache: new InMemoryCache(),\n  }),\n};\n\nexport default ComplianceEmptyState;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport RemediationButton from '@redhat-cloud-services/frontend-components-remediations/RemediationButton';\nimport flatten from 'lodash/flatten';\nimport { connect } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { AnsibeTowerIcon } from '@patternfly/react-icons';\n\nclass ComplianceRemediationButton extends React.Component {\n  formatRule = ({ title, refId }, profile, system, majorOsVersion) => ({\n    id: `ssg:rhel${majorOsVersion}|${\n      profile.split('xccdf_org.ssgproject.')[1]\n    }|${refId}`,\n    description: title,\n    systems: [system],\n  });\n\n  uniqIssuesBySystem = (issues) => {\n    const issueIds = issues.map((issue) => issue.id);\n    return issues.filter((issue, index) => {\n      const originalIssueIndex = issueIds.indexOf(issue.id);\n      return originalIssueIndex === index\n        ? true\n        : (issues[originalIssueIndex].systems = Array.from(\n            new Set(issues[originalIssueIndex].systems.concat(issue.systems))\n          )) && false;\n    });\n  };\n\n  ruleProfile = (rule, system) =>\n    system.profiles.find((profile) =>\n      profile.rules.find((profileRule) => rule.refId === profileRule.refId)\n    );\n\n  rulesWithRemediations = (rules, system) => {\n    return rules\n      .filter(\n        (rule) =>\n          rule.remediationAvailable &&\n          this.ruleProfile(rule, system).supported &&\n          rule.compliant === false\n      )\n      .map((rule) => {\n        const profile = this.ruleProfile(rule, system);\n        return this.formatRule(\n          rule,\n          profile.refId,\n          system.id,\n          profile.majorOsVersion\n        );\n      });\n  };\n\n  dataProvider = () => {\n    const { allSystems, selectedRules } = this.props;\n    const result = { systems: [], issues: [] };\n\n    allSystems\n      .filter((system) => system.supported)\n      .forEach(async (system) => {\n        result.systems.push(system.id);\n\n        if (selectedRules.length !== 0) {\n          result.issues.push(this.rulesWithRemediations(selectedRules, system));\n        } else {\n          result.issues.push(\n            this.rulesWithRemediations(system.ruleObjectsFailed, system)\n          );\n        }\n      });\n\n    return Promise.all(result.issues).then((issues) => {\n      result.issues = this.uniqIssuesBySystem(flatten(issues));\n      return result;\n    });\n  };\n\n  notEmptyData = async () => {\n    const data = await this.dataProvider();\n    return data.issues.length > 0 && data.systems.length > 0;\n  };\n\n  remediationAvailable = () => {\n    const { allSystems, selectedRules } = this.props;\n    let rules = selectedRules.length\n      ? selectedRules\n      : allSystems.flatMap((system) => system.ruleObjectsFailed);\n\n    return rules.some(\n      (rule) =>\n        rule.remediationAvailable &&\n        (rule.profiles?.some((profile) => profile.supported) ||\n          allSystems.some(\n            (system) => this.ruleProfile(rule, system).supported\n          )) &&\n        rule.compliant === false\n    );\n  };\n\n  render() {\n    const { addNotification } = this.props;\n\n    return (\n      <React.Fragment>\n        <RemediationButton\n          isDisabled={!(this.remediationAvailable() && this.notEmptyData())}\n          onRemediationCreated={(result) =>\n            addNotification(result.getNotification())\n          }\n          dataProvider={this.dataProvider}\n        >\n          <AnsibeTowerIcon\n            size=\"sm\"\n            color=\"var(--pf-c-button--m-primary--Color)\"\n          />\n          &nbsp;Remediate\n        </RemediationButton>\n      </React.Fragment>\n    );\n  }\n}\n\nComplianceRemediationButton.propTypes = {\n  selectedRules: propTypes.array,\n  allSystems: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.string,\n      name: propTypes.string,\n      supported: propTypes.bool.isRequired,\n      profiles: propTypes.arrayOf(\n        propTypes.shape({\n          refId: propTypes.string,\n          name: propTypes.string,\n          rules: propTypes.arrayOf(\n            propTypes.shape({\n              title: propTypes.string,\n              severity: propTypes.string,\n              rationale: propTypes.string,\n              refId: propTypes.string,\n              description: propTypes.string,\n              compliant: propTypes.bool,\n              identifier: propTypes.string,\n              references: propTypes.string,\n            })\n          ),\n        })\n      ),\n    })\n  ),\n  addNotification: propTypes.func,\n};\n\nComplianceRemediationButton.defaultProps = {\n  allSystems: [],\n};\n\nexport default connect(\n  () => ({}),\n  (dispatch) => ({\n    addNotification: (notification) => dispatch(addNotification(notification)),\n  })\n)(ComplianceRemediationButton);\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Card, CardHeader, CardBody } from '@patternfly/react-core';\nimport { NotEqualIcon } from '@patternfly/react-icons';\n\nconst ErrorCard = ({ errorMsg }) => (\n  <Card className=\"ins-error-card\">\n    <CardHeader>\n      <NotEqualIcon />\n    </CardHeader>\n    <CardBody>\n      <div>{errorMsg}</div>\n    </CardBody>\n  </Card>\n);\n\nErrorCard.propTypes = {\n  errorMsg: propTypes.string,\n};\n\nexport default ErrorCard;\n","import React from 'react';\nimport { rawComponents } from '@data-driven-forms/pf4-component-mapper';\nimport { TextInput, TextArea } from '@patternfly/react-core';\n\nexport const ReduxFormTextInput = (field) => (\n  <TextInput\n    value={field.input.value || field.defaultValue}\n    onChange={field.input.onChange}\n    {...field}\n  />\n);\n\nexport const ReduxFormTextArea = (field) => (\n  <TextArea\n    value={field.input.value || field.defaultValue}\n    onChange={field.input.onChange}\n    {...field}\n  />\n);\n\nexport const ReduxFormCreatableSelectInput = (field) => (\n  <rawComponents.RawSelect\n    selectVariant=\"createable\"\n    value={field.selected}\n    onChange={field.input.onChange}\n    {...field}\n  />\n);\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text, TextVariants, TextContent } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  QuestionCircleIcon,\n} from '@patternfly/react-icons';\n\nconst ruleProps = {\n  title: propTypes.string,\n  identifier: propTypes.object,\n  profile: propTypes.object,\n  compliant: propTypes.bool,\n  remediationAvailable: propTypes.bool,\n  severity: propTypes.string,\n};\n\nexport const Rule = ({ title, identifier }) => (\n  <TextContent>\n    {title}\n    {identifier ? (\n      <Text component={TextVariants.small}>{identifier.label}</Text>\n    ) : (\n      ''\n    )}\n  </TextContent>\n);\nRule.propTypes = ruleProps;\n\nexport const Policy = ({ profile }) => profile.name;\nPolicy.propTypes = ruleProps;\n\nexport const HighSeverity = () => (\n  <span>\n    <ExclamationCircleIcon className=\"ins-u-failed\" /> High\n  </span>\n);\n\nexport const MediumSeverity = () => (\n  <span>\n    <ExclamationTriangleIcon className=\"ins-u-warning\" /> Medium\n  </span>\n);\n\nexport const LowSeverityIcon = () => (\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 18 18\" role=\"img\" style={ { verticalAlign: '-0.125em' } } xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 0h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm6.67 10.46a1.67 1.67 0 1 0 0 3.338 1.67 1.67 0 0 0 0-3.338zm-1.586-6l.27 4.935a.435.435 0 0 0 .434.411H9.55c.232 0 .422-.18.435-.411l.27-4.936A.435.435 0 0 0 9.818 4h-2.3c-.25 0-.448.21-.435.46z\" fill=\"#3A9CA6\" fillRule=\"evenodd\"/></svg> // eslint-disable-line\n);\n\nexport const LowSeverity = () => (\n  <span>\n    <LowSeverityIcon /> Low\n  </span>\n);\n\nexport const UnknownSeverity = () => (\n  <span>\n    <QuestionCircleIcon /> Unknown\n  </span>\n);\n\nexport const Severity = ({ severity }) =>\n  ({\n    high: <HighSeverity />,\n    medium: <MediumSeverity />,\n    low: <LowSeverity />,\n  }[severity?.toLowerCase()] || <UnknownSeverity />);\nSeverity.propTypes = ruleProps;\n\nexport const Passed = ({ compliant }) =>\n  compliant ? (\n    <CheckCircleIcon className=\"ins-u-passed\" />\n  ) : (\n    <ExclamationCircleIcon className=\"ins-u-failed\" />\n  );\nPassed.propTypes = ruleProps;\n\nexport const Ansible = ({ remediationAvailable }) =>\n  remediationAvailable ? <CheckCircleIcon className=\"ins-u-passed\" /> : 'No';\nAnsible.propTypes = ruleProps;\n","import React from 'react';\nimport { fitContent } from '@patternfly/react-table';\nimport { AnsibeTowerIcon } from '@patternfly/react-icons';\nimport { renderComponent } from 'Utilities/helpers';\nimport {\n  Rule,\n  Policy as PolicyCell,\n  Severity as SeverityCell,\n  Passed as PassedCell,\n  Ansible as AnsibleCell,\n} from './Cells';\n\nexport const Name = {\n  title: 'Name',\n  sortByProp: 'title',\n  renderFunc: renderComponent(Rule),\n};\n\nexport const Policy = {\n  title: 'Policy',\n  sortByFunction: (rule) => rule?.profile?.name,\n  renderFunc: renderComponent(PolicyCell),\n};\n\nexport const Severity = {\n  title: 'Severity',\n  sortByProp: 'severity',\n  transforms: [fitContent],\n  sortByArray: ['high', 'medium', 'low', 'unknown'],\n  renderFunc: renderComponent(SeverityCell),\n};\n\nexport const Passed = {\n  title: 'Passed',\n  sortByProp: 'compliant',\n  renderFunc: renderComponent(PassedCell),\n};\n\nexport const Ansible = {\n  title: (\n    <span>\n      <AnsibeTowerIcon /> Ansible\n    </span>\n  ),\n  original: 'Ansible',\n  props: {\n    tooltip: 'Ansible',\n  },\n  transforms: [fitContent],\n  sortByProp: 'remediationAvailable',\n  renderFunc: renderComponent(AnsibleCell),\n};\n","import { useState } from 'react';\nimport { sortable } from '@patternfly/react-table';\nimport { orderArrayByProp, orderByArray, uniq } from 'Utilities/helpers';\n\nconst isSortable = (column) => column.sortByProp || column.sortByFunction;\n\nconst addSortableTransform = (columns) =>\n  columns.map((column) => ({\n    ...column,\n    ...(isSortable(column)\n      ? {\n          transforms: uniq([...(column?.transforms || []), sortable]),\n        }\n      : {}),\n  }));\n\nconst columnOffset = (options = {}) =>\n  (typeof options.onSelect === 'function') +\n  (typeof options.detailsComponent !== 'undefined');\n\nconst useTableSort = (columns, options = {}) => {\n  const [sortBy, setSortBy] = useState({\n    index: 0,\n    direction: 'desc',\n  });\n  const onSort = (_, index, direction) =>\n    setSortBy({\n      index,\n      direction,\n    });\n\n  return {\n    sorter: (items) => {\n      const column = columns[sortBy.index - columnOffset(options)];\n      return column?.sortByArray\n        ? orderByArray(\n            items,\n            column?.sortByProp,\n            column?.sortByArray,\n            sortBy.direction\n          )\n        : orderArrayByProp(\n            column?.sortByProp || column?.sortByFunction,\n            items,\n            sortBy.direction\n          );\n    },\n    tableProps: {\n      onSort,\n      sortBy,\n      cells: addSortableTransform(columns),\n    },\n  };\n};\n\nexport default useTableSort;\n","import { useState } from 'react';\n\nconst usePaginate = (options = {}) => {\n  const { perPage = 10 } = options;\n  const enablePagination = options?.pagination !== false;\n\n  const [paginationState, setPaginationState] = useState({\n    perPage,\n    page: 1,\n  });\n  const setPagination = (newState) =>\n    setPaginationState({\n      ...paginationState,\n      ...newState,\n    });\n\n  const onSetPage = (_, page) => setPagination({ ...paginationState, page });\n\n  const onPerPageSelect = (_, perPage) => setPagination({ page: 1, perPage });\n\n  const paginator = (items) => {\n    const { page, perPage } = paginationState;\n    const start = (page - 1) * perPage;\n    const end = start + perPage;\n\n    return items.slice(start, end);\n  };\n\n  const setPage = (page) => {\n    const nextPage = page < 0 ? paginationState.page + page : page;\n    setPagination({\n      page: nextPage > 0 ? nextPage : 1,\n    });\n  };\n\n  return enablePagination\n    ? {\n        paginator,\n        setPage,\n        toolbarProps: {\n          pagination: {\n            ...paginationState,\n            onSetPage,\n            onPerPageSelect,\n          },\n        },\n      }\n    : {};\n};\n\nexport default usePaginate;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\n\nexport const NoResultsTable = ({ kind = 'results' }) => (\n  <EmptyTable>\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full}>\n        <Title headingLevel=\"h5\" size=\"lg\">\n          No matching {kind} found\n        </Title>\n        <EmptyStateBody>\n          This filter criteria matches no {kind}.<br />\n          Try changing your filter settings.\n        </EmptyStateBody>\n      </EmptyState>\n    </Bullseye>\n  </EmptyTable>\n);\n\nNoResultsTable.propTypes = {\n  kind: propTypes.string,\n};\n\nexport const emptyRows = [\n  {\n    cells: [\n      {\n            title: () => (<NoResultsTable />),  // eslint-disable-line\n        props: {\n          colSpan: 3,\n        },\n      },\n    ],\n  },\n];\n\nexport default NoResultsTable;\n","import { emptyRows } from './Components/NoResultsTable';\n\nconst columnProp = (column) =>\n  column.key || column.original?.toLowerCase() || column.title?.toLowerCase();\n\nconst itemRow = (item, columns) => ({\n  ...item.rowProps,\n  itemId: item.itemId,\n  cells: columns.map((column) => ({\n    title: column.renderFunc\n      ? column.renderFunc(undefined, undefined, item)\n      : item[columnProp(column)],\n  })),\n});\n\nconst primeItem = (item, transformers) => {\n  let newItem = item;\n\n  transformers.forEach((transformer) => {\n    if (transformer) {\n      newItem = transformer(newItem);\n    }\n  });\n\n  return newItem;\n};\n\nconst applyTransformers = (items, transformers = []) =>\n  items.map((item) => primeItem(item, transformers));\n\nconst buildRow = (item, columns, rowTransformer, idx) =>\n  rowTransformer.flatMap((transformer) => {\n    const row = itemRow(item, columns);\n    return transformer ? transformer(row, item, columns, idx) : row;\n  });\n\nconst useRowsBuilder = (items, columns, options = {}) => {\n  const { transformer = [], rowTransformer = [] } = options;\n  const EmptyRowsComponent = options.emptyRows || emptyRows;\n  const transformedItems = transformer\n    ? applyTransformers(items, transformer)\n    : items;\n\n  const filteredItems = options?.filter\n    ? options.filter(transformedItems)\n    : transformedItems;\n\n  const sortedItems = options?.sorter\n    ? options.sorter(filteredItems)\n    : filteredItems;\n\n  const paginatedItems = options?.paginator\n    ? options?.paginator(sortedItems)\n    : sortedItems;\n\n  const rows =\n    paginatedItems.length > 0\n      ? paginatedItems\n          .flatMap((item, idx) => buildRow(item, columns, rowTransformer, idx))\n          .filter((v) => !!v)\n      : EmptyRowsComponent;\n\n  const pagination = options?.pagination\n    ? {\n        ...options.pagination,\n        itemCount: filteredItems.length,\n      }\n    : undefined;\n\n  return {\n    tableProps: {\n      rows,\n    },\n    toolbarProps: {\n      pagination,\n    },\n  };\n};\n\nexport default useRowsBuilder;\n","const getIdProp = (item, idProp = 'id') => item[idProp];\n\nconst identify = (item, identifier) => {\n  if (typeof identifier === 'string') {\n    return {\n      ...item,\n      itemId: getIdProp(item, identifier),\n    };\n  } else {\n    return {\n      ...item,\n      itemId: identifier(item),\n    };\n  }\n};\n\nexport const useItemIdentify = (items, options = {}) => {\n  const identifier = options?.identifier || getIdProp;\n\n  return items.map((item) => identify(item, identifier));\n};\n\nexport default useItemIdentify;\n","import React, { useState } from 'react';\n\nconst childRowForRule = (item, idx, DetailsComponent) => ({\n  parent: idx * 2,\n  cells: [\n    { title: <DetailsComponent rule={item} key={'item-' + item.rowId} /> },\n  ],\n});\n\nconst itemDetailsRow = (item, idx, options) =>\n  typeof options?.detailsComponent !== 'undefined' &&\n  childRowForRule(item, idx, options.detailsComponent);\n\nconst useExpandable = (options) => {\n  const enableExpanbale = !!options.detailsComponent;\n  const [openItems, setOpenItems] = useState([]);\n  const onCollapse = (_event, _index, _isOpen, row) => {\n    if (openItems.includes(row.itemId)) {\n      setOpenItems(openItems.filter((itemId) => itemId !== row.itemId));\n    } else {\n      setOpenItems([...openItems, row.itemId]);\n    }\n  };\n\n  const openItem = (row, item, _columns, rowIndex) => {\n    const isOpen = openItems.includes(item.itemId);\n    const newRow = {\n      ...row,\n      isOpen,\n    };\n    const expandableRow = itemDetailsRow(item, rowIndex, options);\n\n    return [newRow, expandableRow];\n  };\n\n  return enableExpanbale\n    ? {\n        transformer: openItem,\n        tableProps: {\n          onCollapse,\n        },\n      }\n    : {};\n};\n\nexport default useExpandable;\n","import React from 'react';\n\nconst useDedicatedAction = (options) => {\n  const enableDedicatedAction = !!options.dedicatedAction;\n  const {\n    dedicatedAction: DedicatedActionOption,\n    AdditionalDedicatedActions,\n    selected,\n  } = options;\n\n  return enableDedicatedAction\n    ? {\n        toolbarProps: {\n          dedicatedAction: selected && (\n            <div>\n              {DedicatedActionOption && (\n                <DedicatedActionOption selected={selected} />\n              )}\n              {AdditionalDedicatedActions && (\n                <AdditionalDedicatedActions selected={selected} />\n              )}\n            </div>\n          ),\n        },\n      }\n    : {};\n};\n\nexport default useDedicatedAction;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Pagination, PaginationVariant } from '@patternfly/react-core';\nimport { Table, TableBody, TableHeader } from '@patternfly/react-table';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport TableToolbar from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport useTableTools from '../useTableTools';\n\nconst TableToolsTable = ({\n  items = [],\n  columns = [],\n  filters = [],\n  options = {},\n  toolbarProps: toolbarPropsProp,\n  ...tablePropsRest\n}) => {\n  const { toolbarProps, tableProps } = useTableTools(items, columns, {\n    filters,\n    toolbarProps: toolbarPropsProp,\n    tableProps: tablePropsRest,\n    ...options,\n  });\n\n  return (\n    <React.Fragment>\n      <PrimaryToolbar {...toolbarProps} />\n\n      <Table {...tableProps}>\n        <TableHeader />\n        <TableBody />\n      </Table>\n\n      <TableToolbar isFooter>\n        <Pagination\n          variant={PaginationVariant.bottom}\n          {...toolbarProps.pagination}\n        />\n      </TableToolbar>\n    </React.Fragment>\n  );\n};\n\nTableToolsTable.propTypes = {\n  items: propTypes.array.isRequired,\n  columns: propTypes.arrayOf(\n    propTypes.shape({\n      title: propTypes.node,\n      transforms: propTypes.array,\n      sortByProperty: propTypes.string,\n      sortByArray: propTypes.array,\n      sortByFunction: propTypes.func,\n      renderFunc: propTypes.func,\n    })\n  ).isRequired,\n  filters: propTypes.object,\n  options: propTypes.object,\n  toolbarProps: propTypes.object,\n};\n\nexport default TableToolsTable;\n","import useFilterConfig from './useFilterConfig';\nimport useTableSort from './useTableSort';\nimport usePaginate from './usePaginate';\nimport useRowsBuilder from './useRowsBuilder';\nimport { useBulkSelectWithItems } from './useBulkSelect';\nimport useItemIdentify from './useItemIdentify';\nimport useExpandable from './useExpandable';\nimport useDedicatedAction from './useDedicatedAction';\n\nconst useTableTools = (items = [], columns = [], options = {}) => {\n  const { toolbarProps: toolbarPropsOption, tableProps: tablePropsOption } =\n    options;\n\n  const identifiedItems = useItemIdentify(items, options);\n\n  const { tableProps: sortableTableProps, sorter } = useTableSort(\n    columns,\n    options\n  );\n\n  const {\n    toolbarProps: pagintionToolbarProps,\n    setPage,\n    paginator,\n  } = usePaginate(options);\n\n  const {\n    toolbarProps: conditionalFilterProps,\n    filter,\n    selectedFilterToolbarProps,\n  } = useFilterConfig({\n    ...options,\n    setPage,\n  });\n\n  const { transformer: openItem, tableProps: expandableProps } =\n    useExpandable(options);\n\n  const {\n    transformer: selectItem,\n    toolbarProps: bulkSelectToolbarProps,\n    tableProps: bulkSelectTableProps,\n    selectedItems,\n  } = useBulkSelectWithItems({\n    ...options,\n    items: sorter(identifiedItems),\n    filter,\n    paginator,\n    setPage,\n  });\n\n  const { toolbarProps: dedicatedActionToolbarProps } = useDedicatedAction({\n    ...options,\n    selected: selectedItems,\n    additionalDedicatedActions: [selectedFilterToolbarProps?.dedicatedAction],\n  });\n\n  const {\n    toolbarProps: rowBuilderToolbarProps,\n    tableProps: rowBuilderTableProps,\n  } = useRowsBuilder(identifiedItems, sortableTableProps.cells, {\n    emptyRows: options.emptyRows,\n    transformer: [selectItem],\n    rowTransformer: [openItem],\n    pagination: pagintionToolbarProps?.pagination,\n    paginator,\n    filter,\n    sorter,\n  });\n\n  const toolbarProps = {\n    ...pagintionToolbarProps,\n    ...bulkSelectToolbarProps,\n    ...conditionalFilterProps,\n    ...selectedFilterToolbarProps,\n    ...dedicatedActionToolbarProps,\n    ...rowBuilderToolbarProps,\n    ...toolbarPropsOption,\n  };\n\n  const tableProps = {\n    cells: columns,\n    ...rowBuilderTableProps,\n    ...sortableTableProps,\n    ...bulkSelectTableProps,\n    ...expandableProps,\n    ...tablePropsOption,\n  };\n\n  return {\n    toolbarProps,\n    tableProps,\n  };\n};\n\nexport default useTableTools;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n  Text,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { ConditionalLink } from 'PresentationalComponents';\n\nconst RuleDetailsRow = ({ rule }) => {\n  const { refId, description, identifier, references, rationale } = rule;\n  const key = `rule-child-row-${refId}`;\n\n  return (\n    <div key={key} style={{ marginTop: 'var(--pf-global--spacer--lg)' }}>\n      <Stack id={`rule-description-${key}`} className=\"margin-bottom-lg\">\n        <StackItem style={{ marginBottom: 'var(--pf-global--spacer--sm)' }}>\n          <Text className=\"pf-c-form__label\" component={TextVariants.h5}>\n            <b>Description</b>\n          </Text>\n        </StackItem>\n        <StackItem isFilled>{description}</StackItem>\n      </Stack>\n      <Stack\n        id={`rule-identifiers-references-${key}`}\n        className=\"margin-bottom-lg\"\n      >\n        <Grid>\n          {identifier && identifier.length > 0 && (\n            <GridItem span={2}>\n              <Text className=\"pf-c-form__label\" component={TextVariants.h5}>\n                <b>Identifier</b>\n              </Text>\n              <Text>\n                {identifier\n                  .map((ident, idx) => (\n                    <ConditionalLink\n                      href={ident.system}\n                      target=\"_blank\"\n                      key={`${refId}-identifier-${idx}`}\n                    >\n                      {ident.label}\n                    </ConditionalLink>\n                  ))\n                  .reduce((prev, next) => [prev, ', ', next])}\n              </Text>\n            </GridItem>\n          )}\n\n          {references && references.length > 0 && (\n            <GridItem span={10}>\n              <Text className=\"pf-c-form__label\" component={TextVariants.h5}>\n                <b>References</b>\n              </Text>\n              <Text>\n                {references\n                  .map((ref, idx) => (\n                    <ConditionalLink\n                      href={ref.href}\n                      target=\"_blank\"\n                      key={`${refId}-reference-${idx}`}\n                    >\n                      {ref.label}\n                    </ConditionalLink>\n                  ))\n                  .reduce((prev, next) => [prev, ', ', next])}\n              </Text>\n            </GridItem>\n          )}\n        </Grid>\n      </Stack>\n\n      {rationale && (\n        <Stack\n          id={`rule-rationale-${key}`}\n          style={{ marginBottom: 'var(--pf-global--spacer--lg)' }}\n        >\n          <StackItem style={{ marginBottom: 'var(--pf-global--spacer--sm)' }}>\n            <Text className=\"pf-c-form__label\" component={TextVariants.h5}>\n              <b>Rationale</b>\n            </Text>\n          </StackItem>\n          <StackItem isFilled>{rationale}</StackItem>\n        </Stack>\n      )}\n    </div>\n  );\n};\n\nRuleDetailsRow.propTypes = {\n  rule: propTypes.object,\n};\n\nexport default RuleDetailsRow;\n","import React from 'react';\nimport {\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport { EmptyTable } from '@redhat-cloud-services/frontend-components/EmptyTable';\n\nconst emptyRows = (columns) => [\n  {\n    cells: [\n      {\n        title: (\n          <EmptyTable>\n            <Bullseye>\n              <EmptyState variant={EmptyStateVariant.full}>\n                <Title headingLevel=\"h5\" size=\"lg\">\n                  No matching rules found\n                </Title>\n                <EmptyStateBody>\n                  This filter criteria matches no rules. <br /> Try changing\n                  your filter settings.\n                </EmptyStateBody>\n              </EmptyState>\n            </Bullseye>\n          </EmptyTable>\n        ),\n        props: {\n          colSpan: columns.length,\n        },\n      },\n    ],\n  },\n];\n\nexport default emptyRows;\n","import React from 'react';\nimport {\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  QuestionCircleIcon,\n} from '@patternfly/react-icons';\nimport { LowSeverityIcon } from './Cells';\n\nexport const HIGH_SEVERITY = (\n  <span>\n    <ExclamationCircleIcon className=\"ins-u-failed\" /> High\n  </span>\n);\nexport const MEDIUM_SEVERITY = (\n  <span>\n    <ExclamationTriangleIcon className=\"ins-u-warning\" /> Medium\n  </span>\n);\nexport const LOW_SEVERITY = (\n  <span>\n    <LowSeverityIcon /> Low\n  </span>\n);\nexport const UNKNOWN_SEVERITY = (\n  <span>\n    <QuestionCircleIcon /> Unknown\n  </span>\n);\n","import {\n  HIGH_SEVERITY,\n  MEDIUM_SEVERITY,\n  LOW_SEVERITY,\n  UNKNOWN_SEVERITY,\n} from './Constants';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\n\nconst filterRulesWithAllValues = (rules, values, valueCheck) =>\n  rules.filter(\n    (rule) =>\n      values.map((value) => valueCheck(rule, value)).filter((v) => !!v).length >\n      0\n  );\n\nconst anyFilterApply = (rules, values, valueCheck) => {\n  let filteredRules = [];\n  rules.forEach((rule) => {\n    if (\n      values.map((value) => valueCheck(rule, value)).filter((v) => !!v).length >\n      0\n    ) {\n      filteredRules.push(rule);\n    }\n  });\n  return filteredRules;\n};\n\nconst BASE_FILTER_CONFIGURATION = [\n  {\n    type: conditionalFilterType.text,\n    label: 'Name',\n    filter: (rules, value) =>\n      filterRulesWithAllValues(\n        rules,\n        [value],\n        (rule, value) =>\n          rule.title.toLowerCase().includes(value.toLowerCase()) ||\n          (rule.identifier &&\n            rule.identifier.label\n              .toLowerCase()\n              .includes(value.toLowerCase())) ||\n          rule.references.filter((reference) =>\n            reference.label.toLowerCase().includes(value.toLowerCase())\n          ).length > 0\n      ),\n  },\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'Severity',\n    items: [\n      { label: HIGH_SEVERITY, value: 'high' },\n      { label: MEDIUM_SEVERITY, value: 'medium' },\n      { label: LOW_SEVERITY, value: 'low' },\n      { label: UNKNOWN_SEVERITY, value: 'unknown' },\n    ],\n    filter: (rules, values) =>\n      anyFilterApply(rules, values, (rule, value) => rule.severity === value),\n  },\n];\n\nconst PASS_FILTER_CONFIG = {\n  type: conditionalFilterType.checkbox,\n  label: 'Passed',\n  items: [\n    { label: 'Passed rules', value: 'passed' },\n    { label: 'Failed rules', value: 'failed' },\n  ],\n  filter: (rules, values) =>\n    anyFilterApply(\n      rules,\n      values,\n      (rule, value) => rule.compliant === (value === 'passed')\n    ),\n};\n\nexport const policiesFilterConfig = (policies) => ({\n  type: conditionalFilterType.checkbox,\n  label: 'Policy',\n  items: policies.map((policy) => ({ label: policy.name, value: policy.id })),\n  filter: (rules, values) =>\n    filterRulesWithAllValues(\n      rules,\n      values,\n      (rule, value) =>\n        (rule.profile.policy ? rule.profile.policy.id : rule.profile.id) ===\n        value\n    ),\n});\n\nexport const REMEDIATION_AVAILABLE_FILTER_CONFIG = {\n  type: conditionalFilterType.checkbox,\n  label: 'Remediation available',\n  items: [{ label: 'Remediation available', value: 'true' }],\n  filter: (rules, value) =>\n    rules.filter((rule) =>\n      value[0] === 'true' ? rule.remediationAvailable === true : true\n    ),\n};\n\nconst buildFilterConfig = ({\n  showPassFailFilter,\n  policies,\n  remediationAvailableFilter,\n}) => {\n  const config = [...BASE_FILTER_CONFIGURATION];\n\n  if (showPassFailFilter) {\n    config.push(PASS_FILTER_CONFIG);\n  }\n\n  if (policies && policies.length > 1) {\n    config.push(policiesFilterConfig(policies));\n  }\n\n  if (remediationAvailableFilter) {\n    config.push(REMEDIATION_AVAILABLE_FILTER_CONFIG);\n  }\n\n  return config;\n};\n\nexport default buildFilterConfig;\n","import React from 'react';\nimport propTypes from 'prop-types';\n// eslint-disable-next-line\nimport ComplianceRemediationButton from 'PresentationalComponents/ComplianceRemediationButton';\nimport { TableToolsTable } from 'Utilities/hooks/useTableTools';\nimport { toRulesArrayWithProfile } from 'Utilities/ruleHelpers';\nimport RuleDetailsRow from './RuleDetailsRow';\nimport emptyRows from './EmptyRows';\nimport buildFilterConfig from './Filters';\nimport * as Columns from './Columns';\n\nconst RulesTable = ({\n  system,\n  profileRules,\n  columns = [\n    Columns.Name,\n    Columns.Policy,\n    Columns.Severity,\n    Columns.Passed,\n    Columns.Ansible,\n  ],\n  remediationsEnabled = true,\n  remediationAvailableFilter = false,\n  selectedFilter = false,\n  handleSelect,\n  selectedRefIds = [],\n  hidePassed = false,\n  options,\n  ...rulesTableProps\n}) => {\n  const rules = toRulesArrayWithProfile(profileRules);\n  const showPassFailFilter =\n    columns.filter((c) => c.title === 'Passed').length > 0;\n  const policies = profileRules\n    .filter(({ profile }) => !!profile)\n    .map(({ profile }) => ({\n      id: profile.policy ? profile.policy.id : profile.id,\n      name: profile.name,\n    }));\n\n  const remediationAction = ({ selected: selectedRules }) => (\n    <ComplianceRemediationButton\n      allSystems={[\n        {\n          id: system.id,\n          profiles: system.testResultProfiles,\n          ruleObjectsFailed: [],\n          supported: system.supported,\n        },\n      ]}\n      selectedRules={(selectedRules || []).filter(\n        (rule) => rule.remediationAvailable\n      )}\n    />\n  );\n\n  return (\n    <TableToolsTable\n      aria-label=\"Rules Table\"\n      items={rules}\n      columns={columns}\n      filters={{\n        filterConfig: buildFilterConfig({\n          showPassFailFilter,\n          policies,\n          remediationAvailableFilter,\n        }),\n        ...(hidePassed && {\n          activeFilters: {\n            passed: ['failed'],\n          },\n        }),\n      }}\n      options={{\n        ...options,\n        identifier: (item) => item.refId,\n        selectable: !!handleSelect || remediationsEnabled,\n        onSelect: handleSelect,\n        preselected: selectedRefIds,\n        detailsComponent: RuleDetailsRow,\n        emptyRows: emptyRows(columns),\n        selectedFilter,\n        ...(remediationsEnabled ? { dedicatedAction: remediationAction } : {}),\n      }}\n      {...rulesTableProps}\n    />\n  );\n};\n\nRulesTable.propTypes = {\n  profileRules: propTypes.array,\n  loading: propTypes.bool,\n  hidePassed: propTypes.bool,\n  system: propTypes.object,\n  remediationsEnabled: propTypes.bool,\n  remediationAvailableFilter: propTypes.bool,\n  selectedRefIds: propTypes.array,\n  selectedFilter: propTypes.bool,\n  handleSelect: propTypes.func,\n  columns: propTypes.array,\n  options: propTypes.object,\n};\n\nexport default RulesTable;\n","const OsVersionText = ({ profile, newOsMinorVersion }) =>\n  `RHEL${'\\u00A0'}${profile.osMajorVersion}.${\n    profile.osMinorVersion || newOsMinorVersion\n  }`;\n\nexport default OsVersionText;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport {\n  Text,\n  TextVariants,\n  TextContent,\n  Grid,\n  Spinner,\n  Badge,\n  Popover,\n} from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport {\n  StateViewWithError,\n  StateViewPart,\n  SupportedSSGVersionsLink,\n  RulesTable,\n} from 'PresentationalComponents';\nimport { pluralize } from 'Utilities/TextHelper';\nimport OsVersionText from './OsVersionText';\n\nconst ProfileSystemCount = ({ count = 0 }) => (\n  <Badge isRead>{`${count} ${pluralize(count, 'system')}`}</Badge>\n);\n\nProfileSystemCount.propTypes = {\n  profile: propTypes.object,\n  count: propTypes.number,\n};\n\nconst SSGVersionText = ({ profile, newOsMinorVersion }) => (\n  <Text component={TextVariants.p}>\n    SSG version: {profile.ssgVersion}{' '}\n    <Popover\n      position=\"right\"\n      bodyContent={<SSGPopoverBody {...{ profile, newOsMinorVersion }} />}\n      footerContent={<SupportedSSGVersionsLink />}\n    >\n      <span style={{ cursor: 'pointer' }}>\n        <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n      </span>\n    </Popover>\n  </Text>\n);\n\nSSGVersionText.propTypes = {\n  profile: propTypes.object.isRequired,\n  newOsMinorVersion: propTypes.string,\n};\n\nconst SSGPopoverBody = ({ profile, newOsMinorVersion }) => (\n  <TextContent style={{ fontSize: 'var(--pf-c-popover--FontSize)' }}>\n    <Text>\n      This is the latest supported version of the SCAP Security Guide (SSG) for{' '}\n      <OsVersionText {...{ profile, newOsMinorVersion }} />\n    </Text>\n    <Text>\n      <OsVersionText {...{ profile, newOsMinorVersion }} /> systems assigned to\n      this policy will report using this rule list.\n    </Text>\n  </TextContent>\n);\n\nSSGPopoverBody.propTypes = {\n  profile: propTypes.object.isRequired,\n  newOsMinorVersion: propTypes.string,\n};\n\nconst BENCHMARK_QUERY = gql`\n  query benchmarkQuery($id: String!) {\n    benchmark(id: $id) {\n      id\n      osMajorVersion\n      rules {\n        id\n        title\n        severity\n        rationale\n        refId\n        description\n        remediationAvailable\n        identifier\n      }\n    }\n  }\n`;\n\nconst ProfileTabContent = ({\n  profile,\n  columns,\n  handleSelect,\n  systemCount,\n  selectedRuleRefIds,\n  rulesTableProps,\n  newOsMinorVersion,\n}) => {\n  const {\n    data: benchmark,\n    error,\n    loading,\n  } = useQuery(BENCHMARK_QUERY, {\n    variables: {\n      id: profile.benchmark.id,\n    },\n    skip: !handleSelect || !profile.benchmark?.id,\n  });\n  const rules = handleSelect ? benchmark?.benchmark?.rules : profile?.rules;\n\n  return (\n    <React.Fragment>\n      <Grid>\n        <TextContent className=\"pf-u-mt-md\">\n          <Text component={TextVariants.h3}>\n            <span className=\"pf-u-pr-sm\">\n              <OsVersionText {...{ profile, newOsMinorVersion }} />\n            </span>\n            <ProfileSystemCount count={systemCount} />\n          </Text>\n          <SSGVersionText {...{ profile, newOsMinorVersion }} />\n        </TextContent>\n      </Grid>\n      <StateViewWithError stateValues={{ error, loading, rules }}>\n        <StateViewPart stateKey=\"loading\">\n          <Spinner />\n        </StateViewPart>\n        <StateViewPart stateKey=\"rules\">\n          <RulesTable\n            remediationAvailableFilter\n            remediationsEnabled={false}\n            columns={columns}\n            profileRules={[{ profile, rules: rules || [] }]}\n            selectedRefIds={selectedRuleRefIds}\n            handleSelect={\n              handleSelect &&\n              ((selectedRuleRefIds) =>\n                handleSelect(profile, newOsMinorVersion, selectedRuleRefIds))\n            }\n            {...rulesTableProps}\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </React.Fragment>\n  );\n};\n\nProfileTabContent.propTypes = {\n  profile: propTypes.object,\n  newOsMinorVersion: propTypes.string,\n  columns: propTypes.array,\n  handleSelect: propTypes.func,\n  systemCount: propTypes.object,\n  selectedRuleRefIds: propTypes.array,\n  rulesTableProps: propTypes.object,\n};\n\nexport default ProfileTabContent;\n","// Rule selection utilities\n\nexport const matchesSelectionItem = (\n  selectionItem,\n  profile,\n  newOsMinorVersion\n) =>\n  selectionItem.id === profile.id &&\n  selectionItem.osMinorVersion ===\n    (newOsMinorVersion || profile.osMinorVersion);\n\nexport const selectedRuleRefIdsForTab = (\n  selectedRuleRefIds,\n  profile,\n  newOsMinorVersion\n) => {\n  const tabSelection = (selectedRuleRefIds || []).find((selectionItem) =>\n    matchesSelectionItem(selectionItem, profile, newOsMinorVersion)\n  );\n  return tabSelection?.ruleRefIds || [];\n};\n\nexport const profilesWithRulesToSelection = (\n  profiles,\n  prevSelection = [],\n  options = {}\n) => {\n  const { only } = options;\n  const additionalSelection = profiles\n    .map((profile) => {\n      const foundSelection = prevSelection.find((selectionItem) =>\n        matchesSelectionItem(selectionItem, profile)\n      );\n      if (!foundSelection) {\n        if (!profile.rules) {\n          console.error(\n            `Profile ${profile.id} is missing rules for selection!`\n          );\n        }\n\n        if (!profile.osMinorVersion) {\n          console.error(\n            `Profile ${profile.id} is missing osMinorVersion for selection!`\n          );\n        }\n\n        return {\n          id: profile.id,\n          osMinorVersion: profile.osMinorVersion,\n          ruleRefIds: profile.rules?.map((rule) => rule.refId) || [],\n        };\n      } else if (only) {\n        return foundSelection;\n      }\n    })\n    .filter((v) => !!v);\n\n  return only\n    ? additionalSelection\n    : [...prevSelection, ...additionalSelection];\n};\n\nexport const tabsDataToOsMinorMap = (tabsData) => {\n  const osMinorMap = {};\n  tabsData.forEach(({ profile, newOsMinorVersion }) => {\n    if (profile?.id) {\n      const osMinorVersion = newOsMinorVersion || profile.osMinorVersion;\n      osMinorMap[profile.id] = [\n        ...(osMinorMap[profile.id] || []),\n        osMinorVersion,\n      ];\n    }\n  });\n  return osMinorMap;\n};\n\nexport const extendProfilesByOsMinor = (profiles, osMinorMap) =>\n  profiles.flatMap((profile) =>\n    (osMinorMap[profile.id] || [undefined]).map((osMinorVersion) => ({\n      ...profile,\n      osMinorVersion,\n    }))\n  );\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Tab, Badge } from '@patternfly/react-core';\nimport { RoutedTabs } from 'PresentationalComponents';\nimport ProfileTabContent from './ProfileTabContent';\nimport OsVersionText from './OsVersionText';\nimport {\n  selectedRuleRefIdsForTab,\n  matchesSelectionItem,\n} from './ruleSelection';\n\nconst eventKey = ({ id, osMinorVersion }, newOsMinorVersion) =>\n  `rules-${id}-${osMinorVersion || newOsMinorVersion}`;\n\nconst getDefaultTab = (tabsData, defaultTab) => {\n  if (!tabsData || tabsData.length === 0) {\n    return;\n  }\n\n  if (!defaultTab) {\n    const firstTab = tabsData[0];\n    defaultTab = {\n      id: firstTab.profile.id,\n      osMinorVersion:\n        firstTab.profile.osMinorVersion || firstTab.newOsMinorVersion,\n    };\n  }\n\n  return eventKey(defaultTab);\n};\n\nconst TabbedRules = ({\n  tabsData,\n  defaultTab,\n  selectedRuleRefIds,\n  setSelectedRuleRefIds,\n  columns,\n  level = 0,\n  ...rulesTableProps\n}) => {\n  const handleSelect = (\n    profile,\n    newOsMinorVersion,\n    profileSelectedRuleRefIds\n  ) => {\n    const filteredSelection = (selectedRuleRefIds || []).filter(\n      (selectionItem) =>\n        !matchesSelectionItem(selectionItem, profile, newOsMinorVersion)\n    );\n\n    const newItem = {\n      id: profile.id,\n      osMinorVersion: newOsMinorVersion || profile.osMinorVersion,\n      ruleRefIds: profileSelectedRuleRefIds,\n    };\n    setSelectedRuleRefIds([newItem, ...filteredSelection]);\n  };\n\n  return (\n    <RoutedTabs level={level} defaultTab={getDefaultTab(tabsData, defaultTab)}>\n      {tabsData?.map(({ profile, newOsMinorVersion, systemCount }) => (\n        <Tab\n          key={eventKey(profile, newOsMinorVersion)}\n          eventKey={eventKey(profile, newOsMinorVersion)}\n          title={\n            <span>\n              <span className=\"pf-u-pr-sm\">\n                <OsVersionText\n                  profile={profile}\n                  newOsMinorVersion={newOsMinorVersion}\n                />\n              </span>\n              <Badge isRead>{systemCount}</Badge>\n            </span>\n          }\n        >\n          <ProfileTabContent\n            {...{\n              profile,\n              newOsMinorVersion,\n              columns,\n              rulesTableProps,\n              systemCount,\n              selectedRuleRefIds: selectedRuleRefIdsForTab(\n                selectedRuleRefIds,\n                profile,\n                newOsMinorVersion\n              ),\n              handleSelect: setSelectedRuleRefIds ? handleSelect : undefined,\n            }}\n          />\n        </Tab>\n      ))}\n    </RoutedTabs>\n  );\n};\n\nTabbedRules.propTypes = {\n  tabsData: propTypes.arrayOf(\n    propTypes.shape({\n      profile: propTypes.object.isRequired,\n      selectedRuleRefIds: propTypes.arrayOf(propTypes.string),\n      newOsMinorVersion: propTypes.string,\n      systemCount: propTypes.number,\n    })\n  ).isRequired,\n  selectedRuleRefIds: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.string,\n      ruleRefIds: propTypes.arrayOf(propTypes.string),\n    })\n  ),\n  setSelectedRuleRefIds: propTypes.func,\n  columns: propTypes.arrayOf(propTypes.object),\n  defaultTab: propTypes.shape({\n    id: propTypes.string,\n    osMinorVersion: propTypes.string,\n  }),\n  level: propTypes.number,\n};\n\nexport default TabbedRules;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Popover, Tooltip, Text } from '@patternfly/react-core';\nimport {\n  ExclamationTriangleIcon,\n  OutlinedQuestionCircleIcon,\n} from '@patternfly/react-icons';\nimport { SupportedSSGVersionsLink } from 'PresentationalComponents';\n\nexport const supportedConfigsLink =\n  'https://access.redhat.com/documentation/en-us/red_hat_insights/2020-10/' +\n  'html/assessing_and_monitoring_security_policy_compliance_of_rhel_systems/' +\n  'con-compl-assess-overview_compl-assess-overview#con-compl-assess-supported-configurations_compl-assess-overview';\n\nconst UNSUPPORTED_SINGULAR_MESSAGE =\n  'This system was using an incompatible version of the SSG at the time this report was generated. ' +\n  'Assessment of rules failed/passed on this system is a best-guess effort and may not be accurate.';\nconst UNSUPPORTED_PLURAL_MESSAGE = (\n  <React.Fragment>\n    <Text variant=\"p\" style={{ marginBottom: '1rem' }}>\n      These systems are running unsupported versions of the SCAP Security Guide\n      (SSG) for the version of RHEL installed on them. Assessment of rules\n      failed/passed on these systems is a best-guess effort and may not be\n      accurate.\n    </Text>\n    <Text variant=\"p\">\n      The policy&apos;s compliance score excludes these systems.\n    </Text>\n  </React.Fragment>\n);\n\nconst WarningWithPopover = ({ children, variant = 'plural' }) => (\n  <Popover\n    id=\"unsupported-popover\"\n    maxWidth=\"25rem\"\n    headerContent=\"Unsupported SSG versions\"\n    bodyContent={\n      variant === 'plural'\n        ? UNSUPPORTED_PLURAL_MESSAGE\n        : UNSUPPORTED_SINGULAR_MESSAGE\n    }\n    footerContent={<SupportedSSGVersionsLink />}\n  >\n    {children}\n  </Popover>\n);\n\nWarningWithPopover.propTypes = {\n  children: propTypes.node,\n  variant: propTypes.oneOf(['singular', 'plural']),\n};\n\nconst WarningWithTooltip = ({ children, content }) => (\n  <Tooltip content={content} position=\"bottom\">\n    {children}\n  </Tooltip>\n);\n\nWarningWithTooltip.propTypes = {\n  content: propTypes.string,\n  children: propTypes.node,\n};\n\nconst TooltipOrPopover = ({ variant, children, tooltipProps }) => {\n  const { Component, componentProps } = {\n    tooltip: {\n      Component: WarningWithTooltip,\n      componentProps: tooltipProps,\n    },\n    popover: {\n      Component: WarningWithPopover,\n      componentProps: {\n        showHeader: tooltipProps.showPopupHeader,\n        variant: tooltipProps.messageVariant,\n      },\n    },\n  }[variant];\n\n  return <Component {...componentProps}>{children}</Component>;\n};\n\nTooltipOrPopover.propTypes = {\n  children: propTypes.node,\n  variant: propTypes.oneOf(['tooltip', 'popover']),\n  tooltipProps: propTypes.object,\n};\n\nconst UnsupportedSSGVersion = ({\n  children,\n  showWarningIcon = true,\n  showHelpIcon = false,\n  style,\n  tooltipText,\n  messageVariant,\n}) => {\n  const tooltipProps = {\n    ...(tooltipText && { content: <div>{tooltipText}</div> }),\n    messageVariant,\n  };\n  const variant = tooltipText ? 'tooltip' : 'popover';\n  const iconProps = {\n    variant,\n    tooltipProps,\n  };\n  const defaultStyle = !tooltipText ? { cursor: 'pointer' } : {};\n\n  return (\n    <span style={{ ...style, display: 'inline-block' }}>\n      {showWarningIcon && (\n        <TooltipOrPopover {...iconProps}>\n          <span style={defaultStyle} className=\"pf-u-mr-xs\">\n            <ExclamationTriangleIcon color=\"var(--pf-global--warning-color--100)\" />\n          </span>\n        </TooltipOrPopover>\n      )}\n\n      {children}\n\n      {showHelpIcon && (\n        <TooltipOrPopover {...iconProps}>\n          <span style={defaultStyle} className=\"pf-u-ml-xs\">\n            <OutlinedQuestionCircleIcon />\n          </span>\n        </TooltipOrPopover>\n      )}\n    </span>\n  );\n};\n\nUnsupportedSSGVersion.propTypes = {\n  showWarningIcon: propTypes.bool,\n  showHelpIcon: propTypes.bool,\n  style: propTypes.object,\n  tooltipText: propTypes.string,\n  children: propTypes.node,\n  variant: propTypes.string,\n  messageVariant: propTypes.string,\n  showPopupHeader: propTypes.bool,\n};\n\nexport default UnsupportedSSGVersion;\n","import React from 'react';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table';\nimport RowLoader from '@redhat-cloud-services/frontend-components-utilities/RowLoader';\n\nconst LoadingPoliciesTable = () => (\n  <Table\n    aria-label=\"policies-table\"\n    ouiaId=\"PoliciesTable\"\n    cells={[\n      { title: 'Policy name' },\n      { title: 'Operating system' },\n      { title: 'Systems' },\n      { title: 'Business initiative' },\n      { title: 'Compliance threshold' },\n    ]}\n    rows={[...Array(5)].map(() => ({\n      cells: [\n        {\n          title: <RowLoader />,\n          colSpan: 5,\n        },\n      ],\n    }))}\n  >\n    <TableHeader />\n    <TableBody />\n  </Table>\n);\n\nexport default LoadingPoliciesTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Title, Button, Text } from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport InvalidObject from '@redhat-cloud-services/frontend-components/InvalidObject';\nimport NotAuthorized from '@redhat-cloud-services/frontend-components/NotAuthorized';\n\nconst ErrorPage = ({ error, ...props }) => {\n  if (error.networkError && error.networkError.statusCode === 401) {\n    window.insights.chrome.auth.logout(true);\n    return false;\n  }\n\n  if (error.networkError && error.networkError.statusCode === 403) {\n    return <NotAuthorized serviceName=\"Compliance\" />;\n  }\n\n  if (error.networkError && error.networkError.statusCode === 404) {\n    return <InvalidObject />;\n  }\n\n  return (\n    <section\n      {...props}\n      className=\"pf-l-page__main-section pf-c-page__main-section ins-c-component_invalid-componet\"\n    >\n      <ExclamationCircleIcon\n        size=\"xl\"\n        style={{ color: 'var(--pf-global--danger-color--100)' }}\n      />\n      <Title headingLevel=\"h1\">There was an error</Title>\n      <Text>\n        If you need to contact Red Hat Support about this, this is the exact\n        error:\n        <Text>{error.message}</Text>\n      </Text>\n      <Button\n        variant=\"link\"\n        ouiaId=\"ErrorPageGoBackButton\"\n        onClick={history.goBack}\n      >\n        Go back\n      </Button>\n    </section>\n  );\n};\n\nErrorPage.propTypes = {\n  error: propTypes.object,\n};\n\nexport default ErrorPage;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text, TextVariants } from '@patternfly/react-core';\n\nexport const GreySmallText = ({ children }) => (\n  <Text\n    style={{ color: 'var(--pf-global--Color--200)' }}\n    component={TextVariants.small}\n  >\n    {children}\n  </Text>\n);\n\nGreySmallText.propTypes = {\n  children: propTypes.node,\n};\n\nexport default GreySmallText;\n","import React from 'react';\nimport { Field } from 'redux-form';\nimport propTypes from 'prop-types';\nimport { Checkbox } from '@patternfly/react-core';\n\nconst CheckboxFieldArray = ({ input, options }) => {\n  const { name, onChange } = input;\n  const inputValue = input.value;\n\n  const handleChange = (checked, value) => {\n    const arr = [...new Set(inputValue)];\n    if (checked) {\n      arr.push(value);\n    } else {\n      arr.splice(arr.indexOf(value), 1);\n    }\n\n    return onChange(arr);\n  };\n\n  return (\n    <React.Fragment>\n      {options.map(({ label, value, defaultChecked }, index) => (\n        <Checkbox\n          key={value}\n          id={value}\n          label={label}\n          name={`${name}[${index}]`}\n          value={value}\n          isChecked={\n            inputValue === '' ? defaultChecked : inputValue.includes(value)\n          }\n          onChange={(checked) => handleChange(checked, value)}\n        />\n      ))}\n    </React.Fragment>\n  );\n};\n\nCheckboxFieldArray.propTypes = {\n  input: propTypes.shape({\n    name: propTypes.string.isRequired,\n    onChange: propTypes.func,\n    value: propTypes.string,\n  }),\n  options: propTypes.arrayOf(\n    propTypes.shape({\n      label: propTypes.string.isRequired,\n      value: propTypes.string.isRequired,\n      defaultChecked: propTypes.bool,\n    })\n  ).isRequired,\n};\n\nconst CheckboxGroup = (props) => (\n  <Field {...props} type=\"checkbox\" component={CheckboxFieldArray} />\n);\n\nCheckboxGroup.propTypes = {\n  options: propTypes.arrayOf(\n    propTypes.shape({\n      label: propTypes.string.isRequired,\n      value: propTypes.string.isRequired,\n      defaultChecked: propTypes.bool,\n    })\n  ).isRequired,\n};\n\nexport { CheckboxFieldArray };\nexport default CheckboxGroup;\n","import React from 'react';\nimport { Field } from 'redux-form';\nimport propTypes from 'prop-types';\nimport Truncate from 'react-truncate';\nimport {\n  Grid,\n  GridItem,\n  Label,\n  TextContent,\n  TextVariants,\n  Text,\n  Tooltip,\n} from '@patternfly/react-core';\n\nconst InUseProfileLabel = () => (\n  <Tooltip\n    position=\"right\"\n    content=\"A policy of this type is already in use.\n        Only one policy per policy type can be created for a major release of RHEL.\"\n  >\n    <Label color=\"orange\" style={{ lineHeight: '1.5em' }}>\n      In use\n    </Label>\n  </Tooltip>\n);\n\nconst ProfileTypeSelect = ({ profiles, onClick }) => (\n  <React.Fragment>\n    {profiles?.length === 0 && (\n      <TextContent style={{ color: 'var(--pf-c-content--blockquote--Color)' }}>\n        <Text>Select an operating system to view policy types.</Text>\n      </TextContent>\n    )}\n\n    <Grid hasGutter>\n      {profiles.map((profile) => {\n        const { description, name, id, disabled } = profile;\n        return (\n          <React.Fragment key={`profile-select-${id}`}>\n            <GridItem span={8} rowSpan={2}>\n              <TextContent\n                style={{\n                  lineHeight: '2em',\n                  color: disabled\n                    ? 'var(--pf-c-content--blockquote--Color)'\n                    : '',\n                }}\n              >\n                <Text>\n                  <Field\n                    component=\"input\"\n                    type=\"radio\"\n                    name=\"profile\"\n                    value={JSON.stringify(profile)}\n                    onClick={() => onClick(JSON.stringify(profile))}\n                    disabled={disabled}\n                  />\n                  {` ${name} `}\n                  {disabled && <InUseProfileLabel />}\n                </Text>\n              </TextContent>\n              <TextContent\n                style={{ color: 'var(--pf-c-content--blockquote--Color)' }}\n              >\n                <Text component={TextVariants.p}>\n                  <Truncate key={`profile-select-text-${id}`} lines={3}>\n                    {description}\n                  </Truncate>\n                </Text>\n              </TextContent>\n            </GridItem>\n          </React.Fragment>\n        );\n      })}\n    </Grid>\n  </React.Fragment>\n);\n\nProfileTypeSelect.propTypes = {\n  profiles: propTypes.array,\n  onClick: propTypes.func,\n};\n\nProfileTypeSelect.defaultProps = {\n  profiles: [],\n  onClick: () => ({}),\n};\n\nexport default ProfileTypeSelect;\n","import React from 'react';\nimport {\n  QuestionCircleIcon,\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n} from '@patternfly/react-icons';\nimport { Text, Tooltip } from '@patternfly/react-core';\nimport { fixedPercentage } from 'Utilities/TextHelper';\n\nconst CompliantIcon = (system) => {\n  if (system.rulesPassed + system.rulesFailed === 0) {\n    return <QuestionCircleIcon color=\"var(--pf-global--disabled-color--100)\" />;\n  } else {\n    return system.compliant ? (\n      <CheckCircleIcon color=\"var(--pf-global--success-color--200)\" />\n    ) : (\n      <ExclamationCircleIcon color=\"var(--pf-global--danger-color--100)\" />\n    );\n  }\n};\n\nexport const complianceScoreString = (system) => {\n  if (system.supported === false) {\n    return ' Unsupported';\n  } else if (system.rulesPassed + system.rulesFailed === 0) {\n    return ' N/A';\n  }\n\n  return ' ' + fixedPercentage(system.score);\n};\n\nconst ComplianceScore = (system) => (\n  <Text>\n    {system.supported ? (\n      <Tooltip\n        content={\n          'The system compliance score is calculated by OpenSCAP and ' +\n          'is a normalized weighted sum of rules selected for this policy.'\n        }\n      >\n        <CompliantIcon\n          key={`system-compliance-icon-${system.id}`}\n          {...system}\n        />\n        {complianceScoreString(system)}\n      </Tooltip>\n    ) : (\n      complianceScoreString(system)\n    )}\n  </Text>\n);\n\nexport default ComplianceScore;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst PolicyDetailsContentLoader = () => (\n  <ContentLoader\n    speed={2}\n    width={1000}\n    height={400}\n    viewBox=\"0 0 1000 400\"\n    backgroundcolor=\"#f3f3f3\"\n    foregroundcolor=\"#ecebeb\"\n  >\n    <rect x=\"-3\" y=\"7\" rx=\"3\" ry=\"3\" width=\"760\" height=\"19\" />\n    <rect x=\"823\" y=\"3\" rx=\"3\" ry=\"3\" width=\"67\" height=\"29\" />\n    <rect x=\"910\" y=\"3\" rx=\"3\" ry=\"3\" width=\"67\" height=\"29\" />\n    <rect x=\"6\" y=\"54\" rx=\"0\" ry=\"0\" width=\"46\" height=\"19\" />\n    <rect x=\"68\" y=\"54\" rx=\"0\" ry=\"0\" width=\"46\" height=\"19\" />\n    <rect x=\"133\" y=\"54\" rx=\"0\" ry=\"0\" width=\"46\" height=\"19\" />\n    <rect x=\"3\" y=\"110\" rx=\"0\" ry=\"0\" width=\"255\" height=\"17\" />\n    <rect x=\"1\" y=\"149\" rx=\"0\" ry=\"0\" width=\"47\" height=\"16\" />\n    <rect x=\"1\" y=\"185\" rx=\"0\" ry=\"0\" width=\"255\" height=\"17\" />\n    <rect x=\"-1\" y=\"224\" rx=\"0\" ry=\"0\" width=\"187\" height=\"16\" />\n    <rect x=\"-4\" y=\"267\" rx=\"0\" ry=\"0\" width=\"255\" height=\"17\" />\n    <rect x=\"-6\" y=\"306\" rx=\"0\" ry=\"0\" width=\"47\" height=\"16\" />\n    <rect x=\"-6\" y=\"342\" rx=\"0\" ry=\"0\" width=\"255\" height=\"17\" />\n    <rect x=\"-8\" y=\"381\" rx=\"0\" ry=\"0\" width=\"187\" height=\"16\" />\n  </ContentLoader>\n);\n\nexport default PolicyDetailsContentLoader;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst ReportDetailsContentLoader = () => (\n  <ContentLoader\n    height={320}\n    width={1550}\n    speed={2}\n    primaryColor=\"#f3f3f3\"\n    secondaryColor=\"#ecebeb\"\n  >\n    <rect x=\"18\" y=\"50\" rx=\"4\" ry=\"4\" width=\"478\" height=\"15\" />\n    <rect x=\"19\" y=\"18\" rx=\"3\" ry=\"3\" width=\"220\" height=\"9\" />\n    <circle cx=\"118\" cy=\"156\" r=\"73\" />\n    <rect x=\"1002\" y=\"40\" rx=\"0\" ry=\"0\" width=\"69\" height=\"23\" />\n    <rect x=\"47\" y=\"77\" rx=\"0\" ry=\"0\" width=\"0\" height=\"0\" />\n    <rect x=\"36\" y=\"77\" rx=\"0\" ry=\"0\" width=\"16\" height=\"0\" />\n    <rect x=\"409\" y=\"149\" rx=\"0\" ry=\"0\" width=\"0\" height=\"0\" />\n    <rect x=\"214\" y=\"145\" rx=\"0\" ry=\"0\" width=\"205\" height=\"9\" />\n    <rect x=\"216\" y=\"119\" rx=\"0\" ry=\"0\" width=\"205\" height=\"9\" />\n    <rect x=\"526\" y=\"100\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"526\" y=\"122\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"526\" y=\"146\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"527\" y=\"170\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"527\" y=\"194\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"527\" y=\"218\" rx=\"0\" ry=\"0\" width=\"431\" height=\"8\" />\n    <rect x=\"529\" y=\"275\" rx=\"0\" ry=\"0\" width=\"231\" height=\"7\" />\n  </ContentLoader>\n);\n\nexport default ReportDetailsContentLoader;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { fixedPercentage } from 'Utilities/TextHelper';\nimport {\n  PolicyBusinessObjectiveTooltip,\n  PolicyThresholdTooltip,\n} from 'PresentationalComponents';\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  TextContent,\n  TextVariants,\n  Text,\n} from '@patternfly/react-core';\nimport Truncate from '@redhat-cloud-services/frontend-components/Truncate';\nimport linkifyHtml from 'linkifyjs/html';\n\nconst PolicyDetailsDescription = ({ policy }) => (\n  <Card ouiaId=\"PolicyDetailsCard\">\n    <CardHeader>\n      <Text style={{ fontSize: 20 }}>\n        <b>Policy details</b>\n      </Text>\n    </CardHeader>\n    <CardBody>\n      <TextContent>\n        <Text component={TextVariants.h5}>\n          Compliance threshold\n          <PolicyThresholdTooltip />\n        </Text>\n        <Text className=\"threshold-tooltip\" component={TextVariants.p}>\n          {fixedPercentage(policy.complianceThreshold, 1)}\n        </Text>\n        <Text component={TextVariants.h5}>\n          Business objective\n          <PolicyBusinessObjectiveTooltip />\n        </Text>\n        <Text component={TextVariants.p}>\n          {(policy.businessObjective && policy.businessObjective.title) || '-'}\n        </Text>\n        <Text component={TextVariants.h5}>Policy description</Text>\n        <Text component={TextVariants.p}>\n          <Truncate\n            text={linkifyHtml(policy.description || '')}\n            length={380}\n            inline={true}\n          />\n        </Text>\n        <Text component={TextVariants.h5}>Operating system</Text>\n        <Text component={TextVariants.p}>RHEL {policy.majorOsVersion}</Text>\n        <Text component={TextVariants.h5}>Policy type </Text>\n        <Text component={TextVariants.p}>{policy.policyType}</Text>\n        <Text component={TextVariants.h5}>Reference ID</Text>\n        <Text component={TextVariants.p}>{policy.refId}</Text>\n      </TextContent>\n    </CardBody>\n  </Card>\n);\n\nPolicyDetailsDescription.propTypes = {\n  policy: propTypes.object,\n};\n\nexport default PolicyDetailsDescription;\n","import React from 'react';\nimport { fixedPercentage } from 'Utilities/TextHelper';\nimport propTypes from 'prop-types';\nimport {\n  Text,\n  TextContent,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\n\nconst PropTypes = {\n  children: propTypes.node,\n};\n\nconst Dt = ({ children, ...props }) => (\n  <TextListItem {...props} component={TextListItemVariants.dt}>\n    {children}\n  </TextListItem>\n);\nDt.propTypes = PropTypes;\n\nconst Dd = ({ children, ...props }) => (\n  <TextListItem {...props} component={TextListItemVariants.dd}>\n    {children}\n  </TextListItem>\n);\nDd.propTypes = PropTypes;\n\nconst PolicyDescription = ({ profile }) => (\n  <React.Fragment>\n    <TextList component={TextListVariants.dl}>\n      <Dt>\n        <Text className=\"ins-c-non-bold-h2\">Policy details</Text>\n      </Dt>\n      <Dt>Operating system</Dt>\n      <Dd>RHEL {profile.majorOsVersion}</Dd>\n      <Dt>Compliance threshold</Dt>\n      <Dd>{fixedPercentage(profile.complianceThreshold, 1)}</Dd>\n      <Dt>Business objective</Dt>\n      <Dd>\n        {profile.businessObjective ? profile.businessObjective.title : '--'}\n      </Dd>\n    </TextList>\n    <Link to={'/scappolicies/' + profile.policy.id}>View policy</Link>\n  </React.Fragment>\n);\n\nPolicyDescription.propTypes = {\n  profile: propTypes.shape({\n    id: propTypes.string,\n    complianceThreshold: propTypes.number,\n    businessObjective: propTypes.object,\n    majorOsVersion: propTypes.string,\n    policy: propTypes.shape({\n      id: propTypes.string,\n    }),\n    benchmark: propTypes.shape({\n      version: propTypes.string,\n    }),\n  }),\n};\n\nconst ReportDetailsDescription = ({ profile }) => (\n  <TextContent className=\"policy-details\">\n    <PolicyDescription {...{ profile }} />\n  </TextContent>\n);\n\nReportDetailsDescription.propTypes = {\n  profile: propTypes.object,\n};\n\nexport default ReportDetailsDescription;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Progress,\n  ProgressVariant,\n} from '@patternfly/react-core/dist/js/components/Progress';\n\nconst ProgressBar = ({ percent, failed }) => {\n  let variant;\n  let title;\n\n  if (percent === 100) {\n    title = 'Success';\n    variant = ProgressVariant.success;\n  } else if (failed) {\n    title = 'Error';\n    variant = ProgressVariant.danger;\n  } else {\n    title = 'Progress';\n    variant = ProgressVariant.info;\n  }\n\n  return (\n    <Progress\n      id={'finished-create-policy'}\n      value={percent}\n      title={title}\n      variant={variant}\n      className=\"wizard-progress-bar\"\n    />\n  );\n};\n\nProgressBar.propTypes = {\n  percent: propTypes.number,\n  failed: propTypes.bool,\n};\n\nexport default ProgressBar;\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport { Tabs } from '@patternfly/react-core';\nimport { useAnchor } from 'Utilities/Router';\n\nexport const ContentTab = ({ children }) => children;\n\nconst useAnchorLevels = (defaultAnchor, level) => {\n  const anchor = useAnchor(defaultAnchor);\n  const levels = anchor.split('|');\n  const currentAnchor = levels[level] || defaultAnchor;\n\n  return {\n    levels,\n    currentAnchor,\n  };\n};\n\nconst TabSwitcher = (props) =>\n  props.children\n    .map((tab) => (tab.props.eventKey === props.activeKey ? tab : undefined))\n    .filter((c) => !!c);\n\nTabSwitcher.propTypes = {\n  activeTab: propTypes.number,\n  children: propTypes.node,\n};\n\nexport const RoutedTabSwitcher = ({ children, defaultTab, level }) => {\n  const { currentAnchor } = useAnchorLevels(defaultTab, level);\n\n  return children\n    .map((tab) => (tab.props.eventKey === currentAnchor ? tab : undefined))\n    .filter((c) => !!c);\n};\n\nRoutedTabSwitcher.propTypes = {\n  children: propTypes.node,\n  defaultTab: propTypes.string,\n  level: propTypes.number,\n};\n\nRoutedTabSwitcher.defaultProps = {\n  level: 0,\n};\n\nexport const RoutedTabs = ({ children, defaultTab, level, ...props }) => {\n  const { push } = useHistory();\n  const { pathname, state } = useLocation();\n  const { currentAnchor, levels } = useAnchorLevels(defaultTab, level);\n  const handleTabSelect = (e, eventKey) => {\n    e.preventDefault();\n    const tabToActivate = eventKey.replace('#', '');\n    let tabAnchor = levels;\n    tabAnchor[level] = tabToActivate;\n\n    push({\n      state,\n      to: pathname,\n      hash: tabAnchor.slice(0, level + 1).join('|'),\n    });\n  };\n\n  return (\n    <Tabs {...props} onSelect={handleTabSelect} activeKey={currentAnchor}>\n      {children}\n    </Tabs>\n  );\n};\n\nRoutedTabs.defaultProps = {\n  level: 0,\n};\n\nRoutedTabs.propTypes = {\n  children: propTypes.node,\n  defaultTab: propTypes.string,\n  level: propTypes.number,\n};\n\nexport default TabSwitcher;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { ErrorPage } from 'PresentationalComponents';\n\nexport const StateViewPart = ({ children }) => children;\n\nconst props = {\n  stateValues: propTypes.object,\n  children: propTypes.node,\n};\n\nexport const StateView = ({ stateValues, children }) =>\n  children\n    .flatMap((c) => c)\n    .filter((child) => stateValues[child.props.stateKey]);\n\nStateView.propTypes = props;\n\nexport const StateViewWithError = ({ stateValues, children }) => (\n  <StateView stateValues={stateValues}>\n    <StateViewPart key=\"error-state\" stateKey=\"error\">\n      <ErrorPage error={stateValues.error} />\n    </StateViewPart>\n    {children}\n  </StateView>\n);\n\nStateViewWithError.propTypes = props;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport { WarningText } from 'PresentationalComponents';\n\nconst WARNING_TEXT = 'Policies without systems will not have reports.';\n\nconst WithOptionalToolTip = ({ showTooltip, children }) =>\n  showTooltip ? (\n    <Tooltip position={TooltipPosition.bottom} content={WARNING_TEXT}>\n      {children}\n    </Tooltip>\n  ) : (\n    children\n  );\n\nWithOptionalToolTip.propTypes = {\n  showTooltip: propTypes.bool,\n  children: propTypes.node,\n};\n\nconst SystemsCountWarning = ({ count, variant }) => {\n  let text;\n\n  switch (variant) {\n    case 'count':\n      text = count;\n      break;\n    case 'compact':\n      text = 'No Systems';\n      break;\n    case 'full':\n      text = WARNING_TEXT;\n      break;\n    default:\n      text = count;\n  }\n\n  return (\n    <WithOptionalToolTip\n      showTooltip={variant === 'count' || variant === 'compact'}\n    >\n      <WarningText>{text}</WarningText>\n    </WithOptionalToolTip>\n  );\n};\n\nSystemsCountWarning.defaultProps = {\n  variant: 'compact',\n};\n\nSystemsCountWarning.propTypes = {\n  count: propTypes.number.isRequired,\n  variant: propTypes.string,\n};\n\nexport { WARNING_TEXT };\nexport default SystemsCountWarning;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text } from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\n\nconst WarningText = ({ children }) => (\n  <React.Fragment>\n    <ExclamationTriangleIcon className=\"ins-u-warning\" />\n    <Text component=\"span\" className=\"ins-c-warning-text\">\n      &nbsp;{children}\n    </Text>\n  </React.Fragment>\n);\n\nWarningText.propTypes = {\n  children: propTypes.node,\n};\n\nexport default WarningText;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst BackgroundLink = ({\n  to,\n  hash,\n  children,\n  state: desiredState,\n  backgroundLocation,\n  ...props\n}) => {\n  const currentLocation = useLocation();\n  const background = { ...currentLocation, ...backgroundLocation };\n  const state = { ...desiredState, background };\n\n  return (\n    <Link to={{ pathname: to, state, hash }} {...props}>\n      {children}\n    </Link>\n  );\n};\n\nBackgroundLink.propTypes = {\n  backgroundLocation: propTypes.object,\n  children: propTypes.node,\n  hash: propTypes.string,\n  state: propTypes.object,\n  to: propTypes.string.isRequired,\n};\n\nexport default BackgroundLink;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Link as ReactRouterLink } from 'react-router-dom';\nimport { BreadcrumbItem } from '@patternfly/react-core';\n\nconst RouterLink = ({ href, ...props }) => (\n  <ReactRouterLink {...props} to={href} />\n);\n\nRouterLink.propTypes = {\n  href: propTypes.string,\n};\n\nconst BreadcrumbLinkItem = ({ children, ...props }) => (\n  <BreadcrumbItem {...props} component={RouterLink}>\n    {children}\n  </BreadcrumbItem>\n);\n\nBreadcrumbLinkItem.propTypes = {\n  children: propTypes.node,\n};\n\nexport default BreadcrumbLinkItem;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { TextContent, Text, Progress } from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport {\n  PolicyPopover,\n  GreySmallText,\n  UnsupportedSSGVersion,\n} from 'PresentationalComponents';\n\nexport const Name = (profile) => (\n  <TextContent>\n    <Link to={'/reports/' + profile.id} style={{ marginRight: '.5rem' }}>\n      {profile.policy?.name}\n    </Link>\n    <React.Fragment>\n      <PolicyPopover {...{ profile, position: 'right' }} />\n      <GreySmallText>{profile.policyType}</GreySmallText>\n    </React.Fragment>\n  </TextContent>\n);\n\nName.propTypes = {\n  profile: propTypes.object,\n};\n\nexport const OperatingSystem = ({\n  majorOsVersion,\n  ssgVersion,\n  unsupportedHostCount,\n  policy,\n}) => {\n  const supported = unsupportedHostCount === 0;\n  ssgVersion = 'SSG: ' + ssgVersion;\n\n  return (\n    <React.Fragment>\n      RHEL {majorOsVersion}\n      {policy === null && ssgVersion && (\n        <Text>\n          <GreySmallText>\n            {supported ? (\n              ssgVersion\n            ) : (\n              <UnsupportedSSGVersion>{ssgVersion}</UnsupportedSSGVersion>\n            )}\n          </GreySmallText>\n        </Text>\n      )}\n    </React.Fragment>\n  );\n};\n\nOperatingSystem.propTypes = {\n  majorOsVersion: propTypes.string,\n  ssgVersion: propTypes.string,\n  unsupportedHostCount: propTypes.number,\n  policy: propTypes.object,\n};\n\nexport const CompliantSystems = ({\n  testResultHostCount = 0,\n  compliantHostCount = 0,\n  unsupportedHostCount = 0,\n}) => {\n  const tooltipText =\n    'Insights cannot provide a compliance score for systems running an unsupported ' +\n    'version of the SSG at the time this report was created, as the SSG version was not supported by RHEL.';\n  return (\n    <React.Fragment>\n      <Progress\n        measureLocation={'outside'}\n        value={\n          testResultHostCount\n            ? (100 / testResultHostCount) * compliantHostCount\n            : 0\n        }\n      />\n      <GreySmallText>\n        {`${compliantHostCount} of ${testResultHostCount} systems `}\n\n        {unsupportedHostCount > 0 && (\n          <UnsupportedSSGVersion\n            {...{ tooltipText }}\n            style={{ marginLeft: '.5em' }}\n          >\n            <strong className=\"ins-c-warning-text\">\n              {unsupportedHostCount} unsupported\n            </strong>\n          </UnsupportedSSGVersion>\n        )}\n      </GreySmallText>\n    </React.Fragment>\n  );\n};\n\nCompliantSystems.propTypes = {\n  testResultHostCount: propTypes.number,\n  compliantHostCount: propTypes.number,\n  unsupportedHostCount: propTypes.number,\n};\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\n\nexport const policyNameFilter = [\n  {\n    type: conditionalFilterType.text,\n    label: 'Policy name',\n    filter: (profiles, value) => {\n      const lowerCaseValue = value.toLowerCase();\n      return profiles.filter((profile) =>\n        [profile.name, profile.policy.name]\n          .join()\n          .toLowerCase()\n          .includes(lowerCaseValue)\n      );\n    },\n  },\n];\n\nexport const policyTypeFilter = (policyTypes) => [\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'Policy type',\n    filter: (profiles, values) =>\n      profiles.filter(({ policyType }) => values.includes(policyType)),\n    items: policyTypes.map((policyType) => ({\n      label: policyType,\n      value: policyType,\n    })),\n  },\n];\n\nexport const operatingSystemFilter = (operatingSystems) => [\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'Operating system',\n    filter: (profiles, values) =>\n      profiles.filter(({ majorOsVersion }) => values.includes(majorOsVersion)),\n    items: operatingSystems.map((operatingSystem) => ({\n      label: `RHEL ${operatingSystem}`,\n      value: operatingSystem,\n    })),\n  },\n];\n\nexport const policyComplianceFilter = [\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'Systems meeting compliance',\n    filter: (profiles, values) =>\n      profiles.filter(({ testResultHostCount, compliantHostCount }) => {\n        const compliantHostsPercent = Math.round(\n          (100 / testResultHostCount) * compliantHostCount\n        );\n        const matching = values\n          .map((value) => {\n            const [min, max] = value.split('-');\n            return compliantHostsPercent >= min && compliantHostsPercent <= max;\n          })\n          .filter((i) => !!i);\n        return matching.length > 0;\n      }),\n    items: [\n      { label: '90 - 100%', value: '90-100' },\n      { label: '70 - 89%', value: '70-89' },\n      { label: '50 - 69%', value: '50-69' },\n      { label: 'Less than 50%', value: '0-49' },\n    ],\n  },\n];\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  sortable,\n  fitContent,\n} from '@patternfly/react-table';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { emptyRows } from 'PresentationalComponents';\nimport useFilterConfig from 'Utilities/hooks/useTableTools/useFilterConfig';\nimport useTableSort from 'Utilities/hooks/useTableSort';\nimport { Name, OperatingSystem, CompliantSystems } from './Cells';\nimport { uniq } from 'Utilities/helpers';\nimport {\n  policyNameFilter,\n  policyTypeFilter,\n  operatingSystemFilter,\n  policyComplianceFilter,\n} from './Filters';\n\nconst ReportsTable = ({ profiles }) => {\n  const columns = [\n    {\n      title: 'Policy',\n      transforms: [sortable],\n      sortByProperty: 'name',\n      props: {\n        width: 55,\n      },\n    },\n    {\n      title: 'Operating system',\n      transforms: [sortable, fitContent],\n      sortByProperty: 'majorOsVersion',\n      props: {\n        width: 20,\n      },\n    },\n    {\n      title: 'Systems meeting compliance',\n      transforms: [sortable, fitContent],\n      sortByFunction: ({ testResultHostCount, compliantHostCount }) =>\n        (100 / testResultHostCount) * compliantHostCount,\n      props: {\n        width: 25,\n      },\n    },\n  ];\n  const policyTypes = uniq(\n    profiles.map(({ policyType }) => policyType).filter((i) => !!i)\n  );\n  const operatingSystems = uniq(\n    profiles.map(({ majorOsVersion }) => majorOsVersion).filter((i) => !!i)\n  );\n  const { toolbarProps: conditionalFilter, filter } = useFilterConfig({\n    filters: {\n      filterConfig: [\n        ...policyNameFilter,\n        ...((policyTypes.length > 0 && policyTypeFilter(policyTypes)) || []),\n        ...((operatingSystems.length > 0 &&\n          operatingSystemFilter(operatingSystems)) ||\n          []),\n        ...policyComplianceFilter,\n      ],\n    },\n  });\n  const filteredProfiles = filter(profiles);\n\n  const { tableSort, sorted: sortedProfiles } = useTableSort(\n    filteredProfiles,\n    columns\n  );\n  const rows =\n    sortedProfiles.length > 0\n      ? sortedProfiles.map((profile) => ({\n          cells: [\n            { title: <Name {...profile} /> },\n            { title: <OperatingSystem {...profile} /> },\n            { title: <CompliantSystems {...profile} /> },\n          ],\n        }))\n      : emptyRows;\n\n  return (\n    <React.Fragment>\n      <PrimaryToolbar {...conditionalFilter} />\n      <Table\n        aria-label=\"Reports\"\n        ouiaId=\"ReportsTable\"\n        cells={columns}\n        rows={rows}\n        {...tableSort}\n      >\n        <TableHeader />\n        <TableBody />\n      </Table>\n    </React.Fragment>\n  );\n};\n\nReportsTable.propTypes = {\n  profiles: propTypes.array,\n};\n\nexport default ReportsTable;\n","import { useState } from 'react';\nimport { orderArrayByProp } from 'Utilities/helpers';\n\nconst useTableSort = (array, columns) => {\n  const [sortBy, setSortBy] = useState({\n    index: 0,\n    direction: 'desc',\n  });\n  const column = columns[sortBy.index];\n  const onSort = (_, index, direction) =>\n    setSortBy({\n      index,\n      direction,\n    });\n\n  return {\n    tableSort: {\n      onSort,\n      sortBy,\n    },\n    sorted: orderArrayByProp(\n      column?.sortByProperty || column?.sortByFunction,\n      array,\n      sortBy.direction\n    ),\n  };\n};\n\nexport default useTableSort;\n","import React from 'react';\nimport { Button } from '@patternfly/react-core';\nimport ComplianceEmptyState from '../ComplianceEmptyState';\nimport { BackgroundLink } from 'PresentationalComponents';\n\nconst ReportsEmptyState = () => (\n  <ComplianceEmptyState\n    title={'No policies are reporting'}\n    mainButton={\n      <BackgroundLink to=\"/scappolicies/new\">\n        <Button variant=\"primary\" ouiaId=\"CreateNewPolicyButton\">\n          Create new policy\n        </Button>\n      </BackgroundLink>\n    }\n  />\n);\n\nexport default ReportsEmptyState;\n","import React from 'react';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport {\n  Button,\n  Popover,\n  Text,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { fixedPercentage } from 'Utilities/TextHelper';\nimport { Link } from 'react-router-dom';\nimport propTypes from 'prop-types';\n\nconst PolicyPopover = ({ profile, position = 'top' }) => {\n  const {\n    policy,\n    policyType,\n    complianceThreshold,\n    majorOsVersion,\n    businessObjective,\n  } = profile;\n  return (\n    <Popover\n      {...{ position }}\n      headerContent={\n        <TextContent>\n          {policy?.name}\n          <Text component={TextVariants.small}>{policyType}</Text>\n        </TextContent>\n      }\n      footerContent={\n        <Link to={'/scappolicies/' + policy?.id}>View policy</Link>\n      }\n      bodyContent={\n        <TextContent className=\"policy-details\">\n          <TextList component={TextListVariants.dl}>\n            <TextListItem component={TextListItemVariants.dt}>\n              Operating system\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              RHEL {majorOsVersion}\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dt}>\n              Compliance threshold\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {fixedPercentage(complianceThreshold, 1)}\n            </TextListItem>\n            {businessObjective && (\n              <React.Fragment>\n                <TextListItem component={TextListItemVariants.dt}>\n                  Business objective\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  {businessObjective.title}\n                </TextListItem>\n              </React.Fragment>\n            )}\n          </TextList>\n        </TextContent>\n      }\n    >\n      <Button variant=\"link\" ouiaId=\"PopoverViewPolicyLink\" isInline>\n        <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n      </Button>\n    </Popover>\n  );\n};\n\nPolicyPopover.propTypes = {\n  profile: propTypes.object,\n  position: propTypes.string,\n};\n\nexport default PolicyPopover;\n","import React, { Fragment } from 'react';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\n\nconst PolicyThresholdTooltip = () => (\n  <Tooltip\n    position=\"right\"\n    content={\n      <Fragment>\n        The compliance threshold defines what percentage of rules must be met in\n        order for a system to be determined &quot;compliant&quot;.\n      </Fragment>\n    }\n  >\n    <span>\n      &nbsp;\n      <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n    </span>\n  </Tooltip>\n);\n\nexport default PolicyThresholdTooltip;\n","import React, { Fragment } from 'react';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\n\nconst PolicyBusinessObjectiveTooltip = () => (\n  <Tooltip\n    position=\"right\"\n    content={\n      <Fragment>\n        This is an optional field that can be used to label policies that are\n        related to specific business objectives.\n      </Fragment>\n    }\n  >\n    <span>\n      &nbsp;\n      <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n    </span>\n  </Tooltip>\n);\n\nexport default PolicyBusinessObjectiveTooltip;\n","import React from 'react';\nimport {\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\n\nconst NoResultsTable = () => (\n  <EmptyTable>\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full}>\n        <Title headingLevel=\"h5\" size=\"lg\">\n          No matching policies found\n        </Title>\n        <EmptyStateBody>\n          This filter criteria matches no policies. <br /> Try changing your\n          filter settings.\n        </EmptyStateBody>\n      </EmptyState>\n    </Bullseye>\n  </EmptyTable>\n);\n\nexport const emptyRows = [\n  {\n    cells: [\n      {\n            title: () => (<NoResultsTable />),  // eslint-disable-line\n        props: {\n          colSpan: 3,\n        },\n      },\n    ],\n  },\n];\n\nexport default NoResultsTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport {\n  Table,\n  TableHeader,\n  TableBody,\n  fitContent,\n} from '@patternfly/react-table';\nimport {\n  Button,\n  Pagination,\n  PaginationVariant,\n  ToolbarItem,\n  TextContent,\n} from '@patternfly/react-core';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport TableToolbar from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport FilterConfigBuilder from 'Utilities/hooks/useTableTools/FilterConfigBuilder/FilterConfigBuilder';\nimport {\n  BackgroundLink,\n  GreySmallText,\n  SystemsCountWarning,\n  emptyRows,\n} from 'PresentationalComponents';\n\nexport const PolicyNameCell = ({ profile }) => (\n  <TextContent>\n    <Link to={'/scappolicies/' + profile.id}>{profile.policy.name}</Link>\n    <GreySmallText>{profile.policyType}</GreySmallText>\n  </TextContent>\n);\n\nPolicyNameCell.propTypes = {\n  profile: propTypes.object,\n};\n\nconst policiesToRows = (policies) =>\n  policies.map((policy) => ({\n    policyId: policy.id,\n    cells: [\n      { title: <PolicyNameCell profile={policy} /> },\n      { title: `RHEL ${policy.majorOsVersion}` },\n      {\n        title:\n          policy.totalHostCount > 0 ? (\n            policy.totalHostCount\n          ) : (\n            <SystemsCountWarning\n              count={policy.totalHostCount}\n              variant=\"count\"\n            />\n          ),\n      },\n      (policy.businessObjective && policy.businessObjective.title) || '--',\n      `${policy.complianceThreshold}%`,\n    ],\n  }));\n\nexport const FILTER_CONFIGURATION = [\n  {\n    type: conditionalFilterType.text,\n    label: 'Name',\n    filter: (policies, value) =>\n      policies.filter((policy) => policy.name.includes(value)),\n  },\n];\n\nexport class PoliciesTable extends React.Component {\n  filterConfigBuilder = new FilterConfigBuilder(FILTER_CONFIGURATION);\n  chipBuilder = this.filterConfigBuilder.getChipBuilder();\n  filterBuilder = this.filterConfigBuilder.getFilterBuilder();\n  columns = [\n    { title: 'Name' },\n    { title: 'Operating system' },\n    { title: 'Systems' },\n    { title: 'Business objective', transforms: [fitContent] },\n    { title: 'Compliance threshold', transforms: [fitContent] },\n  ];\n  state = {\n    page: 1,\n    itemsPerPage: 10,\n    activeFilters: {},\n  };\n\n  setPage = (_event, page) => this.changePage(page, this.state.itemsPerPage);\n\n  setPerPage = (_event, itemsPerPage) => this.changePage(1, itemsPerPage);\n\n  changePage = (page, itemsPerPage) =>\n    this.setState({\n      page,\n      itemsPerPage,\n    });\n\n  paginatedPolicies = (policies) =>\n    policies.slice(\n      (this.state.page - 1) * this.state.itemsPerPage,\n      this.state.page * this.state.itemsPerPage\n    );\n\n  filteredPolicies = () =>\n    this.filterConfigBuilder.applyFilterToObjectArray(\n      this.props.policies,\n      this.state.activeFilters\n    );\n\n  onFilterUpdate = (filter, value) => {\n    this.setState({\n      page: 1,\n      activeFilters: {\n        ...this.state.activeFilters,\n        [filter]: value,\n      },\n    });\n  };\n\n  deleteFilter = (chips) => {\n    const activeFilters = this.filterConfigBuilder.removeFilterWithChip(\n      chips,\n      this.state.activeFilters\n    );\n    this.setState({\n      activeFilters,\n    });\n  };\n\n  clearAllFilter = () =>\n    this.setState({\n      activeFilters: this.filterConfigBuilder.initialDefaultState(),\n    });\n\n  onFilterDelete = (_event, chips, clearAll = false) =>\n    clearAll ? this.clearAllFilter() : this.deleteFilter(chips[0]);\n\n  actionResolver = () => [\n    {\n      title: 'Delete policy',\n      onClick: (_event, _index, { policyId }) => {\n        const policy = this.props.policies.find(\n          (policy) => policy.id === policyId\n        );\n        this.props.history.push(`/scappolicies/${policyId}/delete`, {\n          policy,\n          background: this.props.location,\n        });\n      },\n    },\n    {\n      title: 'Edit policy',\n      onClick: (_event, _index, { policyId }) => {\n        const policy = this.props.policies.find(\n          (policy) => policy.id === policyId\n        );\n        this.props.history.push(`/scappolicies/${policyId}/edit`, {\n          policy,\n          background: this.props.location,\n          state: { policy },\n        });\n      },\n    },\n  ];\n\n  render() {\n    const { page, itemsPerPage } = this.state;\n    const policies = this.filteredPolicies();\n    const filterChips = this.chipBuilder.chipsFor(this.state.activeFilters);\n    const rows = policiesToRows(this.paginatedPolicies(policies));\n    const filterConfig = this.filterConfigBuilder.buildConfiguration(\n      this.onFilterUpdate,\n      this.state.activeFilters,\n      { hideLabel: true }\n    );\n    const pagination = {\n      page,\n      itemCount: policies.length,\n      dropDirection: 'down',\n      onSetPage: this.setPage,\n      onPerPageSelect: this.setPerPage,\n      perPage: itemsPerPage,\n    };\n\n    return (\n      <React.Fragment>\n        <PrimaryToolbar\n          filterConfig={filterConfig}\n          activeFiltersConfig={{\n            filters: filterChips,\n            onDelete: this.onFilterDelete,\n          }}\n          pagination={{\n            ...pagination,\n            dropDirection: 'down',\n            ouiaId: 'PoliciesCompactPagination',\n          }}\n        >\n          <ToolbarItem>\n            <BackgroundLink to=\"/scappolicies/new\">\n              <Button variant=\"primary\" ouiaId=\"CreateNewPolicyButton\">\n                Create new policy\n              </Button>\n            </BackgroundLink>\n          </ToolbarItem>\n          <ToolbarItem>{policies.length} results</ToolbarItem>\n        </PrimaryToolbar>\n        <Table\n          aria-label=\"policies\"\n          ouiaId=\"PoliciesTable\"\n          className=\"compliance-policies-table\"\n          cells={this.columns}\n          actionResolver={rows.length > 0 && this.actionResolver}\n          rows={rows.length === 0 ? emptyRows : rows}\n        >\n          <TableHeader />\n          <TableBody />\n        </Table>\n        <TableToolbar isFooter className=\"ins-c-inventory__table--toolbar\">\n          <Pagination\n            {...pagination}\n            dropDirection=\"up\"\n            ouiaId=\"PoliciesPagination\"\n            variant={PaginationVariant.bottom}\n          />\n        </TableToolbar>\n      </React.Fragment>\n    );\n  }\n}\n\nPoliciesTable.propTypes = {\n  policies: propTypes.array.isRequired,\n  history: propTypes.object.isRequired,\n  location: propTypes.object.isRequired,\n};\n\nPoliciesTable.defaultProps = {\n  policies: [],\n};\n\nexport { policiesToRows };\n\nexport default withRouter(PoliciesTable);\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { FormGroup } from '@patternfly/react-core';\nimport { ReduxFormTextInput } from 'PresentationalComponents/ReduxFormWrappers/ReduxFormWrappers';\nimport propTypes from 'prop-types';\nimport round from 'lodash/round';\nimport { thresholdValid } from '../../SmartComponents/CreatePolicy/validate';\nimport { PolicyThresholdTooltip } from 'PresentationalComponents';\n\nexport class ProfileThresholdField extends React.Component {\n  state = {\n    validThreshold: thresholdValid(this.props.previousThreshold),\n    threshold: round(this.props.previousThreshold || 100, 1),\n  };\n\n  handleThresholdChange = (threshold) =>\n    this.setState({\n      validThreshold: thresholdValid(threshold),\n      threshold: round(threshold, 1),\n    });\n\n  render() {\n    const { threshold, validThreshold } = this.state;\n\n    return (\n      <React.Fragment>\n        <FormGroup\n          fieldId=\"policy-threshold\"\n          validated={validThreshold ? 'default' : 'error'}\n          helperTextInvalid=\"Threshold has to be a number between 0 and 100\"\n          helperText=\"A value of 95% or higher is recommended\"\n          labelIcon={<PolicyThresholdTooltip />}\n          label=\"Compliance threshold (%)\"\n        >\n          <Field\n            name=\"complianceThreshold\"\n            id=\"complianceThreshold\"\n            isRequired={true}\n            onChange={this.handleThresholdChange}\n            validated={validThreshold ? 'default' : 'error'}\n            defaultValue={threshold}\n            aria-label=\"compliance threshold\"\n            component={ReduxFormTextInput}\n            type=\"number\"\n            style={{ width: '60%', display: 'block' }}\n          />\n        </FormGroup>\n      </React.Fragment>\n    );\n  }\n}\n\nProfileThresholdField.propTypes = {\n  previousThreshold: propTypes.number,\n};\n\nexport default reduxForm({\n  form: 'policyForm',\n  destroyOnUnmount: false,\n  forceUnregisterOnUnmount: true,\n})(ProfileThresholdField);\n","import React from 'react';\nimport { supportedConfigsLink } from '../UnsupportedSSGVersion/UnsupportedSSGVersion';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nconst SupportedSSGVersionsLink = () => (\n  <a target=\"_blank\" rel=\"noopener noreferrer\" href={supportedConfigsLink}>\n    Supported SSG versions <ExternalLinkAltIcon />\n  </a>\n);\n\nexport default SupportedSSGVersionsLink;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text } from '@patternfly/react-core';\n\nconst SubPageTitle = ({ children }) => (\n  <Text\n    component=\"h2\"\n    style={{\n      color: 'var(--pf-global--Color--200)',\n      lineHeight: '2rem',\n    }}\n  >\n    {children}\n  </Text>\n);\n\nSubPageTitle.propTypes = {\n  children: propTypes.node,\n};\n\nexport default SubPageTitle;\n","import React from 'react';\nimport {\n  EmptyStateBody,\n  EmptyState,\n  EmptyStateVariant,\n  Text,\n  TextContent,\n  TextVariants,\n  Title,\n  Bullseye,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { WARNING_TEXT } from 'PresentationalComponents';\n\nconst NoSystemsTableWithWarning = () => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.full}>\n      <Title headingLevel=\"h2\" size=\"lg\" style={{ fontWeight: 'bold' }}>\n        No systems on this policy\n      </Title>\n      <EmptyStateBody>\n        <TextContent>\n          <Text component={TextVariants.p}>\n            Add systems to this policy from the systems page\n          </Text>\n          <Text style={{ color: 'var(--pf-global--warning-color--100)' }}>\n            <ExclamationTriangleIcon /> {WARNING_TEXT}\n          </Text>\n        </TextContent>\n      </EmptyStateBody>\n    </EmptyState>\n  </Bullseye>\n);\n\nexport default NoSystemsTableWithWarning;\n","import React from 'react';\n\nconst ConditionalLink = ({ children, href, ...additionalProps }) =>\n  (href && (\n    <a href={href} {...additionalProps}>\n      {children}\n    </a>\n  )) ||\n  children ||\n  '';\n\nexport default ConditionalLink;\n","export const validateBenchmarkPage = (benchmark, osMajorVersion, profile) => {\n  if (benchmark && osMajorVersion && profile) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport const thresholdValid = (threshold) => threshold < 101 && threshold >= 0;\n\nexport const validateDetailsPage = (name, refId, complianceThreshold) =>\n  !name ||\n  !refId ||\n  !complianceThreshold ||\n  !thresholdValid(complianceThreshold)\n    ? false\n    : true;\n\nexport const validateRulesPage = (selectedRuleRefIds) =>\n  selectedRuleRefIds?.length > 0;\n\nexport const validateSystemsPage = (systemIds) => {\n  if (systemIds) {\n    return systemIds.length > 0;\n  } else {\n    return false;\n  }\n};\n","export const isNumberRange = (value) => value && !!value.match(/\\d\\d*-\\d\\d*/);\n\nexport const fixedPercentage = (value, fixed = 0, withPercent = true) => {\n  const fixedValue = value?.toFixed(fixed);\n  return fixedValue ? fixedValue + (withPercent ? '%' : '') : 'N/A';\n};\n\nexport const pluralize = (value, singular, plural) => {\n  if (!plural) {\n    plural = singular + 's';\n  }\n\n  return value > 1 || value === 0 ? plural : singular;\n};\n\nexport const stringToId = (string) => string.replace(' ', '').toLowerCase();\n","import React from 'react';\n\nexport const uniq = (collection) => [...new Set(collection)];\n\nexport const sortingByProp =\n  (propName, order = 'asc') =>\n  (objA, objB) => {\n    const propA = (objA && objA[propName]) || '';\n    const propB = (objB && objB[propName]) || '';\n    if (propA === propB) {\n      return 0;\n    } else if (order === 'asc') {\n      return propA < propB ? -1 : 1;\n    } else {\n      return propA < propB ? 1 : -1;\n    }\n  };\n\n// eslint-disable-next-line react/display-name\nexport const renderComponent = (Component, props) => (_data, _id, entity) =>\n  <Component {...entity} {...props} />;\n\nconst getSortable = (property, item) => {\n  if (typeof property === 'function') {\n    return property(item);\n  } else {\n    return item[property];\n  }\n};\n\nexport const stringToId = (string) => string.split(' ').join('').toLowerCase();\n\nexport const orderArrayByProp = (property, objects, direction) =>\n  objects.sort((a, b) => {\n    if (direction === 'asc') {\n      return String(getSortable(property, a)).localeCompare(\n        String(getSortable(property, b))\n      );\n    } else {\n      return -String(getSortable(property, a)).localeCompare(\n        String(getSortable(property, b))\n      );\n    }\n  });\n\nexport const orderByArray = (objectArray, orderProp, orderArray, direction) => {\n  const sortedObjectArray = orderArray.flatMap((orderKey) =>\n    objectArray.filter((item) => item[orderProp] === orderKey)\n  );\n  return direction !== 'asc' ? sortedObjectArray.reverse() : sortedObjectArray;\n};\n\nexport const getProperty = (obj, path, fallback) => {\n  const parts = path.split('.');\n  const key = parts.shift();\n  if (typeof obj[key] !== 'undefined') {\n    return parts.length > 0\n      ? getProperty(obj[key], parts.join('.'), fallback)\n      : obj[key];\n  }\n\n  return fallback;\n};\n\nexport const camelCase = (string) =>\n  string\n    .split(/[-_\\W]+/g)\n    .map((string) => string.trim())\n    .map((string) => string[0].toUpperCase() + string.substring(1))\n    .join('');\n","export const stringToId = (string) => string.split(' ').join('').toLowerCase();\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { stringToId } from './Helpers';\n\nclass FilterBuilder {\n  constructor(filterConfig) {\n    this.filterConfig = filterConfig;\n    this.config = this.filterConfig.config;\n  }\n\n  buildFilterFilterString = (configItem, value) => {\n    const { type, filterString } = configItem;\n\n    if (type !== 'hidden' && !value) {\n      return [];\n    }\n\n    switch (type) {\n      case conditionalFilterType.text:\n        return [filterString(value)];\n      case conditionalFilterType.checkbox:\n        return value.map((filter) => filterString(filter));\n\n      case conditionalFilterType.group:\n        return filterString(value);\n\n      case 'hidden':\n        return filterString();\n\n      default:\n        return [];\n    }\n  };\n\n  combineFilterStrings = (filterStringArray) => {\n    const moreThanTwo =\n      filterStringArray.map((f) => f.length).filter((fl) => fl > 0).length >= 2;\n    return filterStringArray\n      .map((fs) => fs.join(' or '))\n      .join(moreThanTwo ? ' and ' : '');\n  };\n\n  buildFilterString = (filters) => {\n    const filterStringArray = this.config\n      .map((configItem) =>\n        this.buildFilterFilterString(\n          configItem,\n          filters[stringToId(configItem.label)]\n        )\n      )\n      .filter((f) => f.length > 0);\n    return this.combineFilterStrings(filterStringArray);\n  };\n}\n\nexport default FilterBuilder;\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\n\nconst findWithString = (value) => (item) =>\n  String(item.value) === String(value);\n\nclass ChipBuilder {\n  constructor(filterConfig) {\n    this.filterConfig = filterConfig;\n    this.config = this.filterConfig.config;\n  }\n\n  textFilterChip = (category, currentValue) =>\n    currentValue && currentValue !== ''\n      ? {\n          category,\n          chips: [{ name: currentValue }],\n        }\n      : null;\n\n  checkboxFilterChip = (category, currentValue) =>\n    currentValue && currentValue.length > 0\n      ? {\n          category,\n          chips: currentValue.map((value) => ({\n            name: this.filterConfig.labelForValue(value, category),\n          })),\n        }\n      : null;\n\n  radioFilterChip = (category, currentValue) =>\n    currentValue && currentValue !== ''\n      ? {\n          category,\n          chips: [\n            { name: this.filterConfig.labelForValue(currentValue, category) },\n          ],\n        }\n      : null;\n\n  groupFilterChip = (category, currentValue = {}, categoryConfig) => {\n    const items = Object.keys(currentValue)\n      .flatMap((groupValue) => {\n        const group = categoryConfig.items.find(findWithString(groupValue));\n\n        return Object.keys(currentValue[groupValue]).map((itemValue) =>\n          currentValue[groupValue][itemValue]\n            ? group?.items.find(findWithString(itemValue))\n            : null\n        );\n      })\n      .filter((v) => !!v);\n\n    return currentValue && items.length > 0\n      ? {\n          category,\n          chips: items.map((item) => ({ name: item.label })),\n        }\n      : null;\n  };\n\n  chipFor = (filter, currentValue) => {\n    const categoryConfig = this.filterConfig.getCategoryForLabel(filter);\n    const { label, type } = categoryConfig\n      ? categoryConfig\n      : { label: filter, type: null };\n\n    switch (type) {\n      case conditionalFilterType.text:\n        return this.textFilterChip(label, currentValue);\n\n      case conditionalFilterType.checkbox:\n        return this.checkboxFilterChip(label, currentValue);\n\n      case conditionalFilterType.radio:\n        return this.radioFilterChip(label, currentValue);\n\n      case conditionalFilterType.group:\n        return this.groupFilterChip(label, currentValue, categoryConfig);\n\n      default:\n        return null;\n    }\n  };\n\n  chipsFor = (filters) =>\n    Object.keys(filters)\n      .map((filter) => this.chipFor(filter, filters[filter]))\n      .filter((f) => !!f);\n}\n\nexport default ChipBuilder;\n","import { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport FilterBuilder from './FilterBuilder';\nimport ChipBuilder from './ChipBuilder';\nimport { stringToId } from './Helpers';\n\nconst defaultPlaceholder = (label) => `Filter by ${label.toLowerCase()}`;\n\nclass FilterConfigBuilder {\n  chipBuilder = null;\n  filterBuilder = null;\n\n  constructor(config) {\n    this.config = config;\n  }\n\n  addConfigItem = (item) =>\n    (this.config = this.config\n      .filter((i) => i.label !== item.label)\n      .concat(item));\n\n  getChipBuilder = (config) => {\n    if (config) {\n      this.config = config;\n    }\n\n    return (this.chipBuilder = this.chipBuilder\n      ? this.chipBuilder\n      : new ChipBuilder(this));\n  };\n\n  getFilterBuilder = (config) => {\n    if (config) {\n      this.config = config;\n    }\n\n    return (this.filterBuilder = this.filterBuilder\n      ? this.filterBuilder\n      : new FilterBuilder(this));\n  };\n\n  toTextFilterConfig = (item, handler, value) => ({\n    type: conditionalFilterType.text,\n    label: item.label,\n    placeholder: defaultPlaceholder(item.label),\n    id: stringToId(item.label),\n    filterValues: {\n      value,\n      [item.event || 'onChange']: (_event, selectedValues) => {\n        handler(stringToId(item.label), selectedValues);\n      },\n    },\n  });\n\n  toCheckboxFilterConfig = (item, handler, value) => ({\n    type: conditionalFilterType.checkbox,\n    label: item.label,\n    placeholder: defaultPlaceholder(item.label),\n    id: stringToId(item.label),\n    filterValues: {\n      value,\n      items: item.items,\n      onChange: (_event, selectedValues) => {\n        handler(stringToId(item.label), selectedValues);\n      },\n    },\n  });\n\n  toRadioFilterConfig = (item, handler, value) => ({\n    type: conditionalFilterType.radio,\n    label: item.label,\n    placeholder: defaultPlaceholder(item.label),\n    id: stringToId(item.label),\n    filterValues: {\n      value,\n      items: item.items,\n      onChange: (_event, selectedValues) => {\n        handler(stringToId(item.label), selectedValues);\n      },\n    },\n  });\n\n  toGroupedFilterConfig = (item, handler, value) => ({\n    type: conditionalFilterType.group,\n    label: item.label,\n    id: stringToId(item.label),\n    filterValues: {\n      selected: value,\n      onChange: (_event, selectedValues) => {\n        handler(stringToId(item.label), selectedValues);\n      },\n      groups: item.items.map((item) => ({\n        ...item,\n        type: 'checkbox',\n        items: item.items.map((subItem) => ({\n          ...subItem,\n          type: 'checkbox',\n        })),\n      })),\n    },\n  });\n\n  toFilterConfigItem = (item, handler, value) => {\n    switch (item.type) {\n      case conditionalFilterType.text:\n        return this.toTextFilterConfig(item, handler, value);\n\n      case conditionalFilterType.checkbox:\n        return this.toCheckboxFilterConfig(item, handler, value);\n\n      case conditionalFilterType.radio:\n        return this.toRadioFilterConfig(item, handler, value);\n\n      case conditionalFilterType.group:\n        return this.toGroupedFilterConfig(item, handler, value);\n\n      default:\n        return null;\n    }\n  };\n\n  buildConfiguration = (handler, states, props = {}, initConfig) => ({\n    ...props,\n    items: (initConfig || this.config)\n      .map((item) =>\n        this.toFilterConfigItem(item, handler, states[stringToId(item.label)])\n      )\n      .filter((v) => !!v),\n  });\n\n  defaultValueForFilter = (filter) => {\n    switch (filter.type) {\n      case conditionalFilterType.text:\n        return '';\n      case conditionalFilterType.checkbox:\n        return [];\n      case 'hidden':\n        return filter.default || false;\n      default:\n        return;\n    }\n  };\n\n  initialDefaultState = (defaultStates = {}, initConfig) => {\n    let initialState = {};\n    (initConfig || this.config).forEach((filter) => {\n      const filterStateName = stringToId(filter.key || filter.label);\n      initialState[filterStateName] =\n        defaultStates[filterStateName] || this.defaultValueForFilter(filter);\n    });\n\n    return initialState;\n  };\n\n  categoryLabelForValue = (value) => {\n    const category = this.config.filter((category) =>\n      category.items\n        ? category.items.map((item) => item.value).includes(value)\n        : false\n    )[0];\n\n    return category ? category.label : value;\n  };\n\n  getCategoryForLabel = (query) =>\n    this.config.filter(\n      (item) => stringToId(item.key || item.label) === stringToId(query)\n    )[0] || {};\n\n  getItemByLabelOrValue = (query, category) => {\n    const categoryConfig = this.getCategoryForLabel(category);\n    const items =\n      categoryConfig.type !== conditionalFilterType.group\n        ? categoryConfig.items\n        : categoryConfig.items.flatMap((item) =>\n            item.items.map((subItem) => ({\n              ...subItem,\n              parentValue: item.value,\n            }))\n          );\n    const results = (items || []).filter(\n      (item) => item.value === query || item.label === query\n    );\n\n    if (results.length === 1) {\n      return results[0];\n    } else if (results.length > 1) {\n      // eslint-disable-next-line no-console\n      console.info(\n        `Multiple items found for ${query} in ${category}! Returning first one.`\n      );\n      return results[0];\n    } else {\n      // eslint-disable-next-line no-console\n      console.info('No item found for ' + query + ' in ', category);\n    }\n  };\n\n  labelForValue = (value, category) => {\n    const item = this.getItemByLabelOrValue(value, category);\n    return item ? item.label : value;\n  };\n\n  valueForLabel = (label, category) => {\n    const item = this.getItemByLabelOrValue(label, category);\n    return item ? item.value : label;\n  };\n\n  applyFilterToObjectArray = (objects, activeFilters) => {\n    let filteredObjects = [...objects];\n\n    Object.keys(activeFilters).forEach((filter) => {\n      const category = this.getCategoryForLabel(filter);\n      const value = activeFilters[filter];\n      if (!category || !value) {\n        return;\n      }\n\n      if (\n        value.length > 0 ||\n        (category.type === 'hidden' && typeof value === 'boolean')\n      ) {\n        filteredObjects = category.filter(filteredObjects, value);\n      }\n    });\n\n    return filteredObjects;\n  };\n\n  removeFilterFromFilterState = (currentState, filter) =>\n    typeof currentState === 'string'\n      ? ''\n      : currentState.filter((value) => value !== filter);\n\n  removeFilterFromGroupFilterState = (currentState, filter, chipItem) => {\n    // eslint-disable-next-line\n        const { [chipItem.value]: _remove, ...newGroupState } = currentState[chipItem.parentValue];\n    return {\n      ...currentState,\n      [chipItem.parentValue]: newGroupState,\n    };\n  };\n\n  removeFilterWithChip = (chips, activeFilters) => {\n    const chipCategory = chips.category;\n    const chipLabel = chips.chips[0].name;\n    const chipItem = this.getItemByLabelOrValue(chipLabel, chipCategory);\n    const chipValue = chipItem ? chipItem.value : chipLabel;\n    const stateProp = stringToId(chipCategory);\n    const currentState = activeFilters[stateProp];\n    const categoryConfig = this.getCategoryForLabel(chipCategory);\n    const isGroup = categoryConfig.type === conditionalFilterType.group;\n    const newFilterState = (\n      isGroup\n        ? this.removeFilterFromGroupFilterState\n        : this.removeFilterFromFilterState\n    )(currentState, chipValue, chipItem);\n\n    return {\n      ...activeFilters,\n      [stateProp]: newFilterState,\n    };\n  };\n}\n\nexport default FilterConfigBuilder;\n","export const filterSelected = (items, selectedIds = []) =>\n  items.filter((item) => selectedIds.includes(item.itemId));\n","import { useEffect, useMemo, useState } from 'react';\nimport { filterSelected } from './helper';\n\nconst compileTitle = (itemsTotal, titleOption) => {\n  if (typeof titleOption === 'string') {\n    return titleOption;\n  } else if (typeof titleOption === 'function') {\n    return titleOption(itemsTotal);\n  } else {\n    return `${itemsTotal} selected`;\n  }\n};\n\nconst checkboxState = (selectedItemsTotal, itemsTotal) => {\n  if (selectedItemsTotal === 0) {\n    return false;\n  } else if (selectedItemsTotal === itemsTotal) {\n    return true;\n  } else {\n    return null;\n  }\n};\n\nconst allItemsIncluded = (items, selection = []) =>\n  items.filter((item) => selection.includes(item)).length === items.length;\n\nconst selectOrUnselect = (selected) => (selected ? 'Unselect' : 'Select');\n\nconst checkCurrentPageSelected = (items, selectedItems) => {\n  if (selectedItems.length === 0) {\n    return false;\n  } else {\n    return allItemsIncluded(items, selectedItems);\n  }\n};\n\nconst itemIds = (items) => items.map((item) => item.itemId);\nconst mergeArraysUniqly = (arrayA, arrayB) =>\n  Array.from(new Set([...arrayA, ...arrayB]));\n\nexport const useBulkSelect = ({\n  total,\n  onSelect,\n  preselected,\n  itemIdsInTable,\n  itemIdsOnPage,\n  identifier = 'id',\n}) => {\n  const enableBulkSelect = !!onSelect;\n  const [selectedIds, setSelectedItemIds] = useState(preselected);\n  const selectedIdsTotal = (selectedIds || []).length;\n  const paginatedTotal = itemIdsOnPage().length;\n  const allSelected = selectedIdsTotal === total;\n  const noneSelected = selectedIdsTotal === 0;\n  const currentPageSelected = checkCurrentPageSelected(\n    itemIdsOnPage(),\n    selectedIds || []\n  );\n\n  const isDisabled = total === 0;\n  const checked = checkboxState(selectedIdsTotal, total);\n  const title = compileTitle(selectedIdsTotal);\n\n  const onSelectCallback = async (func) => {\n    const newSelectedItemsIds = await func();\n    setSelectedItemIds(newSelectedItemsIds);\n    onSelect && onSelect(newSelectedItemsIds);\n  };\n\n  const selectItems = (itemIds) => mergeArraysUniqly(selectedIds, itemIds);\n\n  const unselectItems = (itemIds) =>\n    selectedIds.filter((itemId) => !itemIds.includes(itemId));\n\n  const unselectAll = () => [];\n  const selectNone = () => onSelectCallback(unselectAll);\n  const selectOne = (_, selected, key, row) =>\n    onSelectCallback(() =>\n      selected\n        ? selectItems([row[identifier]])\n        : unselectItems([row[identifier]])\n    );\n\n  const selectPage = () =>\n    onSelectCallback(() => {\n      const currentPageIds = itemIdsOnPage();\n      const currentPageSelected =\n        mergeArraysUniqly(selectedIds, currentPageIds).length ===\n        selectedIds.length;\n\n      return currentPageSelected\n        ? unselectItems(currentPageIds)\n        : selectItems(currentPageIds);\n    });\n\n  const selectAll = () =>\n    onSelectCallback(async () =>\n      allSelected ? unselectAll() : selectItems(await itemIdsInTable())\n    );\n\n  useEffect(() => {\n    setSelectedItemIds(preselected);\n  }, [preselected]);\n\n  return enableBulkSelect\n    ? {\n        selectedIds,\n        selectNone,\n        tableProps: {\n          onSelect: total > 0 ? selectOne : undefined,\n          canSelectAll: false,\n        },\n        toolbarProps: {\n          bulkSelect: {\n            toggleProps: { children: [title] },\n            isDisabled,\n            items: [\n              {\n                title: 'Select none',\n                onClick: selectNone,\n                props: {\n                  isDisabled: noneSelected,\n                },\n              },\n              {\n                title: `${selectOrUnselect(\n                  currentPageSelected\n                )} page (${paginatedTotal} items)`,\n                onClick: selectPage,\n              },\n              {\n                title: `${selectOrUnselect(allSelected)} all (${total} items)`,\n                onClick: selectAll,\n              },\n            ],\n            checked,\n            onSelect: !isDisabled ? selectPage : undefined,\n          },\n        },\n      }\n    : {};\n};\n\nconst selectItemTransformer = (item, selectedIds) => ({\n  ...item,\n  rowProps: {\n    selected: (selectedIds || []).includes(item.itemId),\n  },\n});\n\nexport const useBulkSelectWithItems = ({\n  onSelect,\n  items: propItems,\n  filter,\n  paginator,\n  preselected,\n  setPage,\n}) => {\n  const enableBulkSelect = !!onSelect;\n  const items = propItems.map((item) =>\n    selectItemTransformer(item, preselected)\n  );\n  const total = items.length;\n\n  const filteredItems = filter ? filter(items) : items;\n  const filteredTotal = filteredItems.length;\n  const filtered = filteredTotal !== total;\n\n  const paginatedItems = paginator ? paginator(filteredItems) : filteredItems;\n  const paginatedTotal = paginatedItems.length;\n\n  const allCount = filtered ? filteredTotal : total;\n\n  const setPageMemo = useMemo(() => setPage, []);\n\n  useEffect(() => {\n    if (paginatedTotal === 0) {\n      setPageMemo(-1);\n    }\n  }, [paginatedTotal, setPageMemo]);\n\n  const { selectNone, selectedIds, ...bulkSelect } = useBulkSelect({\n    total: allCount,\n    onSelect,\n    preselected,\n    itemIdsInTable: () => (filtered ? itemIds(filteredItems) : itemIds(items)),\n    itemIdsOnPage: () => itemIds(paginatedItems),\n    identifier: 'itemId',\n  });\n\n  return enableBulkSelect\n    ? {\n        transformer: (item) => selectItemTransformer(item, selectedIds),\n        selectedItems: filterSelected(items, selectedIds),\n        selected: selectedIds,\n        clearSelection: selectNone,\n        ...bulkSelect,\n      }\n    : {};\n};\n","import React from 'react';\nimport { Switch } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\n\nconst SelectedFilterSwitch = ({ isChecked, setActiveFilter }) => (\n  <Switch\n    label=\"Selected only\"\n    isChecked={isChecked}\n    onChange={() => setActiveFilter('selected', !isChecked)}\n  />\n);\n\nSelectedFilterSwitch.propTypes = {\n  isChecked: propTypes.bool,\n  setActiveFilter: propTypes.func,\n};\n\nexport default SelectedFilterSwitch;\n","import React from 'react';\nimport SelectedFilterSwitch from './Components/SelectedFilterSwitch';\n\nconst useSelectedFilter = ({\n  setActiveFilter,\n  activeFilters,\n  selectedFilter,\n}) => {\n  const enableSelectedFilter = !!selectedFilter;\n  const filterKey = 'selected';\n  const filterItem = {\n    type: 'hidden',\n    label: 'selectFilter',\n    key: filterKey,\n    default: true,\n    filter: (items, value) => {\n      return items.filter((item) => item?.rowProps?.selected === value);\n    },\n  };\n  const isChecked = activeFilters[filterKey] === true;\n  const selectedToggle = (\n    <SelectedFilterSwitch\n      {...{\n        setActiveFilter,\n        isChecked,\n      }}\n    />\n  );\n\n  return enableSelectedFilter\n    ? {\n        filterItem,\n        toolbarProps: {\n          dedicatedAction: selectedToggle,\n        },\n      }\n    : {};\n};\n\nexport default useSelectedFilter;\n","import { useState, useEffect, useMemo } from 'react';\nimport FilterConfigBuilder from './FilterConfigBuilder/FilterConfigBuilder';\nimport useSelectedFilter from './useSelectedFilter';\n\nconst filterValues = (activeFilters) =>\n  Object.values(activeFilters).filter((value) => {\n    if (typeof value === Object) {\n      return Object.values(value).length > 0;\n    }\n\n    if (typeof value === Array) {\n      return value.length > 0;\n    }\n\n    return !!value;\n  });\n\nconst filterConfigBuilder = new FilterConfigBuilder([]);\n\nconst useFilterConfig = (options = {}) => {\n  const { filters, setPage, selectedFilter } = options;\n  const enableFilters = !!filters;\n  const { filterConfig = [], activeFilters: initialActiveFilters } =\n    filters || {};\n  const [activeFilters, setActiveFilters] = useState(\n    filterConfigBuilder.initialDefaultState(initialActiveFilters, filterConfig)\n  );\n  const onFilterUpdate = (filter, value) => {\n    setActiveFilters({\n      ...activeFilters,\n      [filter]: value,\n    });\n\n    setPage && setPage(1);\n  };\n\n  const addConfigItem = (item) => {\n    filterConfigBuilder.addConfigItem(item);\n    setActiveFilters(filterConfigBuilder.initialDefaultState(activeFilters));\n  };\n\n  const clearAllFilter = () =>\n    setActiveFilters(filterConfigBuilder.initialDefaultState());\n\n  const deleteFilter = (chips) =>\n    setActiveFilters(\n      filterConfigBuilder.removeFilterWithChip(chips, activeFilters)\n    );\n  const onFilterDelete = (_event, chips, clearAll = false) =>\n    clearAll ? clearAllFilter() : deleteFilter(chips[0]);\n\n  const filter = (items) =>\n    filterConfigBuilder.applyFilterToObjectArray(items, activeFilters);\n\n  const {\n    toolbarProps: selectedFilterToolbarProps,\n    filterItem: selectFilterItem,\n  } = useSelectedFilter({\n    activeFilters,\n    setActiveFilter: onFilterUpdate,\n    selectedFilter,\n  });\n\n  const activeFilterValues = useMemo(\n    () => filterValues(activeFilters),\n    [activeFilters]\n  );\n\n  const filterConfigWithSelected = [\n    ...filterConfig,\n    ...(selectFilterItem ? [selectFilterItem] : []),\n  ];\n\n  useEffect(() => {\n    filterConfigBuilder.config = [];\n    filterConfigWithSelected.filter((v) => !!v).forEach(addConfigItem);\n    setActiveFilters(\n      filterConfigBuilder.initialDefaultState(initialActiveFilters || []),\n      filterConfig\n    );\n\n    return () => {\n      filterConfigBuilder.config = [];\n    };\n  }, []);\n\n  return enableFilters\n    ? {\n        filter,\n        selectedFilterToolbarProps,\n        toolbarProps: {\n          filterConfig: filterConfigBuilder.buildConfiguration(\n            onFilterUpdate,\n            activeFilters,\n            {},\n            filterConfigWithSelected\n          ),\n          activeFiltersConfig: {\n            filters: filterConfigBuilder\n              .getChipBuilder(filterConfigWithSelected)\n              .chipsFor(activeFilters),\n            onDelete: onFilterDelete,\n          },\n        },\n        setActiveFilter: onFilterUpdate,\n        activeFilters,\n        activeFilterValues,\n        addConfigItem,\n        filterConfigBuilder,\n        filterString: () =>\n          filterConfigBuilder\n            .getFilterBuilder(filterConfigWithSelected)\n            .buildFilterString(activeFilters),\n      }\n    : {};\n};\n\nexport default useFilterConfig;\n","export const profilesRulesFailed = (profiles) =>\n  profiles.flatMap(\n    (profile) =>\n      profile.rules && profile.rules.filter((rule) => !rule.compliant)\n  );\n\nexport const profilesRulesPassed = (profiles) =>\n  profiles.flatMap(\n    (profile) => profile.rules && profile.rules.filter((rule) => rule.compliant)\n  );\n\nexport const systemRulesPassed = (system) =>\n  system.testResultProfiles\n    ? profilesRulesPassed(system.testResultProfiles)\n    : [];\n\nexport const systemRulesFailed = (system) =>\n  system.testResultProfiles\n    ? profilesRulesFailed(system.testResultProfiles)\n    : [];\n\nexport const systemSupportedByProfiles = (profiles = []) =>\n  profiles.reduce((acc, profile) => acc && !!profile.supported, true);\n\nexport const systemsWithRuleObjectsFailed = (systems) =>\n  systems.map((system) => ({\n    ...system,\n    ruleObjectsFailed: systemRulesFailed(system),\n    supported: systemSupportedByProfiles(system.testResultProfiles),\n    profiles: system.testResultProfiles,\n  }));\n\nexport const toRulesArrayWithProfile = (profilesWithRules) =>\n  profilesWithRules.flatMap((profileWithRules) =>\n    profileWithRules.rules.map((rule) => {\n      const identifier = rule.identifier && JSON.parse(rule.identifier);\n      return {\n        ...rule,\n        references: rule.references ? JSON.parse(rule.references) : [],\n        identifier: identifier && identifier.label ? identifier : null,\n        profile: profileWithRules.profile,\n      };\n    })\n  );\n"],"sourceRoot":""}