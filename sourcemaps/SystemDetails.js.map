{"version":3,"sources":["webpack:///./src/Utilities/Breadcrumbs.js","webpack:///./src/SmartComponents/InventoryDetails/InventoryDetails.js","webpack:///./src/SmartComponents/SystemPolicyCard/SystemPolicyCard.js","webpack:///./src/SmartComponents/SystemPolicyCards/SystemPolicyCards.js","webpack:///./src/SmartComponents/SystemRulesTable/SystemRulesTable.js","webpack:///./src/SmartComponents/SystemDetails/SystemDetails.js"],"names":["onNavigate","event","item","this","props","history","push","__webpack_require__","d","__webpack_exports__","InventoryDetails_InventoryDetails","Object","insights_frontend_components","InventoryDetails","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","call","state","InventoryCmp","react_default","a","createElement","fetchInventory","bind","assertThisInitialized_default","insights","loadInventory","react","reactRouterDom","es","reactCore","esm","reactIcons","dist_esm","inventoryConnector","mergeWithDetail","getRegistry","register","objectSpread_default","setState","InventoryDetail","Fragment","Component","propTypes","entity","prop_types_default","object","SmartComponents_InventoryDetails_InventoryDetails","SmartComponents_SystemPolicyCard_SystemPolicyCard","SystemPolicyCard","policy","compliant","style","fontSize","color","id","check_circle_icon","exclamation_circle_icon","totalRules","rules_passed","rules_failed","Card","CardBody","TextContent","Text","marginBottom","component","small","marginTop","h4","name","complianceIcon","medium","ref_id","CardFooter","last_scanned","SystemPolicyCards_SystemPolicyCards","SystemPolicyCards","policies","map","i","GridItem","span","key","undefined","Grid","gutter","systemPolicyCards","array","SmartComponents_SystemPolicyCards_SystemPolicyCards","SystemRulesTable_SystemRulesTable","SystemRulesTable","openNodes","page","itemsPerPage","rows","rulesToRows","profileRules","currentRows","onExpandClick","setPage","setPerPage","onItemSelect","_this2","_this3","slice","_event","selected","_this$state","Number","forEach","profileRule","rules","rule","children","cells","title","profile","severity","isOpen","description","rationale","colSpan","row","rowKey","activeRow","isActive","active","toConsumableArray_default","concat","oneChild","splice","indexOf","filter","_this4","type","width","search_icon","paddingTop","ComplianceRemediationButton","selectedRules","variant","header","hasCheckbox","oneRow","hasOwnProperty","expandable","footer","numberOfItems","length","onPerPageSelect","onSetPage","SmartComponents_SystemRulesTable_SystemRulesTable","QUERY","src_default","_templateObject","SystemDetails_SystemDetails","SystemDetails","Breadcrumbs","systemId","match","params","inventoryId","react_apollo_browser_umd","query","variables","_ref","data","error","loading","system","profiles","padding","items","navigate","current"],"mappings":"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","file":"js/SystemDetails.js","sourcesContent":["export function onNavigate(event, item) {\n    this.props.history.push(item);\n}\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport * as reactRouterDom from 'react-router-dom';\nimport * as reactCore from '@patternfly/react-core';\nimport * as reactIcons from '@patternfly/react-icons';\nimport { registry as registryDecorator } from '@red-hat-insights/insights-frontend-components';\n\n@registryDecorator()\nclass InventoryDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            InventoryCmp: () => <div>Loading...</div>\n        };\n\n        this.fetchInventory = this.fetchInventory.bind(this);\n        this.fetchInventory();\n    }\n\n    async fetchInventory() {\n        const {\n            inventoryConnector,\n            mergeWithDetail\n        } = await insights.loadInventory({\n            react: React,\n            reactRouterDom,\n            reactCore,\n            reactIcons\n        });\n\n        this.getRegistry().register({\n            ...mergeWithDetail()\n        });\n\n        this.setState({\n            InventoryCmp: inventoryConnector().InventoryDetail\n        });\n    }\n\n    render() {\n        const { InventoryCmp } = this.state;\n        return (\n            <React.Fragment>\n                <InventoryCmp />\n            </React.Fragment>\n        );\n    }\n}\n\nInventoryDetails.propTypes = {\n    entity: propTypes.object\n};\n\nexport default InventoryDetails;\n","import React from 'react';\nimport { CheckCircleIcon, ExclamationCircleIcon } from '@patternfly/react-icons';\nimport {\n    Card,\n    CardBody,\n    CardFooter,\n    Text,\n    TextContent,\n    TextVariants\n} from '@patternfly/react-core';\n\nclass SystemPolicyCard extends React.Component {\n    constructor(policy) {\n        super();\n        this.policy = policy.policy;\n    }\n\n    complianceIcon(compliant) {\n        let result;\n        if (compliant) {\n            result = <div style={{ fontSize: 'large', color: '#92d400' }} id='policy_compliant'>\n                <CheckCircleIcon /> Compliant\n            </div>;\n        } else {\n            result = <div style={{ fontSize: 'large', color: '#a30000' }} id='policy_compliant'>\n                <ExclamationCircleIcon/> Noncompliant\n            </div>;\n        }\n\n        return result;\n    }\n\n    render() {\n        const totalRules = this.policy.rules_passed + this.policy.rules_failed;\n        return (\n            <Card>\n                <CardBody>\n                    <TextContent>\n                        <Text style={{ marginBottom: '0px' }} component={TextVariants.small}>External Policy</Text>\n                        <Text style={{ marginTop: '0px' }} component={TextVariants.h4}>{this.policy.name}</Text>\n                    </TextContent>\n                    <TextContent>\n                        { this.complianceIcon(this.policy.compliant) }\n                        <Text component={TextVariants.small}>\n                            { this.policy.rules_passed } of { totalRules } passed\n                        </Text>\n                        <Text component={TextVariants.medium}>\n                            Profile <br/>\n                            { this.policy.ref_id }\n                        </Text>\n                    </TextContent>\n                </CardBody>\n                <CardFooter>\n                    <TextContent>\n                        <Text component={TextVariants.small}>\n                          Last scanned: { this.policy.last_scanned }\n                        </Text>\n                    </TextContent>\n                </CardFooter>\n            </Card>\n        );\n    };\n};\n\nexport default SystemPolicyCard;\n","import React from 'react';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport SystemPolicyCard from '../SystemPolicyCard/SystemPolicyCard';\nimport propTypes from 'prop-types';\n\nclass SystemPolicyCards extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    systemPolicyCards() {\n        const policyCards = this.props.policies.map(\n            (policy, i) =>\n                <GridItem span={4} key={i}>\n                    <SystemPolicyCard policy={policy} />\n                </GridItem>\n        );\n        return policyCards;\n    }\n\n    render() {\n        if (this.props.policies === undefined) {\n            return ('Loading policy information...');\n        } else {\n            return (\n                <div id=\"system_policy_cards\">\n                    <Grid gutter='md'>\n                        { this.systemPolicyCards() }\n                    </Grid>\n                </div>\n            );\n        }\n    }\n}\n\nSystemPolicyCards.propTypes = {\n    policies: propTypes.array\n};\n\nexport default routerParams(SystemPolicyCards);\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport ComplianceRemediationButton from '../ComplianceRemediationButton/ComplianceRemediationButton';\nimport { CheckCircleIcon, ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { Table, Input, Pagination, routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { Grid, GridItem, Text, TextVariants } from '@patternfly/react-core';\n\nclass SystemRulesTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            openNodes: [],\n            page: 1,\n            itemsPerPage: 10,\n            rows: this.rulesToRows(this.props.profileRules),\n            currentRows: []\n        };\n        this.state.currentRows = this.currentRows(1, 10);\n        this.onExpandClick = this.onExpandClick.bind(this);\n        this.setPage = this.setPage.bind(this);\n        this.setPerPage = this.setPerPage.bind(this);\n        this.onItemSelect = this.onItemSelect.bind(this);\n    }\n\n    setPage(page) {\n        this.setState(() => (\n            {\n                page,\n                currentRows: this.currentRows(page, this.state.itemsPerPage)\n            }\n        ));\n    }\n\n    setPerPage(itemsPerPage) {\n        this.setState(() => (\n            {\n                itemsPerPage,\n                currentRows: this.currentRows(this.state.page, itemsPerPage)\n            }\n        ));\n    }\n\n    currentRows(page, itemsPerPage) {\n        return this.state.rows.slice(\n            (page - 1) * itemsPerPage * 2,\n            page * itemsPerPage * 2\n        );\n    }\n\n    onItemSelect(_event, key, selected) {\n        let { rows, page, itemsPerPage } = this.state;\n        const firstIndex = page === 1 ? 0 : page * itemsPerPage - itemsPerPage;\n        rows[firstIndex + Number(key)].selected = selected;\n        this.setState({\n            rows\n        });\n    }\n\n    rulesToRows(profileRules) {\n        const rows = [];\n        profileRules.forEach((profileRule) => (\n            profileRule.rules.forEach((rule, i) => {\n                rows.push({\n                    children: [i * 2 + 1],\n                    cells: [\n                        <Text key={i} component={TextVariants.a}>{rule.title}</Text>,\n                        rule.ref_id,\n                        profileRule.profile,\n                        rule.severity,\n                        (rule.compliant ? <CheckCircleIcon style={{ color: '#92d400' }}/> :\n                            <ExclamationCircleIcon style={{ color: '#a30000' }}/>)\n                    ]\n                });\n                rows.push({\n                    isOpen: false,\n                    cells: [\n                        {\n                            title: <React.Fragment key={i}>\n                                <div id='rule-description'>\n                                    <b>Description</b>\n                                    <br/>\n                                    <p>{rule.description}</p>\n                                </div>\n                                <br/>\n                                <div id='rule-rationale'>\n                                    <b>Rationale</b>\n                                    <br/>\n                                    <p>{rule.rationale}</p>\n                                </div>\n                            </React.Fragment>,\n                            colSpan: 5\n                        }\n                    ]\n                });\n            })\n        ));\n        return rows;\n    }\n\n    onExpandClick(_event, row, rowKey) {\n        const activeRow = this.state.rows[rowKey];\n        const isActive = !activeRow.active;\n        let openNodes = this.state.openNodes;\n        activeRow.active = isActive;\n        if (!isActive) {\n            activeRow.children.forEach(oneChild => {\n                openNodes.splice(openNodes.indexOf(oneChild), 1);\n            });\n        } else {\n            openNodes = [\n                ...openNodes,\n                ...row.children\n            ];\n        }\n\n        this.setState({\n            openNodes,\n            rows: this.state.rows\n        });\n    }\n\n    selectedRules() {\n        return this.state.rows.filter(row => row.selected).map(row => row.cells[1]);\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Grid gutter=\"sm\">\n                    <GridItem span={10}>\n                        <Input\n                            id=\"search\"\n                            type=\"text\"\n                            style={{ width: '200px' }}\n                        />{' '}\n                        <SearchIcon style={{ paddingTop: '4px' }} />\n                    </GridItem>\n                    <GridItem span={2}>\n                        <ComplianceRemediationButton selectedRules={this.selectedRules()} />\n                    </GridItem>\n\n                    <GridItem span={12}>\n                        <Table\n                            variant='large'\n                            header={['Rule', 'Reference ID', 'Policy', 'Severity', 'Passed']}\n                            hasCheckbox\n                            onItemSelect={this.onItemSelect}\n                            rows={this.state.currentRows.map((oneRow, key) => {\n                                if (!oneRow.hasOwnProperty('isOpen')) {\n                                    return oneRow;\n                                }\n\n                                oneRow.isOpen = this.state.openNodes.indexOf(key) !== -1;\n                                return oneRow;\n                            })}\n                            expandable={true}\n                            onExpandClick={this.onExpandClick}\n                            footer={<Pagination\n                                numberOfItems={this.state.rows.length}\n                                onPerPageSelect={ this.setPerPage }\n                                page={ this.state.page }\n                                onSetPage={ this.setPage }\n                                itemsPerPage={ this.state.itemsPerPage }\n                            />}\n                        />\n                    </GridItem>\n                </Grid>\n            </React.Fragment>\n        );\n    }\n}\n\nSystemRulesTable.propTypes = {\n    profileRules: propTypes.array\n};\n\nexport default routerParams(SystemRulesTable);\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Breadcrumbs, PageHeader, Main, routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { onNavigate } from '../../Utilities/Breadcrumbs';\nimport InventoryDetails from '../InventoryDetails/InventoryDetails';\nimport SystemPolicyCards from '../SystemPolicyCards/SystemPolicyCards';\nimport SystemRulesTable from '../SystemRulesTable/SystemRulesTable';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { Card, CardBody } from '@patternfly/react-core';\nconst QUERY = gql`\nquery System($systemId: String!){\n    system(id: $systemId) {\n        id\n        name\n        profiles {\n            name\n            ref_id\n            compliant(system_id: $systemId)\n            rules_failed(system_id: $systemId)\n            rules_passed(system_id: $systemId)\n            last_scanned(system_id: $systemId)\n            rules {\n                title\n                severity\n                rationale\n                ref_id\n                description\n                compliant(system_id: $systemId)\n            }\n        }\n\t}\n}\n`;\n\nclass SystemDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onNavigate = onNavigate.bind(this);\n    }\n\n    render() {\n        const systemId = this.props.match.params.inventoryId;\n        return (\n            <Query query={QUERY} variables={{ systemId }}>\n                {({ data, error, loading }) => {\n                    let rules = {};\n                    if (error) { return 'Oops! Error loading System data: ' + error; }\n\n                    if (loading) {\n                        return (<PageHeader>Loading System details...</PageHeader>);\n                    } else {\n                        rules = data.system.profiles.map((profile) => ({\n                            profile: profile.name,\n                            rules: profile.rules\n                        }));\n                    }\n\n                    return (\n                        <React.Fragment>\n                            <PageHeader>\n                                <Breadcrumbs\n                                    style={{ padding: '0px' }}\n                                    items={[{ title: 'Systems', navigate: '/systems' }]}\n                                    current={data.system.name}\n                                    onNavigate={this.onNavigate}\n                                />\n                                <InventoryDetails />\n                            </PageHeader>\n                            <Main>\n                                <SystemPolicyCards policies={data.system.profiles} />\n                                <br/>\n                                <Card>\n                                    <CardBody>\n                                        <SystemRulesTable profileRules={rules} />\n                                    </CardBody>\n                                </Card>\n                            </Main>\n                        </React.Fragment>\n                    );\n                }}\n            </Query>\n        );\n    }\n}\n\nSystemDetails.propTypes = {\n    match: propTypes.object\n};\n\nexport default routerParams(SystemDetails);\n"],"sourceRoot":""}