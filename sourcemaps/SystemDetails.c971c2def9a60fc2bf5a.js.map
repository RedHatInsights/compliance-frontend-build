{"version":3,"sources":["webpack:///./src/PresentationalComponents/SystemPolicyCard/UnsupportedSSGVersion.js","webpack:///./src/PresentationalComponents/SystemPolicyCard/SystemPolicyCard.js","webpack:///./src/PresentationalComponents/SystemPolicyCards/SystemPolicyCards.js","webpack:///./src/SmartComponents/SystemDetails/NoReportsState.js","webpack:///./src/SmartComponents/SystemDetails/NoPoliciesState.js","webpack:///./src/SmartComponents/SystemDetails/ComplianceDetail.js","webpack:///./src/SmartComponents/SystemDetails/SystemDetails.js"],"names":["UnsupportedSSGVersion","ssgVersion","style","footerContent","target","rel","href","supportedConfigsLink","Alert","variant","isInline","title","Popover","position","bodyContent","marginLeft","cursor","color","propTypes","SystemPolicyCard","props","state","policy","compliant","className","value","fixed","withPercent","toFixed","setState","cardTitle","name","Truncate","lines","cardSubTitle","policyType","this","rulesFailed","lastScanned","score","supported","passedPercentage","fixedPercentage","Card","CardBody","TextContent","Text","component","TextVariants","onMouseEnter","onTitleMouseover","onMouseLeave","onTitleMouseout","onSubTitleMouseover","onSubTitleMouseout","complianceIcon","Tooltip","maxWidth","content","DateFormat","date","Date","parse","type","CardFooter","padding","paddingTop","paddingRight","paddingLeft","paddingBottom","React","PropTypes","rulesPassed","refId","SystemPolicyCards","policies","filter","map","i","GridItem","sm","md","lg","xl","key","height","loading","Grid","hasGutter","systemPolicyCards","Array","_item","span","defaultProps","NoReportsState","system","hasPolicy","testResultProfiles","length","Bullseye","EmptyState","EmptyStateIcon","icon","CloudSecurityIcon","size","fontWeight","Title","headingLevel","EmptyStateBody","NoPoliciesState","PlusCircleIcon","EmptyStatePrimary","to","Button","ouiaId","EmptyStateSecondaryActions","QUERY","gql","SystemQuery","data","hidePassed","RulesTable","remediationAvailableFilter","handleSelect","profile","profileRules","rules","options","sortBy","index","direction","property","undefined","id","profiles","SystemDetails","inventoryId","client","useQuery","variables","systemId","fetchPolicy","error","is404","networkError","statusCode","Spinner","errorMsg","ErrorCard","message","ComplianceEmptyState","ApolloClient","link","HttpLink","uri","COMPLIANCE_API_ROOT","credentials","cache","InMemoryCache","WrappedSystemDetails","customItnl","intlProps","IntlWrapper","IntlProvider","route","useParams","systemName","useTitleEntity","stateValues","stateKey","PageHeader","Breadcrumb","BreadcrumbItem","isActive","Main","Skeleton","SkeletonSize"],"mappings":"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","file":"js/SystemDetails.bdfbefbfc863cfe0f25f.js","sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport { Popover, Alert } from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { supportedConfigsLink } from '@/constants';\n\nconst UnsupportedSSGVersion = ({ ssgVersion, style }) => {\n  const bodyContent =\n    'This system was using an incompatible version of the SSG at the time this report was generated.' +\n    ' Assessment of rules failed/passed on this system is a best-guess effort and may not be accurate.';\n  const footerContent = (\n    <a target=\"_blank\" rel=\"noopener noreferrer\" href={supportedConfigsLink}>\n      Supported SSG versions\n    </a>\n  );\n\n  return (\n    <Alert\n      variant=\"warning\"\n      isInline\n      style={style}\n      title={\n        <React.Fragment>\n          Unsupported SSG version ({ssgVersion})\n          <Popover position=\"right\" {...{ bodyContent, footerContent }}>\n            <OutlinedQuestionCircleIcon\n              style={{\n                marginLeft: '.5em',\n                cursor: 'pointer',\n                color: 'var(--pf-global--Color--200)',\n              }}\n            />\n          </Popover>\n        </React.Fragment>\n      }\n    />\n  );\n};\n\nUnsupportedSSGVersion.propTypes = {\n  ssgVersion: propTypes.string,\n  style: propTypes.object,\n};\n\nexport default UnsupportedSSGVersion;\n","import React from 'react';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n} from '@patternfly/react-icons';\nimport Truncate from 'react-truncate';\n\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  Text,\n  TextContent,\n  TextVariants,\n  Tooltip,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport UnsupportedSSGVersion from './UnsupportedSSGVersion';\n\nclass SystemPolicyCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cardTitle: <Truncate lines={1}>{props.policy.name}</Truncate>,\n      cardSubTitle: <Truncate lines={1}>{props.policy.policyType}</Truncate>,\n      ...props,\n    };\n  }\n\n  complianceIcon = () => {\n    return this.state.policy.compliant ? (\n      <div className=\"ins-c-policy-card ins-m-compliant\">\n        <CheckCircleIcon /> Compliant\n      </div>\n    ) : (\n      <div className=\"ins-c-policy-card ins-m-noncompliant\">\n        <ExclamationCircleIcon /> Not compliant\n      </div>\n    );\n  };\n\n  fixedPercentage = (value, fixed = 0, withPercent = true) =>\n    value.toFixed(fixed) + (withPercent ? '%' : '');\n\n  onTitleMouseover = () => {\n    this.setState(({ policy = {} } = {}) => ({ cardTitle: policy.name }));\n  };\n\n  onTitleMouseout = () => {\n    this.setState(({ cardTitle } = {}) => ({\n      cardTitle: <Truncate lines={1}>{cardTitle}</Truncate>,\n    }));\n  };\n\n  onSubTitleMouseover = () => {\n    this.setState(({ policy = {} } = {}) => ({\n      cardSubTitle: policy.policyType,\n    }));\n  };\n\n  onSubTitleMouseout = () => {\n    this.setState(({ policy = {} } = {}) => ({\n      cardSubTitle: <Truncate lines={1}>{policy.policyType}</Truncate>,\n    }));\n  };\n\n  render() {\n    const {\n      rulesFailed,\n      compliant,\n      lastScanned,\n      score,\n      ssgVersion,\n      supported,\n    } = this.state.policy;\n    const { cardTitle, cardSubTitle, style } = this.state;\n    const passedPercentage = this.fixedPercentage(score);\n\n    return (\n      <Card style={style}>\n        <CardBody>\n          <TextContent className=\"margin-bottom-md\">\n            <Text\n              className=\"margin-bottom-top-none\"\n              component={TextVariants.h4}\n              onMouseEnter={this.onTitleMouseover}\n              onMouseLeave={this.onTitleMouseout}\n            >\n              {cardTitle}\n            </Text>\n            <Text\n              style={{ color: 'var(--pf-global--Color--200)' }}\n              component={TextVariants.small}\n              onMouseEnter={this.onSubTitleMouseover}\n              onMouseLeave={this.onSubTitleMouseout}\n            >\n              {cardSubTitle}\n            </Text>\n          </TextContent>\n          <div className=\"margin-bottom-md\">\n            {supported && this.complianceIcon(compliant)}\n            <Text component={TextVariants.small}>\n              {rulesFailed} rule{rulesFailed === 1 ? '' : 's'} failed{' '}\n              <Tooltip\n                position=\"bottom\"\n                maxWidth=\"22em\"\n                content={\n                  'The system compliance score is calculated by OpenSCAP and ' +\n                  'is a normalized weighted sum of rules selected for this policy.'\n                }\n              >\n                <span>(Score: {passedPercentage})</span>\n              </Tooltip>\n            </Text>\n          </div>\n          <Text className=\"margin-bottom-none\" component={TextVariants.small}>\n            <Text>SSG version: {ssgVersion}</Text>\n            <Text>\n              Last scanned:{' '}\n              {lastScanned !== 'Never' ? (\n                <DateFormat date={Date.parse(lastScanned)} type=\"relative\" />\n              ) : (\n                lastScanned\n              )}\n            </Text>\n          </Text>\n        </CardBody>\n        {!supported && (\n          <CardFooter style={{ padding: '0' }}>\n            <UnsupportedSSGVersion\n              ssgVersion={ssgVersion}\n              style={{\n                paddingTop: 'var(--pf-c-alert--PaddingTop)',\n                paddingRight: 'var(--pf-c-card--child--PaddingRight)',\n                paddingLeft: 'var(--pf-c-card--child--PaddingLeft)',\n                paddingBottom: 'var(--pf-c-alert--PaddingBottom)',\n              }}\n            />\n          </CardFooter>\n        )}\n      </Card>\n    );\n  }\n}\n\nSystemPolicyCard.propTypes = {\n  policy: PropTypes.shape({\n    rulesPassed: PropTypes.number,\n    rulesFailed: PropTypes.number,\n    score: PropTypes.number,\n    lastScanned: PropTypes.string,\n    refId: PropTypes.string,\n    name: PropTypes.string,\n    policyType: PropTypes.string,\n    compliant: PropTypes.bool,\n    ssgVersion: PropTypes.string,\n    supported: PropTypes.bool,\n    style: PropTypes.object,\n  }),\n};\n\nexport default SystemPolicyCard;\n","import React from 'react';\nimport { Grid, GridItem, Card, CardBody } from '@patternfly/react-core';\nimport SystemPolicyCard from '../SystemPolicyCard';\nimport propTypes from 'prop-types';\nimport { Instagram } from 'react-content-loader';\n\nclass SystemPolicyCards extends React.Component {\n  systemPolicyCards() {\n    const { policies } = this.props;\n    return policies\n      .filter((policy) => policy.rulesFailed + policy.rulesPassed > 0)\n      .map((policy, i) => (\n        <GridItem sm={12} md={12} lg={6} xl={4} key={i}>\n          <SystemPolicyCard policy={policy} style={{ height: '100%' }} />\n        </GridItem>\n      ));\n  }\n\n  render() {\n    const { loading } = this.props;\n\n    return (\n      <React.Fragment>\n        <Grid hasGutter>\n          {this.systemPolicyCards()}\n          {loading &&\n            [...Array(3)].map((_item, i) => (\n              <GridItem span={4} key={i}>\n                <Card>\n                  <CardBody>\n                    <Instagram />\n                  </CardBody>\n                </Card>\n              </GridItem>\n            ))}\n        </Grid>\n      </React.Fragment>\n    );\n  }\n}\n\nSystemPolicyCards.propTypes = {\n  policies: propTypes.array,\n  loading: propTypes.bool,\n};\n\nSystemPolicyCards.defaultProps = {\n  policies: [],\n};\n\nexport default SystemPolicyCards;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { CloudSecurityIcon } from '@patternfly/react-icons';\nimport {\n  Title,\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n} from '@patternfly/react-core';\n\nconst NoReportsState = ({ system }) =>\n  system?.hasPolicy && !system?.testResultProfiles?.length ? (\n    <Bullseye>\n      <EmptyState>\n        <EmptyStateIcon\n          icon={CloudSecurityIcon}\n          title=\"Compliance\"\n          size=\"xl\"\n          style={{\n            fontWeight: '500',\n            color: 'var(--pf-global--primary-color--100)',\n          }}\n        />\n        <Title headingLevel=\"h1\" size=\"lg\">\n          No results reported\n        </Title>\n        <EmptyStateBody>\n          This system is part of {system?.policies?.length}\n          {system?.policies?.length > 1 ? ' policies' : ' policy'}, but has not\n          returned any results.\n        </EmptyStateBody>\n        <EmptyStateBody>\n          Reports are returned when the system checks into Insights. By default,\n          systems check in every 24 hours.\n        </EmptyStateBody>\n      </EmptyState>\n    </Bullseye>\n  ) : (\n    <></>\n  );\n\nNoReportsState.propTypes = {\n  system: propTypes.shape({\n    hasPolicy: propTypes.bool,\n    testResultProfiles: propTypes.array,\n    policies: propTypes.array,\n  }),\n};\n\nexport default NoReportsState;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { BackgroundLink } from 'PresentationalComponents';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport {\n  Title,\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStatePrimary,\n  EmptyStateSecondaryActions,\n  EmptyStateIcon,\n} from '@patternfly/react-core';\n\nconst NoPoliciesState = ({ system }) =>\n  system?.hasPolicy ? (\n    <></>\n  ) : (\n    <Bullseye>\n      <EmptyState>\n        <EmptyStateIcon icon={PlusCircleIcon} />\n        <Title headingLevel=\"h1\" size=\"lg\">\n          This system is not part of any SCAP policies defined within\n          Compliance.\n        </Title>\n        <EmptyStateBody>\n          To assess and monitor compliance against a SCAP policy for this\n          system, add it to an existing policy or create a new policy.\n        </EmptyStateBody>\n        <EmptyStatePrimary>\n          <BackgroundLink to=\"/scappolicies/new\">\n            <Button variant=\"primary\" ouiaId=\"CreateNewPolicyButton\">\n              Create new policy\n            </Button>\n          </BackgroundLink>\n        </EmptyStatePrimary>\n        <EmptyStateSecondaryActions>\n          <Button\n            variant=\"link\"\n            component=\"a\"\n            href=\"/insights/compliance/scappolicies\"\n          >\n            View compliance policies\n          </Button>\n        </EmptyStateSecondaryActions>\n      </EmptyState>\n    </Bullseye>\n  );\n\nNoPoliciesState.propTypes = {\n  system: propTypes.shape({\n    hasPolicy: propTypes.bool,\n  }),\n};\n\nexport default NoPoliciesState;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport SystemPolicyCards from '../../PresentationalComponents/SystemPolicyCards';\nimport RulesTable from '@/PresentationalComponents/RulesTable/RulesTable';\nimport ComplianceEmptyState from 'PresentationalComponents/ComplianceEmptyState';\nimport { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport { ApolloClient, HttpLink, InMemoryCache } from 'apollo-boost';\nimport { Spinner } from '@redhat-cloud-services/frontend-components/Spinner';\nimport './compliance.scss';\nimport { ErrorCard } from 'PresentationalComponents/ErrorCard/ErrorCard';\nimport { IntlProvider } from 'react-intl';\nimport NoReportsState from './NoReportsState';\nimport NoPoliciesState from './NoPoliciesState';\n\nconst COMPLIANCE_API_ROOT = '/api/compliance';\n\nconst QUERY = gql`\n  query System($systemId: String!) {\n    system(id: $systemId) {\n      id\n      name\n      hasPolicy\n      policies {\n        id\n      }\n      testResultProfiles {\n        id\n        name\n        policyType\n        refId\n        compliant\n        rulesFailed\n        rulesPassed\n        lastScanned\n        score\n        supported\n        ssgVersion\n        majorOsVersion\n        policy {\n          id\n        }\n        rules {\n          title\n          severity\n          rationale\n          refId\n          description\n          compliant\n          remediationAvailable\n          references\n          identifier\n        }\n      }\n    }\n  }\n`;\n\nconst SystemQuery = ({ data: { system }, loading, hidePassed }) => (\n  <React.Fragment>\n    <SystemPolicyCards\n      policies={system?.testResultProfiles}\n      loading={loading}\n    />\n    <NoPoliciesState system={system} />\n    <NoReportsState system={system} />\n    <br />\n    {system?.testResultProfiles?.length ? (\n      <RulesTable\n        remediationAvailableFilter\n        handleSelect={() => undefined}\n        hidePassed={hidePassed}\n        system={{\n          ...system,\n          supported:\n            (system?.testResultProfiles || []).filter(\n              (profile) => profile.supported\n            ).length > 0,\n        }}\n        profileRules={system?.testResultProfiles.map((profile) => ({\n          system,\n          profile,\n          rules: profile.rules,\n        }))}\n        loading={loading}\n        options={{\n          sortBy: {\n            index: 4,\n            direction: 'asc',\n            property: 'severity',\n          },\n        }}\n      />\n    ) : undefined}\n  </React.Fragment>\n);\n\nSystemQuery.propTypes = {\n  data: propTypes.shape({\n    system: propTypes.shape({\n      hasPolicy: propTypes.bool,\n      policies: propTypes.shape({\n        id: propTypes.string,\n      }),\n      profiles: propTypes.array,\n      testResultProfiles: propTypes.array,\n    }),\n  }),\n  loading: propTypes.bool,\n  hidePassed: propTypes.bool,\n};\n\nSystemQuery.defaultProps = {\n  loading: true,\n};\n\nconst SystemDetails = ({ inventoryId, hidePassed, client }) => {\n  let { data, error, loading } = useQuery(QUERY, {\n    variables: { systemId: inventoryId },\n    client,\n    fetchPolicy: 'no-cache',\n  });\n  const is404 = error?.networkError?.statusCode === 404;\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  if (error && !is404) {\n    const errorMsg = `Oops! Error loading System data: ${error}`;\n    return <ErrorCard message={errorMsg} />;\n  }\n\n  return (\n    <div className=\"ins-c-compliance__scope\">\n      {!data?.system || is404 ? (\n        <ComplianceEmptyState title=\"No policies are reporting for this system\" />\n      ) : (\n        <SystemQuery hidePassed={hidePassed} data={data} loading={loading} />\n      )}\n    </div>\n  );\n};\n\nSystemDetails.propTypes = {\n  inventoryId: propTypes.string,\n  client: propTypes.object,\n  hidePassed: propTypes.bool,\n};\n\nSystemDetails.defaultProps = {\n  client: new ApolloClient({\n    link: new HttpLink({\n      uri: COMPLIANCE_API_ROOT + '/graphql',\n      credentials: 'include',\n    }),\n    cache: new InMemoryCache(),\n  }),\n};\n\nconst WrappedSystemDetails = ({ customItnl, intlProps, ...props }) => {\n  const IntlWrapper = customItnl ? IntlProvider : React.Fragment;\n\n  return (\n    <IntlWrapper {...(customItnl && intlProps)}>\n      <SystemDetails {...props} />\n    </IntlWrapper>\n  );\n};\n\nWrappedSystemDetails.propTypes = {\n  customItnl: propTypes.bool,\n  intlProps: propTypes.any,\n};\n\nexport default WrappedSystemDetails;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { useParams } from 'react-router-dom';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Skeleton, {\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport ComplianceSystemDetails from './ComplianceDetail';\nimport {\n  BreadcrumbLinkItem,\n  StateViewWithError,\n  StateViewPart,\n} from 'PresentationalComponents';\nimport { InventoryDetails } from 'SmartComponents';\nimport { useTitleEntity } from 'Utilities/hooks/useDocumentTitle';\n\nconst QUERY = gql`\n  query System($inventoryId: String!) {\n    system(id: $inventoryId) {\n      id\n      name\n    }\n  }\n`;\n\nexport const SystemDetails = ({ route }) => {\n  const { inventoryId } = useParams();\n  const { data, error, loading } = useQuery(QUERY, {\n    variables: { inventoryId },\n  });\n  const systemName = data?.system?.name;\n\n  useTitleEntity(route, systemName);\n\n  return (\n    <StateViewWithError stateValues={{ error, data, loading }}>\n      <StateViewPart stateKey=\"data\">\n        <PageHeader>\n          <Breadcrumb ouiaId=\"SystemDetailsPathBreadcrumb\">\n            <BreadcrumbLinkItem to=\"/\">Compliance</BreadcrumbLinkItem>\n            <BreadcrumbLinkItem to=\"/systems\">Systems</BreadcrumbLinkItem>\n            <BreadcrumbItem isActive>{systemName}</BreadcrumbItem>\n          </Breadcrumb>\n          <InventoryDetails />\n          <br />\n        </PageHeader>\n        <Main>\n          <ComplianceSystemDetails hidePassed inventoryId={inventoryId} />\n        </Main>\n      </StateViewPart>\n      <StateViewPart stateKey=\"loading\">\n        <PageHeader>\n          <Skeleton size={SkeletonSize.md} />\n        </PageHeader>\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nSystemDetails.propTypes = {\n  route: propTypes.object,\n};\n\nexport default SystemDetails;\n"],"sourceRoot":""}