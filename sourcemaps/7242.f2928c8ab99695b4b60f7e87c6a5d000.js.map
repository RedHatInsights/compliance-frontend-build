{"version":3,"file":"js/7242.1662710080717.4e781454f381addc96a1.js","mappings":"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","sources":["webpack:///./src/SmartComponents/ComplianceSystems/ComplianceSystems.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeDetailsRow.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeTable.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeTooltip.js","webpack:///./src/SmartComponents/CreatePolicy/CreateSCAPPolicy.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicyProfilesRules.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicySystems.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicyDetails.js","webpack:///./src/SmartComponents/CreatePolicy/ReviewCreatedPolicy.js","webpack:///./src/SmartComponents/CreatePolicy/FinishedCreatePolicy.js","webpack:///./src/SmartComponents/CreatePolicy/CreatePolicy.js","webpack:///./src/SmartComponents/DeleteReport/DeleteReport.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicyDetailsTab.js","webpack:///./src/SmartComponents/EditPolicy/constants.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicyRulesTab.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicySystemsTab.js","webpack:///./src/SmartComponents/EditPolicy/components/NewRulesAlert.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicyForm.js","webpack:///./src/SmartComponents/EditPolicy/hooks/index.js","webpack:///./src/SmartComponents/EditPolicy/hooks.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicy.js","webpack:///./src/SmartComponents/SystemsTable/Cells.js","webpack:///./src/SmartComponents/SystemsTable/Columns.js","webpack:///./src/SmartComponents/SystemsTable/constants.js","webpack:///./src/SmartComponents/InventoryDetails/InventoryDetails.js","webpack:///./src/SmartComponents/SystemsTable/hooks.js","webpack:///./src/SmartComponents/SystemsTable/SystemsTable.js","webpack:///./src/store/Reducers/SystemStore.js"],"sourcesContent":["/* eslint-disable react/display-name */\nimport React from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { nowrap } from '@patternfly/react-table';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport { StateViewPart, StateViewWithError } from 'PresentationalComponents';\nimport { SystemsTable } from 'SmartComponents';\nimport { GET_SYSTEMS_WITH_POLICIES } from '../SystemsTable/constants';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst QUERY = gql`\n  {\n    profiles(search: \"external = false and canonical = false\") {\n      edges {\n        node {\n          id\n          name\n          refId\n          osMajorVersion\n        }\n      }\n    }\n  }\n`;\n\nconst DEFAULT_FILTER = 'has_test_results = true or has_policy = true';\n\nexport const ComplianceSystems = () => {\n  const { data, error, loading } = useQuery(QUERY);\n  const policies = data?.profiles?.edges.map(({ node }) => node);\n\n  return (\n    <React.Fragment>\n      <PageHeader className=\"page-header\">\n        <PageHeaderTitle title=\"Compliance systems\" />\n      </PageHeader>\n      <Main>\n        <StateViewWithError stateValues={{ error, data, loading }}>\n          <StateViewPart stateKey=\"data\">\n            {policies && (\n              <SystemsTable\n                columns={[\n                  Columns.customName({\n                    showLink: true,\n                  }),\n                  Columns.inventoryColumn('tags'),\n                  Columns.OS,\n                  Columns.Policies,\n                  Columns.inventoryColumn('updated', {\n                    props: { isStatic: true },\n                    transforms: [nowrap],\n                  }),\n                ]}\n                query={GET_SYSTEMS_WITH_POLICIES}\n                defaultFilter={DEFAULT_FILTER}\n                systemProps={{\n                  isFullView: true,\n                }}\n                showOsMinorVersionFilter={policies.map(\n                  (policy) => policy.osMajorVersion\n                )}\n                showComplianceSystemsInfo\n                enableEditPolicy={false}\n                remediationsEnabled={false}\n                policies={policies}\n              />\n            )}\n          </StateViewPart>\n        </StateViewWithError>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default ComplianceSystems;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text } from '@patternfly/react-core';\n\nconst PolicyTypeDetailsRow = ({ item: { description }, key }) => {\n  return (\n    <Text key={key} style={{ margin: 'var(--pf-global--spacer--lg) 0' }}>\n      {description}\n    </Text>\n  );\n};\n\nPolicyTypeDetailsRow.propTypes = {\n  item: propTypes.object,\n  key: propTypes.string,\n};\n\nexport default PolicyTypeDetailsRow;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { fitContent } from '@patternfly/react-table';\nimport { InUseProfileLabel } from 'PresentationalComponents';\nimport { TableToolsTable } from 'Utilities/hooks/useTableTools';\nimport { renderComponent } from 'Utilities/helpers';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport PolicyTypeDetailsRow from './PolicyTypeDetailsRow';\n\nconst NameCell = ({ name, disabled }) => {\n  return (\n    <>\n      {name} {disabled && <InUseProfileLabel compact />}\n    </>\n  );\n};\n\nNameCell.propTypes = {\n  name: propTypes.string,\n  disabled: propTypes.boolean,\n};\n\nconst PolicyTypeTable = ({ profiles, onChange, selectedProfile }) => (\n  <TableToolsTable\n    items={profiles.map((profile) => ({\n      ...profile,\n      rowProps: {\n        selected: profile.id === selectedProfile?.id,\n        disableSelection: profile.disabled,\n      },\n    }))}\n    filters={{\n      filterConfig: [\n        {\n          type: conditionalFilterType.text,\n          label: 'Policy Name',\n          filter: (policyTypes, value) =>\n            policyTypes.filter((policyType) =>\n              policyType?.name.toLowerCase().includes(value.toLowerCase())\n            ),\n        },\n      ],\n    }}\n    columns={[\n      {\n        title: 'Policy name',\n        key: 'name',\n        sortByProp: 'name',\n        renderFunc: renderComponent(NameCell),\n      },\n      {\n        title: 'Supported OS versions',\n        transforms: [fitContent],\n        sortByProp: 'supportedOsVersions',\n        renderFunc: (_data, _id, profile) =>\n          profile.supportedOsVersions.join(', '),\n      },\n    ]}\n    options={{\n      detailsComponent: PolicyTypeDetailsRow,\n      onRadioSelect: (_event, _value, _rowIdx, { itemId }) =>\n        onChange && onChange(profiles.find(({ id }) => id === itemId)),\n      sortBy: {\n        index: 2,\n        direction: 'asc',\n        property: 'name',\n      },\n    }}\n    variant=\"compact\"\n  />\n);\n\nPolicyTypeTable.propTypes = {\n  profiles: propTypes.array,\n  onChange: propTypes.func,\n  selectedProfile: propTypes.string,\n};\n\nexport default PolicyTypeTable;\n","import React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\n\nconst PolicyTypeTooltip = () => (\n  <Tooltip\n    position=\"right\"\n    content=\"Policy types are OpenSCAP policies that are supported by RHEL.\n        For each major version of RHEL, users can create one policy of each type.\"\n  >\n    <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n  </Tooltip>\n);\n\nexport default PolicyTypeTooltip;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n  Tile,\n} from '@patternfly/react-core';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport {\n  propTypes as reduxFormPropTypes,\n  formValueSelector,\n  reduxForm,\n} from 'redux-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { StateViewPart, StateViewWithError } from 'PresentationalComponents';\nimport PolicyTypesTable from './Components/PolicyTypeTable';\nimport PolicyTypeTooltip from './Components/PolicyTypeTooltip';\n\nconst SUPPORTED_PROFILES = gql`\n  query supportedProfilesByOSMajor {\n    osMajorVersions {\n      edges {\n        node {\n          osMajorVersion\n          profiles {\n            id\n            name\n            refId\n            description\n            supportedOsVersions\n            benchmark {\n              id\n              refId\n            }\n          }\n        }\n      }\n    }\n    profiles(search: \"external = false and canonical = false\") {\n      edges {\n        node {\n          id\n          refId\n          benchmark {\n            refId\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const CreateSCAPPolicy = ({\n  change,\n  selectedProfile,\n  selectedOsMajorVersion,\n}) => {\n  const { data, error, loading } = useQuery(SUPPORTED_PROFILES, {\n    fetchPolicy: 'no-cache',\n  });\n  const isInUse = (profileRefId, benchmarkRedId) =>\n    !!data?.profiles?.edges\n      .map(({ node }) => node)\n      .find(\n        (profile) =>\n          profile.refId === profileRefId &&\n          benchmarkRedId === profile.benchmark.refId\n      );\n  const osMajorVersions = data?.osMajorVersions?.edges.map(({ node }) => node);\n  const selectedOsMajorVersionObject = osMajorVersions?.find(\n    ({ osMajorVersion }) => osMajorVersion === selectedOsMajorVersion\n  );\n  const profilesToSelect = selectedOsMajorVersionObject?.profiles.map(\n    (profile) => ({\n      ...profile,\n      disabled: isInUse(profile.refId, profile.benchmark.refId),\n    })\n  );\n\n  return (\n    <StateViewWithError stateValues={{ error, data, loading }}>\n      <StateViewPart stateKey=\"loading\">\n        <Spinner />\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <TextContent>\n          <Text component={TextVariants.h1} className=\"pf-u-mb-md\">\n            Create SCAP policy\n          </Text>\n          <Text className=\"pf-u-mb-md\">\n            Select the operating system and policy type for this policy.\n          </Text>\n        </TextContent>\n        <Form>\n          <FormGroup label=\"Operating system\" isRequired fieldId=\"benchmark\">\n            {osMajorVersions &&\n              osMajorVersions.map(({ osMajorVersion }) => (\n                <Tile\n                  key={`rhel${osMajorVersion}-select`}\n                  className=\"pf-u-mr-md\"\n                  title={`RHEL ${osMajorVersion}`}\n                  onClick={() => {\n                    change('osMajorVersion', osMajorVersion);\n                  }}\n                  isSelected={selectedOsMajorVersion === osMajorVersion}\n                  isStacked\n                />\n              ))}\n          </FormGroup>\n\n          {selectedOsMajorVersion && (\n            <FormGroup\n              isRequired\n              labelIcon={<PolicyTypeTooltip />}\n              label=\"Policy type\"\n              fieldId=\"policy-type\"\n            >\n              <PolicyTypesTable\n                aria-label=\"PolicyTypeTable\"\n                profiles={profilesToSelect}\n                onChange={(policy) => {\n                  change('profile', policy);\n                  change('benchmark', policy.benchmark.id);\n                  change('selectedRuleRefIds', undefined);\n                  change('systems', []);\n                }}\n                selectedProfile={selectedProfile}\n              />\n            </FormGroup>\n          )}\n        </Form>\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nCreateSCAPPolicy.propTypes = {\n  change: reduxFormPropTypes.change,\n  selectedProfile: propTypes.object,\n  selectedOsMajorVersion: propTypes.string,\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => ({\n    selectedProfile: selector(state, 'profile'),\n    selectedOsMajorVersion: selector(state, 'osMajorVersion'),\n  })),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(CreateSCAPPolicy);\n","import React, { useLayoutEffect } from 'react';\nimport {\n  propTypes as reduxFormPropTypes,\n  formValueSelector,\n  reduxForm,\n} from 'redux-form';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport {\n  Title,\n  Text,\n  TextContent,\n  TextVariants,\n  EmptyState,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport gql from 'graphql-tag';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport propTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport { StateViewWithError, StateViewPart } from 'PresentationalComponents';\nimport {\n  TabbedRules,\n  profilesWithRulesToSelection,\n  tabsDataToOsMinorMap,\n  extendProfilesByOsMinor,\n} from 'PresentationalComponents/TabbedRules';\nimport * as Columns from '@/PresentationalComponents/RulesTable/Columns';\n\nconst PROFILES_QUERY = gql`\n  query Profiles($filter: String!) {\n    profiles(search: $filter) {\n      edges {\n        node {\n          id\n          name\n          refId\n          osMinorVersion\n          osMajorVersion\n          policy {\n            id\n          }\n          policyType\n          benchmark {\n            id\n            refId\n            latestSupportedOsMinorVersions\n            osMajorVersion\n          }\n          rules {\n            id\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst BENCHMARKS_QUERY = gql`\n  query Benchmarks($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        latestSupportedOsMinorVersions\n        profiles {\n          id\n          refId\n          osMajorVersion\n        }\n        version\n      }\n    }\n  }\n`;\n\nconst getBenchmarkProfile = (benchmark, profileRefId) =>\n  benchmark.profiles.find(\n    (benchmarkProfile) => benchmarkProfile.refId === profileRefId\n  );\n\nconst getBenchmarkBySupportedOsMinor = (benchmarks, osMinorVersion) =>\n  benchmarks.find((benchmark) =>\n    benchmark.latestSupportedOsMinorVersions?.includes(osMinorVersion)\n  );\n\nexport const EditPolicyProfilesRules = ({\n  policy,\n  selectedRuleRefIds,\n  change,\n  osMajorVersion,\n  osMinorVersionCounts,\n}) => {\n  const columns = [Columns.Name, Columns.Severity, Columns.Remediation];\n  const osMinorVersions = osMinorVersionCounts\n    .map((i) => i.osMinorVersion)\n    .sort();\n  const benchmarkSearch =\n    `os_major_version = ${osMajorVersion} ` +\n    `and latest_supported_os_minor_version ^ \"${osMinorVersions.join(',')}\"`;\n\n  const {\n    data: benchmarksData,\n    error: benchmarksError,\n    loading: benchmarksLoading,\n  } = useQuery(BENCHMARKS_QUERY, {\n    variables: {\n      filter: benchmarkSearch,\n    },\n    skip: osMinorVersions.length === 0,\n  });\n\n  const benchmarks = benchmarksData?.benchmarks?.nodes;\n\n  let tabsData = osMinorVersionCounts.map(\n    ({ osMinorVersion, count: systemCount }) => {\n      osMinorVersion = `${osMinorVersion}`;\n      let profile;\n      if (benchmarks) {\n        const benchmark = getBenchmarkBySupportedOsMinor(\n          benchmarks,\n          osMinorVersion\n        );\n        if (benchmark) {\n          profile = getBenchmarkProfile(benchmark, policy.refId);\n          if (profile) {\n            profile = {\n              ...profile,\n              benchmark,\n            };\n          }\n        }\n      }\n\n      return {\n        profile,\n        systemCount,\n        newOsMinorVersion: osMinorVersion,\n      };\n    }\n  );\n  tabsData = tabsData.filter(({ profile }) => !!profile);\n\n  const profileToOsMinorMap = tabsDataToOsMinorMap(tabsData);\n  const profileIds = Object.keys(profileToOsMinorMap);\n  const filter = profileIds.map((i) => `id = ${i}`).join(' OR ');\n  const skipProfilesQuery = benchmarksLoading || filter.length === 0;\n  const {\n    data: profilesData,\n    error: profilesError,\n    loading: profilesLoading,\n  } = useQuery(PROFILES_QUERY, {\n    variables: {\n      filter,\n    },\n    skip: skipProfilesQuery,\n  });\n  const error = benchmarksError || profilesError;\n  const dataState = profileIds?.length > 0 ? profilesData : undefined;\n  const loadingState = profilesLoading || benchmarksLoading ? true : undefined;\n  const noRuleSets = !error && !loadingState && profileIds?.length === 0;\n  const profiles = skipProfilesQuery\n    ? []\n    : profilesData?.profiles.edges.map((p) => p.node);\n\n  const setSelectedRuleRefIds = (newSelection) => {\n    change('selectedRuleRefIds', newSelection);\n  };\n\n  useLayoutEffect(() => {\n    if (!loadingState) {\n      const profilesWithOs = extendProfilesByOsMinor(\n        profiles,\n        profileToOsMinorMap\n      );\n      const newSelection = profilesWithRulesToSelection(\n        profilesWithOs,\n        selectedRuleRefIds,\n        { only: true }\n      );\n      setSelectedRuleRefIds(newSelection);\n    }\n  }, [JSON.stringify(profiles), loadingState]);\n\n  return (\n    <React.Fragment>\n      <TextContent className=\"pf-u-pb-md\">\n        <Text component={TextVariants.h1}>Rules</Text>\n        <Text>\n          Customize your <b>{policy.name}</b> SCAP policy by including and\n          excluding rules.\n        </Text>\n        <Text>\n          Each release of RHEL is supported with a unique and specific version\n          of the SCAP Security Guide (SSG). You must customize each version of\n          SSG for each release of RHEL.\n        </Text>\n      </TextContent>\n\n      <StateViewWithError\n        stateValues={{\n          error,\n          data: dataState,\n          loading: loadingState,\n          noRuleSets,\n        }}\n      >\n        <StateViewPart stateKey=\"noRuleSets\">\n          <EmptyState>\n            <Title headingLevel=\"h1\" size=\"xl\">\n              No rules can be configured\n            </Title>\n            <EmptyStateBody>\n              The policy type selected does not exist for the systems and OS\n              versions selected in the previous steps.\n            </EmptyStateBody>\n          </EmptyState>\n        </StateViewPart>\n        <StateViewPart stateKey=\"loading\">\n          <EmptyTable>\n            <Spinner />\n          </EmptyTable>\n        </StateViewPart>\n        <StateViewPart stateKey=\"data\">\n          <TabbedRules\n            tabsData={tabsData}\n            selectedRuleRefIds={selectedRuleRefIds}\n            columns={columns}\n            remediationsEnabled={false}\n            selectedFilter\n            level={1}\n            setSelectedRuleRefIds={setSelectedRuleRefIds}\n            ouiaId=\"RHELVersions\"\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </React.Fragment>\n  );\n};\n\nEditPolicyProfilesRules.propTypes = {\n  policy: propTypes.object,\n  change: reduxFormPropTypes.change,\n  osMajorVersion: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n  selectedRuleRefIds: propTypes.array,\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => ({\n    policy: selector(state, 'profile'),\n    osMajorVersion: selector(state, 'osMajorVersion'),\n    osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n    selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n  })),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicyProfilesRules);\n","import React from 'react';\nimport {\n  propTypes as reduxFormPropTypes,\n  reduxForm,\n  formValueSelector,\n} from 'redux-form';\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport { SystemsTable } from 'SmartComponents';\nimport { GET_SYSTEMS_WITH_POLICIES } from '../SystemsTable/constants';\nimport { compose } from 'redux';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { countOsMinorVersions } from 'Store/Reducers/SystemStore';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst EmptyState = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        You do not have any <b>RHEL {osMajorVersion}</b> systems connected to\n        Insights and enabled for Compliance.\n        <br />\n        Policies must be created with at least one system.\n      </Text>\n    </TextContent>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Choose a different operating system, or connect{' '}\n        <b>RHEL {osMajorVersion}</b> systems to Insights.\n      </Text>\n    </TextContent>\n    <WizardContextConsumer>\n      {({ goToStepById }) => (\n        <Button onClick={() => goToStepById(1)}>\n          Choose a different operating system\n        </Button>\n      )}\n    </WizardContextConsumer>\n  </React.Fragment>\n);\n\nEmptyState.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst PrependComponent = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Select which of your <b>RHEL {osMajorVersion}</b> systems should be\n        included in this policy.\n        <br />\n        Systems can be added or removed at any time.\n      </Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nPrependComponent.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nexport const EditPolicySystems = ({\n  policy,\n  change,\n  osMajorVersion,\n  selectedSystems,\n}) => {\n  const onSystemSelect = (newSelectedSystems) => {\n    change('systems', newSelectedSystems);\n    change('osMinorVersionCounts', countOsMinorVersions(newSelectedSystems));\n  };\n  const osMinorVersions = policy.supportedOsVersions.map(\n    (version) => version.split('.')[1]\n  );\n  return (\n    <React.Fragment>\n      <TextContent className=\"pf-u-mb-md\">\n        <Text component={TextVariants.h1}>Systems</Text>\n      </TextContent>\n      <Form>\n        <FormGroup>\n          <SystemsTable\n            showOsMinorVersionFilter={[osMajorVersion]}\n            prependComponent={\n              <PrependComponent osMajorVersion={osMajorVersion} />\n            }\n            emptyStateComponent={<EmptyState osMajorVersion={osMajorVersion} />}\n            columns={[\n              {\n                ...Columns.Name,\n                props: {\n                  width: 40,\n                },\n                sortBy: ['name'],\n              },\n              Columns.inventoryColumn('tags'),\n              Columns.OperatingSystem,\n            ]}\n            remediationsEnabled={false}\n            compact\n            showActions={false}\n            query={GET_SYSTEMS_WITH_POLICIES}\n            defaultFilter={\n              osMajorVersion &&\n              `os_major_version = ${osMajorVersion} AND os_minor_version ^ (${osMinorVersions.join(\n                ','\n              )})`\n            }\n            enableExport={false}\n            preselectedSystems={selectedSystems}\n            onSelect={onSystemSelect}\n          />\n        </FormGroup>\n      </Form>\n    </React.Fragment>\n  );\n};\n\nEditPolicySystems.propTypes = {\n  osMajorVersion: propTypes.string,\n  policy: propTypes.object,\n  selectedSystems: propTypes.array,\n  change: reduxFormPropTypes.change,\n};\n\nEditPolicySystems.defaultProps = {\n  selectedSystems: [],\n};\n\nconst selector = formValueSelector('policyForm');\nconst mapStateToProps = (state) => ({\n  policy: selector(state, 'profile'),\n  osMajorVersion: selector(state, 'osMajorVersion'),\n  selectedSystems: selector(state, 'systems'),\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicySystems);\n","import React, { useEffect } from 'react';\nimport { compose } from 'redux';\nimport {\n  Field,\n  reduxForm,\n  formValueSelector,\n  propTypes as reduxFormPropTypes,\n} from 'redux-form';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport {\n  ReduxFormTextInput,\n  ReduxFormTextArea,\n} from 'PresentationalComponents/ReduxFormWrappers/ReduxFormWrappers';\nimport {\n  ProfileThresholdField,\n  PolicyBusinessObjectiveTooltip,\n} from 'PresentationalComponents';\n\nexport const EditPolicyDetails = ({ change, policy, refId }) => {\n  useEffect(() => {\n    if (policy && policy.refId !== refId) {\n      change('name', `${policy.name}`);\n      change('refId', `${policy.refId}`);\n      change('description', `${policy.description}`);\n    }\n  }, [policy]);\n\n  return (\n    <React.Fragment>\n      <TextContent>\n        <Text component={TextVariants.h1}>Details</Text>\n      </TextContent>\n      <br />\n      <Form id=\"editpolicydetails\">\n        <FormGroup label=\"Policy name\" isRequired fieldId=\"name\">\n          <Field\n            component={ReduxFormTextInput}\n            type=\"text\"\n            isRequired={true}\n            id=\"name\"\n            name=\"name\"\n            aria-describedby=\"name\"\n          />\n        </FormGroup>\n        <FormGroup label=\"Reference ID\" isRequired fieldId=\"refId\">\n          <Field\n            type=\"text\"\n            component={ReduxFormTextInput}\n            isDisabled\n            id=\"refId\"\n            name=\"refId\"\n            aria-describedby=\"refId\"\n          />\n        </FormGroup>\n        <FormGroup label=\"Description\" fieldId=\"description\">\n          <Field\n            type=\"text\"\n            component={ReduxFormTextArea}\n            id=\"description\"\n            name=\"description\"\n            aria-describedby=\"description\"\n          />\n        </FormGroup>\n        <FormGroup\n          label=\"Business objective\"\n          labelIcon={<PolicyBusinessObjectiveTooltip />}\n          fieldId=\"businessObjective\"\n        >\n          <Field\n            type=\"text\"\n            component={ReduxFormTextInput}\n            id=\"businessObjective\"\n            name=\"businessObjective\"\n            aria-describedby=\"businessObjective\"\n            defaultValue={policy.businessObjective}\n          />\n        </FormGroup>\n        <ProfileThresholdField previousThreshold={100} />\n      </Form>\n    </React.Fragment>\n  );\n};\n\nconst selector = formValueSelector('policyForm');\n\nEditPolicyDetails.propTypes = {\n  policy: propTypes.object,\n  refId: propTypes.string,\n  change: reduxFormPropTypes.change,\n};\n\nconst mapStateToProps = (state) => {\n  const policy = selector(state, 'profile');\n  return {\n    policy,\n    refId: selector(state, 'refId'),\n    initialValues: {\n      name: `${policy.name}`,\n      refId: `${policy.refId}`,\n      description: `${policy.description}`,\n      benchmark: selector(state, 'benchmark'),\n      osMajorVersion: selector(state, 'osMajorVersion'),\n      profile: selector(state, 'profile'),\n    },\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicyDetails);\n","import React from 'react';\nimport {\n  Text,\n  TextVariants,\n  TextContent,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { formValueSelector } from 'redux-form';\nimport { connect } from 'react-redux';\nimport gql from 'graphql-tag';\nimport propTypes from 'prop-types';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport { useQuery } from '@apollo/client';\n\nconst REVIEW = gql`\n  query review($benchmarkId: String!) {\n    benchmark(id: $benchmarkId) {\n      id\n      osMajorVersion\n    }\n  }\n`;\n\nconst ReviewCreatedPolicy = ({\n  benchmarkId,\n  name,\n  businessObjective,\n  complianceThreshold,\n  parentProfileName,\n  osMinorVersionCounts,\n}) => {\n  const { data, error, loading } = useQuery(REVIEW, {\n    variables: { benchmarkId },\n  });\n\n  if (error) {\n    return error;\n  }\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  const {\n    benchmark: { osMajorVersion },\n  } = data;\n\n  return (\n    <TextContent>\n      <Text component={TextVariants.h1}>Review</Text>\n      <Text>Review your SCAP policy before finishing.</Text>\n      <Text component={TextVariants.h3} style={{ marginTop: 0 }}>\n        {name}\n      </Text>\n      <TextList component={TextListVariants.dl}>\n        <TextListItem component={TextListItemVariants.dt}>\n          Policy type\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {parentProfileName}\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dt}>\n          Compliance threshold\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {complianceThreshold}%\n        </TextListItem>\n        {businessObjective && (\n          <React.Fragment>\n            <TextListItem component={TextListItemVariants.dt}>\n              Business objective\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {businessObjective}\n            </TextListItem>\n          </React.Fragment>\n        )}\n        <TextListItem component={TextListItemVariants.dt}>Systems</TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          <TextList component={TextListVariants.dl}>\n            {osMinorVersionCounts.map(({ osMinorVersion, count }) => (\n              <React.Fragment key={osMinorVersion}>\n                <TextListItem\n                  component={TextListItemVariants.dt}\n                  style={{ fontWeight: 'normal' }}\n                >\n                  RHEL {osMajorVersion}.{osMinorVersion}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  {count} {count > 1 ? 'systems' : 'system'}\n                </TextListItem>\n              </React.Fragment>\n            ))}\n          </TextList>\n        </TextListItem>\n      </TextList>\n    </TextContent>\n  );\n};\n\nReviewCreatedPolicy.propTypes = {\n  benchmarkId: propTypes.string,\n  refId: propTypes.string,\n  name: propTypes.string,\n  businessObjective: propTypes.string,\n  complianceThreshold: propTypes.number,\n  parentProfileName: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default connect((state) => ({\n  benchmarkId: selector(state, 'benchmark'),\n  refId: selector(state, 'refId'),\n  name: selector(state, 'name'),\n  businessObjective: selector(state, 'businessObjective'),\n  osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n  complianceThreshold:\n    parseFloat(selector(state, 'complianceThreshold')) || 100.0,\n  parentProfileName: selector(state, 'profile').name,\n  rulesCount: selector(state, 'selectedRuleRefIds').length,\n}))(ReviewCreatedPolicy);\n","import React, { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Title,\n  Button,\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  List,\n  ListItem,\n} from '@patternfly/react-core';\nimport {\n  ProgressBar,\n  LinkWithPermission as Link,\n} from 'PresentationalComponents';\nimport { WrenchIcon } from '@patternfly/react-icons';\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withApollo } from '@apollo/client/react/hoc';\nimport { usePolicy } from 'Mutations';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\n\nconst EmtpyStateWithErrors = ({ errors }) =>\n  errors && Array.isArray(errors) && errors.length > 0 ? (\n    <EmptyStateBody className=\"wizard-failed-errors\">\n      <List>\n        {errors.map((error) => (\n          <ListItem key={error}>{error}</ListItem>\n        ))}\n      </List>\n    </EmptyStateBody>\n  ) : null;\n\nEmtpyStateWithErrors.propTypes = {\n  errors: propTypes.array,\n};\n\nexport const FinishedCreatePolicy = ({\n  onWizardFinish,\n  cloneFromProfileId,\n  description,\n  name,\n  complianceThreshold,\n  businessObjective,\n  refId,\n  benchmarkId,\n  systems,\n  selectedRuleRefIds,\n}) => {\n  const [percent, setPercent] = useState(0);\n  const [message, setMessage] = useState('This usually takes a minute or two.');\n  const [errors, setErrors] = useState(null);\n  const [failed, setFailed] = useState(false);\n  const updatePolicy = usePolicy();\n\n  const onProgress = (progress) => {\n    setPercent(progress * 100);\n  };\n\n  useEffect(() => {\n    const newPolicy = {\n      cloneFromProfileId,\n      description,\n      name,\n      complianceThreshold,\n      businessObjective: { title: businessObjective },\n      refId,\n      benchmarkId,\n      hosts: systems,\n      selectedRuleRefIds,\n    };\n\n    updatePolicy(null, newPolicy, onProgress)\n      .then(({ id }) => {\n        setPercent(100);\n        setMessage();\n        dispatchNotification({\n          variant: 'success',\n          title: `Created policy \"${name}\"`,\n          autoDismiss: true,\n          description: (\n            <span>\n              From the <strong>SCAP Policies</strong> list, open{' '}\n              <Link to={`/scappolicies/${id}`}>{name}</Link>.\n            </span>\n          ),\n        });\n      })\n      .catch((error) => {\n        setMessage(error.networkError?.message);\n        setErrors(error.networkError?.result?.errors);\n        setFailed(true);\n        dispatchNotification({\n          variant: 'danger',\n          title: 'Error creating policy',\n          description: error.message,\n        });\n      });\n  }, []);\n\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full}>\n        <EmptyStateIcon icon={WrenchIcon} />\n        <br />\n        <Title headingLevel=\"h1\" size=\"lg\">\n          Creating policy\n        </Title>\n        <EmptyStateBody>\n          <ProgressBar percent={percent} failed={failed} />\n        </EmptyStateBody>\n        <EmptyStateBody className={failed && 'wizard-failed-message'}>\n          {message}\n        </EmptyStateBody>\n        <EmtpyStateWithErrors error={errors} />\n        <EmptyStateSecondaryActions>\n          {(percent === 100 || failed) && (\n            <Button\n              variant={'primary'}\n              ouiaId=\"ReturnToAppButton\"\n              onClick={() => {\n                onWizardFinish();\n              }}\n            >\n              {failed ? 'Back' : 'Return to application'}\n            </Button>\n          )}\n        </EmptyStateSecondaryActions>\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nFinishedCreatePolicy.propTypes = {\n  benchmarkId: propTypes.string.isRequired,\n  businessObjective: propTypes.object,\n  cloneFromProfileId: propTypes.string.isRequired,\n  refId: propTypes.string.isRequired,\n  name: propTypes.string.isRequired,\n  description: propTypes.string,\n  systems: propTypes.array,\n  complianceThreshold: propTypes.number,\n  onWizardFinish: propTypes.func,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.string).isRequired,\n};\n\nexport const selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => ({\n    benchmarkId: selector(state, 'benchmark'),\n    businessObjective: selector(state, 'businessObjective'),\n    cloneFromProfileId: selector(state, 'profile').id,\n    refId: selector(state, 'refId'),\n    name: selector(state, 'name'),\n    description: selector(state, 'description'),\n    complianceThreshold:\n      parseFloat(selector(state, 'complianceThreshold')) || 100.0,\n    systems: selector(state, 'systems'),\n    selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n  })),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: true,\n    forceUnregisterOnUnmount: true,\n  }),\n  withApollo\n)(FinishedCreatePolicy);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { formValueSelector, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport { Wizard } from '@patternfly/react-core';\nimport CreateSCAPPolicy from './CreateSCAPPolicy';\nimport { default as EditPolicyRules } from './EditPolicyProfilesRules';\nimport EditPolicySystems from './EditPolicySystems';\nimport EditPolicyDetails from './EditPolicyDetails';\nimport ReviewCreatedPolicy from './ReviewCreatedPolicy';\nimport FinishedCreatePolicy from './FinishedCreatePolicy';\nimport {\n  validateBenchmarkPage,\n  validateDetailsPage,\n  validateRulesPage,\n  validateSystemsPage,\n} from './validate';\n\nexport const CreatePolicyForm = ({\n  benchmark,\n  osMajorVersion,\n  complianceThreshold,\n  name,\n  profile,\n  refId,\n  selectedRuleRefIds,\n  systemIds,\n  reset,\n}) => {\n  const history = useHistory();\n  const [stepIdReached, setStepIdReached] = useState(1);\n  const resetAnchor = () => {\n    const { location } = history;\n    if (location.hash) {\n      history.push({ ...location, hash: '' });\n    }\n  };\n\n  const onNext = ({ id }) => {\n    setStepIdReached(stepIdReached < id ? id : stepIdReached);\n    resetAnchor();\n  };\n\n  const onClose = () => {\n    reset();\n    history.push('/scappolicies');\n  };\n\n  const steps = [\n    {\n      id: 1,\n      name: 'Create SCAP policy',\n      component: <CreateSCAPPolicy />,\n      enableNext: validateBenchmarkPage(benchmark, osMajorVersion, profile),\n    },\n    {\n      id: 2,\n      name: 'Details',\n      component: <EditPolicyDetails />,\n      canJumpTo: stepIdReached >= 2,\n      enableNext: validateDetailsPage(name, refId, complianceThreshold),\n    },\n    {\n      id: 3,\n      name: 'Systems',\n      component: <EditPolicySystems />,\n      canJumpTo: stepIdReached >= 3,\n      enableNext: validateSystemsPage(systemIds),\n    },\n    {\n      id: 4,\n      name: 'Rules',\n      component: <EditPolicyRules />,\n      canJumpTo: systemIds?.length > 0 && stepIdReached >= 4,\n      enableNext: validateRulesPage(selectedRuleRefIds),\n    },\n    {\n      id: 5,\n      name: 'Review',\n      component: <ReviewCreatedPolicy />,\n      nextButtonText: 'Finish',\n      canJumpTo:\n        validateRulesPage(selectedRuleRefIds) &&\n        systemIds?.length > 0 &&\n        stepIdReached >= 5,\n    },\n    {\n      id: 6,\n      name: 'Finished',\n      component: <FinishedCreatePolicy onWizardFinish={onClose} />,\n      isFinishedStep: true,\n      canJumpTo: systemIds?.length > 0 && stepIdReached >= 6,\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <Wizard\n        className=\"compliance\"\n        isOpen\n        onNext={onNext}\n        onGoToStep={resetAnchor}\n        onBack={resetAnchor}\n        onClose={onClose}\n        title=\"Create SCAP policy\"\n        description=\"Create a new policy for managing SCAP compliance\"\n        steps={steps}\n      />\n    </React.Fragment>\n  );\n};\n\nCreatePolicyForm.propTypes = {\n  benchmark: propTypes.string,\n  osMajorVersion: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n  complianceThreshold: propTypes.string,\n  businessObjective: propTypes.object,\n  dispatch: propTypes.func,\n  isOpen: propTypes.bool,\n  name: propTypes.string,\n  onWizardFinish: propTypes.func,\n  profile: propTypes.string,\n  refId: propTypes.string,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.string),\n  systemIds: propTypes.arrayOf(propTypes.string),\n  reset: propTypes.func,\n};\n\nCreatePolicyForm.defaultProps = {\n  isOpen: false,\n};\n\nconst CreatePolicy = reduxForm({\n  form: 'policyForm',\n})(CreatePolicyForm);\n\nconst selector = formValueSelector('policyForm');\nexport default connect((state) => ({\n  benchmark: selector(state, 'benchmark'),\n  osMajorVersion: selector(state, 'osMajorVersion'),\n  osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n  businessObjective: selector(state, 'businessObjective'),\n  complianceThreshold: selector(state, 'complianceThreshold') || 100,\n  name: selector(state, 'name'),\n  profile: selector(state, 'profile'),\n  refId: selector(state, 'refId'),\n  selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n  systemIds: selector(state, 'systems'),\n}))(CreatePolicy);\n","import { Button, ModalVariant, TextContent } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { DELETE_REPORT } from 'Mutations';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { ComplianceModal } from 'PresentationalComponents';\nimport { dispatchAction } from 'Utilities/Dispatcher';\n\nconst DeleteReport = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const { id } = location.state?.profile;\n  const onClose = () => {\n    history.push(location.state.background);\n  };\n\n  const onDelete = () => {\n    history.push('/reports');\n  };\n\n  const [deleteReport] = useMutation(DELETE_REPORT, {\n    onCompleted: () => {\n      dispatchAction(\n        addNotification({\n          variant: 'success',\n          title: 'Report deleted',\n          description:\n            'Systems associated with this policy will upload reports on the next check-in.',\n        })\n      );\n      onDelete();\n    },\n    onError: (error) => {\n      dispatchAction(\n        addNotification({\n          variant: 'danger',\n          title: 'Error removing report',\n          description: error.message,\n        })\n      );\n      onClose();\n    },\n  });\n  return (\n    <ComplianceModal\n      isOpen\n      variant={ModalVariant.small}\n      title=\"Delete report\"\n      ouiaId=\"DeleteReportModal\"\n      onClose={onClose}\n      actions={[\n        <Button\n          key=\"destroy\"\n          ouiaId=\"DeleteReportButton\"\n          aria-label=\"delete\"\n          variant=\"danger\"\n          onClick={() =>\n            deleteReport({\n              variables: {\n                input: {\n                  profileId: id,\n                },\n              },\n            })\n          }\n        >\n          Delete report\n        </Button>,\n        <Button\n          key=\"cancel\"\n          ouiaId=\"DeleteReportCancelButton\"\n          variant=\"secondary\"\n          onClick={() => onClose()}\n        >\n          Cancel\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        Deleting a report is permanent and cannot be undone.\n      </TextContent>\n    </ComplianceModal>\n  );\n};\n\nDeleteReport.propTypes = {\n  onClose: propTypes.func,\n  isModalOpen: propTypes.bool,\n  onDelete: propTypes.func,\n  policyId: propTypes.string,\n};\n\nDeleteReport.defaultProps = {\n  onDelete: () => {},\n  onClose: () => {},\n};\n\nexport default DeleteReport;\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { FormGroup, TextArea, TextInput } from '@patternfly/react-core';\nimport {\n  PolicyThresholdTooltip,\n  PolicyBusinessObjectiveTooltip,\n  ComplianceThresholdHelperText,\n} from 'PresentationalComponents';\nimport { thresholdValid } from '../CreatePolicy/validate';\n\nexport const useThresholdValidate = () => {\n  const [validThreshold, setValidThreshold] = useState(true);\n  return [\n    validThreshold,\n    (threshold) => {\n      const valid = thresholdValid(threshold);\n      setValidThreshold(valid);\n      return valid;\n    },\n  ];\n};\n\nconst EditPolicyDetailsTab = ({ policy, updatedPolicy, setUpdatedPolicy }) => {\n  const [validThreshold, validateThreshold] = useThresholdValidate();\n\n  return (\n    <div className=\"pf-c-form\">\n      <FormGroup label=\"Policy description\" isRequired fieldId=\"description\">\n        <TextArea\n          style={{ width: 800, height: 110 }}\n          isRequired\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n          aria-describedby=\"description\"\n          defaultValue={policy.description}\n          onChange={(value) => {\n            setUpdatedPolicy((policy) => ({\n              ...policy,\n              description: value,\n            }));\n          }}\n        />\n      </FormGroup>\n\n      <FormGroup\n        label=\"Business objective\"\n        labelIcon={<PolicyBusinessObjectiveTooltip />}\n        fieldId=\"business-objective\"\n      >\n        <TextInput\n          type=\"text\"\n          style={{ width: 300 }}\n          id=\"business-objective\"\n          name=\"business-objective\"\n          aria-describedby=\"business-objective\"\n          defaultValue={policy?.businessObjective?.title}\n          onChange={(value) => {\n            setUpdatedPolicy((policy) => ({\n              ...policy,\n              businessObjective: {\n                ...policy.businessObjective,\n                title: value,\n              },\n            }));\n          }}\n        />\n      </FormGroup>\n\n      <FormGroup\n        validated={validThreshold ? 'default' : 'error'}\n        label=\"Compliance threshold (%)\"\n        labelIcon={<PolicyThresholdTooltip />}\n        fieldId=\"policy-threshold\"\n        helperTextInvalid={\n          <ComplianceThresholdHelperText\n            threshold={\n              updatedPolicy\n                ? updatedPolicy.complianceThreshold\n                : policy.complianceThreshold\n            }\n          />\n        }\n        helperText=\"A value of 95% or higher is recommended\"\n      >\n        <TextInput\n          type=\"number\"\n          style={{ width: 150 }}\n          name=\"compliance-threshold\"\n          id=\"compliance-threshold\"\n          defaultValue={policy.complianceThreshold}\n          aria-describedby=\"policy-threshold\"\n          onChange={(value) => {\n            setUpdatedPolicy((policy) => ({\n              ...policy,\n              complianceThreshold: parseFloat(value),\n              complianceThresholdValid: validateThreshold(value),\n            }));\n          }}\n        />\n      </FormGroup>\n    </div>\n  );\n};\n\nEditPolicyDetailsTab.propTypes = {\n  policy: propTypes.shape({\n    description: propTypes.string,\n    businessObjective: propTypes.object,\n    complianceThreshold: propTypes.oneOfType([\n      propTypes.string,\n      propTypes.number,\n    ]),\n  }),\n  updatedPolicy: propTypes.shape({\n    description: propTypes.string,\n    businessObjective: propTypes.object,\n    complianceThreshold: propTypes.number,\n  }),\n  setUpdatedPolicy: propTypes.func,\n};\n\nexport default EditPolicyDetailsTab;\n","import gql from 'graphql-tag';\n\nexport const PROFILES_QUERY = gql`\n  query Profiles($filter: String!) {\n    profiles(search: $filter) {\n      edges {\n        node {\n          id\n          name\n          refId\n          osMinorVersion\n          osMajorVersion\n          policy {\n            id\n          }\n          policyType\n          benchmark {\n            id\n            refId\n            latestSupportedOsMinorVersions\n            osMajorVersion\n            version\n          }\n          rules {\n            id\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const BENCHMARKS_QUERY = gql`\n  query Benchmarks($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        latestSupportedOsMinorVersions\n        profiles {\n          id\n          refId\n          ssgVersion\n        }\n      }\n    }\n  }\n`;\n","import React, { useEffect } from 'react';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  Text,\n  TextContent,\n  Title,\n} from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport { StateViewWithError, StateViewPart } from 'PresentationalComponents';\nimport {\n  TabbedRules,\n  profilesWithRulesToSelection,\n  tabsDataToOsMinorMap,\n  extendProfilesByOsMinor,\n} from 'PresentationalComponents/TabbedRules';\nimport { sortingByProp } from 'Utilities/helpers';\nimport * as Columns from '@/PresentationalComponents/RulesTable/Columns';\nimport { BENCHMARKS_QUERY, PROFILES_QUERY } from './constants';\n\nconst getBenchmarkBySupportedOsMinor = (benchmarks, osMinorVersion) =>\n  benchmarks.find((benchmark) =>\n    benchmark.latestSupportedOsMinorVersions?.includes(osMinorVersion)\n  );\n\nconst getBenchmarkProfile = (benchmark, profileRefId) =>\n  benchmark.profiles.find(\n    (benchmarkProfile) => benchmarkProfile.refId === profileRefId\n  );\n\nconst EditPolicyRulesTabEmptyState = () => (\n  <EmptyState>\n    <Title headingLevel=\"h5\" size=\"lg\">\n      No rules can be configured\n    </Title>\n    <EmptyStateBody>\n      This policy has no associated systems, and therefore no rules can be\n      configured.\n    </EmptyStateBody>\n    <EmptyStateBody>\n      Add at least one system to configure rules for this policy.\n    </EmptyStateBody>\n  </EmptyState>\n);\n\nexport const toTabsData = (policy, osMinorVersionCounts, benchmarks) =>\n  Object.values(osMinorVersionCounts)\n    .sort(sortingByProp('osMinorVersion', 'desc'))\n    .map(({ osMinorVersion, count: systemCount }) => {\n      osMinorVersion = `${osMinorVersion}`;\n      let profile = policy.policy.profiles.find(\n        (profile) => profile.osMinorVersion === osMinorVersion\n      );\n      let osMajorVersion = policy.osMajorVersion;\n\n      if (!profile && benchmarks) {\n        const benchmark = getBenchmarkBySupportedOsMinor(\n          benchmarks,\n          osMinorVersion\n        );\n        if (benchmark) {\n          const benchmarkProfile = getBenchmarkProfile(benchmark, policy.refId);\n          if (benchmarkProfile) {\n            profile = policy.policy.profiles.find(\n              (profile) =>\n                profile.parentProfileId === benchmarkProfile.id &&\n                profile.osMinorVersion === osMinorVersion\n            );\n\n            profile = {\n              ...benchmarkProfile,\n              benchmark,\n              osMajorVersion,\n              ...profile,\n            };\n          }\n        }\n      }\n\n      return {\n        profile,\n        systemCount,\n        newOsMinorVersion: osMinorVersion,\n      };\n    })\n    .filter(({ profile, newOsMinorVersion }) => !!profile && newOsMinorVersion);\n\nexport const EditPolicyRulesTab = ({\n  policy,\n  selectedRuleRefIds,\n  setSelectedRuleRefIds,\n  osMinorVersionCounts,\n}) => {\n  const osMajorVersion = policy?.osMajorVersion;\n  const osMinorVersions = Object.keys(osMinorVersionCounts).sort();\n  const benchmarkSearch =\n    `os_major_version = ${osMajorVersion} ` +\n    `and latest_supported_os_minor_version ^ \"${osMinorVersions.join(',')}\"`;\n\n  const {\n    data: benchmarksData,\n    error: benchmarksError,\n    loading: benchmarksLoading,\n  } = useQuery(BENCHMARKS_QUERY, {\n    variables: {\n      filter: benchmarkSearch,\n    },\n    skip: osMinorVersions.length === 0,\n  });\n\n  const benchmarks = benchmarksData?.benchmarks?.nodes;\n\n  const tabsData = toTabsData(policy, osMinorVersionCounts, benchmarks);\n  const profileToOsMinorMap = tabsDataToOsMinorMap(tabsData);\n  const filter = Object.keys(profileToOsMinorMap)\n    .map((i) => `id = ${i}`)\n    .join(' OR ');\n  const {\n    data: profilesData,\n    error: profilesError,\n    loading: profilesLoading,\n  } = useQuery(PROFILES_QUERY, {\n    variables: {\n      filter,\n    },\n    skip: filter.length === 0,\n  });\n  const loadingState = profilesLoading || benchmarksLoading ? true : undefined;\n  const dataState =\n    !loadingState && tabsData?.length > 0 ? profilesData : undefined;\n\n  useEffect(() => {\n    if (profilesData) {\n      const profiles = profilesData?.profiles.edges.map((p) => p.node) || [];\n      const profilesWithOs = extendProfilesByOsMinor(\n        profiles,\n        profileToOsMinorMap\n      );\n      setSelectedRuleRefIds((prevSelection) => {\n        const newSelection = profilesWithRulesToSelection(\n          profilesWithOs,\n          prevSelection\n        );\n        return newSelection;\n      });\n    }\n  }, [profilesData]);\n  const error = benchmarksError || profilesError;\n\n  return (\n    <StateViewWithError\n      stateValues={{\n        error,\n        data: !error && dataState,\n        loading: loadingState,\n        empty: !loadingState && !dataState && !error,\n      }}\n    >\n      <StateViewPart stateKey=\"loading\">\n        <EmptyTable>\n          <Spinner />\n        </EmptyTable>\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <TextContent>\n          <Text>\n            Different release versions of RHEL are associated with different\n            versions of the SCAP Security Guide (SSG), therefore each release\n            must be customized independently.\n          </Text>\n        </TextContent>\n        <TabbedRules\n          columns={[Columns.Name, Columns.Severity, Columns.Remediation]}\n          tabsData={tabsData}\n          selectedRuleRefIds={selectedRuleRefIds}\n          setSelectedRuleRefIds={setSelectedRuleRefIds}\n          remediationsEnabled={false}\n          selectedFilter\n          level={1}\n          ouiaId=\"RHELVersions\"\n        />\n      </StateViewPart>\n      <StateViewPart stateKey=\"empty\">\n        <EditPolicyRulesTabEmptyState />\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nEditPolicyRulesTab.propTypes = {\n  setNewRuleTabs: propTypes.func,\n  policy: propTypes.object,\n  osMinorVersionCounts: propTypes.shape({\n    osMinorVersion: propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    }),\n  }),\n  selectedRuleRefIds: propTypes.array,\n  setSelectedRuleRefIds: propTypes.func,\n};\n\nexport default EditPolicyRulesTab;\n","import React from 'react';\nimport { Text, TextContent } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport { SystemsTable } from 'SmartComponents';\nimport { GET_SYSTEMS_WITH_POLICIES } from '../SystemsTable/constants';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst EmptyState = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        You do not have any <b>RHEL {osMajorVersion}</b> systems connected to\n        Insights and enabled for Compliance.\n      </Text>\n    </TextContent>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>Connect RHEL {osMajorVersion} systems to Insights.</Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nEmptyState.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst PrependComponent = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Select which of your <b>RHEL {osMajorVersion}</b> systems should be\n        included in this policy.\n      </Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nPrependComponent.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst EditPolicySystemsTab = ({ policy, onSystemSelect, selectedSystems }) => {\n  const { id: policyId, osMajorVersion, supportedOsVersions } = policy;\n  const osMinorVersions = supportedOsVersions.map(\n    (version) => version.split('.')[1]\n  );\n  const osFilter =\n    osMajorVersion &&\n    `os_major_version = ${osMajorVersion} AND os_minor_version ^ (${osMinorVersions.join(\n      ','\n    )})`;\n  const defaultFilter = osFilter\n    ? `${osFilter} or policy_id = ${policyId}`\n    : `policy_id = ${policyId}`;\n\n  return (\n    <React.Fragment>\n      <SystemsTable\n        columns={[\n          Columns.Name,\n          Columns.inventoryColumn('tags'),\n          Columns.OperatingSystem,\n        ]}\n        showOsMinorVersionFilter={[osMajorVersion]}\n        prependComponent={<PrependComponent osMajorVersion={osMajorVersion} />}\n        emptyStateComponent={<EmptyState osMajorVersion={osMajorVersion} />}\n        compact\n        showActions={false}\n        query={GET_SYSTEMS_WITH_POLICIES}\n        defaultFilter={defaultFilter}\n        enableExport={false}\n        remediationsEnabled={false}\n        preselectedSystems={selectedSystems}\n        onSelect={onSystemSelect}\n      />\n    </React.Fragment>\n  );\n};\n\nEditPolicySystemsTab.propTypes = {\n  policy: propTypes.object,\n  newRuleTabs: propTypes.bool,\n  onSystemSelect: propTypes.func,\n  selectedSystems: propTypes.array,\n};\n\nexport default EditPolicySystemsTab;\n","import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { Alert, AlertActionLink } from '@patternfly/react-core';\n\nconst NewRulesAlert = () => {\n  const history = useHistory();\n  const location = useLocation();\n\n  return (\n    <Alert\n      variant=\"info\"\n      isInline\n      title=\"You selected a system that has a release version previously not included in this policy.\"\n      actionLinks={\n        <AlertActionLink\n          onClick={() => history.push({ ...location, hash: '#rules' })}\n        >\n          Open rule editing\n        </AlertActionLink>\n      }\n    >\n      <p>\n        If you have edited any rules for this policy, you will need to do so for\n        this release version as well.\n      </p>\n    </Alert>\n  );\n};\n\nexport default NewRulesAlert;\n","import React, { useCallback, useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { Form, Tab, TabTitleText } from '@patternfly/react-core';\nimport { RoutedTabs } from 'PresentationalComponents';\nimport EditPolicyDetailsTab from './EditPolicyDetailsTab';\nimport EditPolicyRulesTab from './EditPolicyRulesTab';\nimport EditPolicySystemsTab from './EditPolicySystemsTab';\nimport NewRulesAlert from './components/NewRulesAlert';\nimport { mapCountOsMinorVersions } from 'Store/Reducers/SystemStore';\nimport { profilesWithRulesToSelection } from 'PresentationalComponents/TabbedRules';\nimport { thresholdValid } from '../CreatePolicy/validate';\nimport { useNewRulesAlertState } from './hooks/index';\n\nconst profilesToOsMinorMap = (profiles, hosts) =>\n  (profiles || []).reduce((acc, profile) => {\n    if (profile.osMinorVersion !== '') {\n      acc[profile.osMinorVersion] ||= {\n        osMinorVersion: profile.osMinorVersion,\n        count: 0,\n      };\n    }\n\n    return acc;\n  }, mapCountOsMinorVersions(hosts || []));\n\nconst EditPolicyForm = ({\n  policy,\n  updatedPolicy,\n  setUpdatedPolicy,\n  selectedRuleRefIds,\n  setSelectedRuleRefIds,\n  selectedSystems,\n  setSelectedSystems,\n}) => {\n  const policyProfiles = policy?.policy?.profiles || [];\n  const [osMinorVersionCounts, setOsMinorVersionCounts] = useState({});\n  const [newRulesAlert, setNewRulesAlert] = useNewRulesAlertState(false);\n\n  const handleSystemSelect = useCallback(\n    (newSelectedSystems) => {\n      const policyMinorVersions = policy.hosts.map(\n        ({ osMinorVersion }) => osMinorVersion\n      );\n      const hasNewOsMinorVersions =\n        newSelectedSystems.filter(\n          ({ osMinorVersion }) => !policyMinorVersions.includes(osMinorVersion)\n        ).length > 0;\n\n      setSelectedSystems(newSelectedSystems);\n      setNewRulesAlert(hasNewOsMinorVersions);\n      setOsMinorVersionCounts(\n        profilesToOsMinorMap(policyProfiles, newSelectedSystems)\n      );\n    },\n    [policyProfiles, selectedRuleRefIds]\n  );\n\n  useEffect(() => {\n    if (policy) {\n      const complianceThresholdValid = thresholdValid(\n        policy.complianceThreshold\n      );\n      const profilesWithOsMinor = policyProfiles.filter(\n        ({ osMinorVersion }) => !!osMinorVersion\n      );\n      setUpdatedPolicy({\n        ...policy,\n        complianceThresholdValid,\n      });\n\n      setSelectedRuleRefIds(profilesWithRulesToSelection(profilesWithOsMinor));\n      handleSystemSelect(policy.hosts);\n    }\n  }, [policy]);\n\n  return (\n    <Form>\n      <RoutedTabs ouiaId=\"EditPolicy\" defaultTab=\"details\" id=\"policy-tabs\">\n        <Tab\n          eventKey=\"details\"\n          ouiaId=\"Details\"\n          title={<TabTitleText>Details</TabTitleText>}\n        >\n          <EditPolicyDetailsTab\n            policy={policy}\n            updatedPolicy={updatedPolicy}\n            setUpdatedPolicy={setUpdatedPolicy}\n          />\n        </Tab>\n\n        <Tab\n          eventKey=\"rules\"\n          ouiaId=\"Rules\"\n          title={<TabTitleText>Rules</TabTitleText>}\n        >\n          <EditPolicyRulesTab\n            policy={policy}\n            setSelectedRuleRefIds={setSelectedRuleRefIds}\n            selectedRuleRefIds={selectedRuleRefIds}\n            osMinorVersionCounts={osMinorVersionCounts}\n          />\n        </Tab>\n\n        <Tab\n          eventKey=\"systems\"\n          ouiaId=\"Systems\"\n          title={<TabTitleText>Systems</TabTitleText>}\n        >\n          <EditPolicySystemsTab\n            policy={policy}\n            selectedSystems={selectedSystems}\n            onSystemSelect={handleSystemSelect}\n          />\n          {newRulesAlert && <NewRulesAlert />}\n        </Tab>\n      </RoutedTabs>\n    </Form>\n  );\n};\n\nEditPolicyForm.propTypes = {\n  policy: propTypes.object,\n  updatedPolicy: propTypes.object,\n  setUpdatedPolicy: propTypes.func,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.object),\n  setSelectedRuleRefIds: propTypes.func,\n  setSelectedSystems: propTypes.func,\n  selectedSystems: propTypes.array,\n};\n\nexport default EditPolicyForm;\n","import { useState } from 'react';\n\nexport const useNewRulesAlertState = (...args) => useState(...args);\n","import { useState } from 'react';\nimport { usePolicy } from 'Mutations';\nimport { useLinkToBackground, useAnchor } from 'Utilities/Router';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\n\nexport const useLinkToPolicy = () => {\n  const anchor = useAnchor();\n  const linkToBackground = useLinkToBackground('/scappolicies');\n  return () => {\n    linkToBackground({ hash: anchor });\n  };\n};\n\nexport const useOnSave = (policy, updatedPolicyHostsAndRules) => {\n  const updatePolicy = usePolicy();\n  const linkToPolicy = useLinkToPolicy();\n  const [isSaving, setIsSaving] = useState(false);\n  const onSave = () => {\n    if (isSaving) {\n      return Promise.resolve({});\n    }\n\n    setIsSaving(true);\n    updatePolicy(policy, updatedPolicyHostsAndRules)\n      .then(() => {\n        setIsSaving(false);\n        dispatchNotification({\n          variant: 'success',\n          title: 'Policy updated',\n          autoDismiss: true,\n        });\n        linkToPolicy();\n      })\n      .catch((error) => {\n        setIsSaving(false);\n        dispatchNotification({\n          variant: 'danger',\n          title: 'Error updating policy',\n          description: error.message,\n        });\n        linkToPolicy();\n      });\n  };\n\n  return [isSaving, onSave];\n};\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { Button, Spinner } from '@patternfly/react-core';\nimport { useTitleEntity } from 'Utilities/hooks/useDocumentTitle';\nimport {\n  ComplianceModal,\n  StateViewWithError,\n  StateViewPart,\n} from 'PresentationalComponents';\nimport EditPolicyForm from './EditPolicyForm';\nimport { useOnSave, useLinkToPolicy } from './hooks';\n\nexport const MULTIVERSION_QUERY = gql`\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      external\n      description\n      totalHostCount\n      compliantHostCount\n      complianceThreshold\n      osMajorVersion\n      osMajorVersion\n      supportedOsVersions\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n        refId\n        profiles {\n          id\n          parentProfileId\n          name\n          refId\n          osMinorVersion\n          osMajorVersion\n          benchmark {\n            id\n            title\n            latestSupportedOsMinorVersions\n            osMajorVersion\n            version\n          }\n          rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n          }\n        }\n      }\n      businessObjective {\n        id\n        title\n      }\n      hosts {\n        id\n        osMinorVersion\n        osMajorVersion\n      }\n    }\n  }\n`;\n\nexport const EditPolicy = ({ route }) => {\n  const { policy_id: policyId } = useParams();\n  const { data, loading, error } = useQuery(MULTIVERSION_QUERY, {\n    variables: { policyId },\n  });\n  const policy = data?.profile;\n  const linkToPolicy = useLinkToPolicy();\n  const [updatedPolicy, setUpdatedPolicy] = useState(null);\n  const [selectedRuleRefIds, setSelectedRuleRefIds] = useState([]);\n  const [selectedSystems, setSelectedSystems] = useState([]);\n  const saveEnabled = updatedPolicy && !updatedPolicy.complianceThresholdValid;\n  const updatedPolicyHostsAndRules = {\n    ...updatedPolicy,\n    selectedRuleRefIds,\n    hosts: selectedSystems,\n  };\n  const [isSaving, onSave] = useOnSave(policy, updatedPolicyHostsAndRules);\n\n  const actions = [\n    <Button\n      isDisabled={saveEnabled}\n      key=\"save\"\n      ouiaId=\"EditPolicySaveButton\"\n      variant=\"primary\"\n      spinnerAriaValueText=\"Saving\"\n      isLoading={isSaving}\n      onClick={onSave}\n    >\n      Save\n    </Button>,\n    <Button\n      key=\"cancel\"\n      ouiaId=\"EditPolicyCancelButton\"\n      variant=\"link\"\n      onClick={() => linkToPolicy()}\n    >\n      Cancel\n    </Button>,\n  ];\n\n  useTitleEntity(route, policy?.name);\n\n  return (\n    <ComplianceModal\n      isOpen\n      position={'top'}\n      style={{ minHeight: '350px' }}\n      variant={'large'}\n      ouiaId=\"EditPolicyModal\"\n      title={`Edit ${policy ? policy.name : ''}`}\n      onClose={() => linkToPolicy()}\n      actions={actions}\n    >\n      <StateViewWithError stateValues={{ policy, loading, error }}>\n        <StateViewPart stateKey=\"loading\">\n          <Spinner />\n        </StateViewPart>\n        <StateViewPart stateKey=\"policy\">\n          <EditPolicyForm\n            {...{\n              policy,\n              updatedPolicy,\n              setUpdatedPolicy,\n              selectedRuleRefIds,\n              setSelectedRuleRefIds,\n              selectedSystems,\n              setSelectedSystems,\n            }}\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </ComplianceModal>\n  );\n};\n\nEditPolicy.propTypes = {\n  route: propTypes.object,\n};\n\nexport default EditPolicy;\n","import React, { Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\n\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport Truncate from '@redhat-cloud-services/frontend-components/Truncate';\nimport {\n  UnsupportedSSGVersion,\n  ComplianceScore as complianceScore,\n  LinkWithPermission as Link,\n} from 'PresentationalComponents';\nimport {\n  profilesRulesFailed,\n  complianceScoreData,\n  NEVER,\n} from 'Utilities/ruleHelpers';\n\nconst SystemLink = ({ id, children }) => (\n  <Link to={{ pathname: `/systems/${id}` }}>{children}</Link>\n);\n\nSystemLink.propTypes = {\n  id: propTypes.string,\n  children: propTypes.node,\n};\n\nexport const Name = ({\n  id,\n  name,\n  osMajorVersion,\n  osMinorVersion,\n  showOsInfo = false,\n  showLink = false,\n}) => {\n  const hasOsInfo = (osMajorVersion, osMinorVersion) =>\n    !!osMajorVersion && !!osMinorVersion && showOsInfo;\n\n  return (\n    <TextContent>\n      {showLink ? <SystemLink {...{ id }}>{name}</SystemLink> : name}\n\n      {hasOsInfo(osMajorVersion, osMinorVersion) && (\n        <Text component={TextVariants.small}>\n          RHEL {osMajorVersion}.{osMinorVersion}\n        </Text>\n      )}\n    </TextContent>\n  );\n};\n\nName.propTypes = {\n  id: propTypes.string,\n  name: propTypes.string,\n  osMajorVersion: propTypes.string,\n  osMinorVersion: propTypes.string,\n  showOsInfo: propTypes.bool,\n  showLink: propTypes.bool,\n};\n\nexport const profilesSsgVersions = (profiles) =>\n  profiles\n    .map((p) => p.ssgVersion)\n    .filter((version) => !!version)\n    .join(', ');\n\nexport const SSGVersion = ({ ssgVersion = 'Not available', supported }) =>\n  supported ? (\n    ssgVersion\n  ) : (\n    <UnsupportedSSGVersion messageVariant=\"singular\">\n      {ssgVersion}\n    </UnsupportedSSGVersion>\n  );\n\nSSGVersion.propTypes = {\n  supported: propTypes.bool,\n  ssgVersion: propTypes.string,\n};\n\nexport const SSGVersions = ({ testResultProfiles = [] }) =>\n  testResultProfiles.length !== 0\n    ? testResultProfiles.map((profile) => (\n        <SSGVersion\n          key={`ssgversion-${profile.id}`}\n          ssgVersion={profile?.benchmark?.version}\n          supported={profile?.supported}\n        />\n      ))\n    : 'Unknown';\n\nSSGVersions.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nexport const DetailsLink = ({ id, testResultProfiles = [] }) =>\n  testResultProfiles.length > 0 ? (\n    <SystemLink {...{ id }}>View Report</SystemLink>\n  ) : (\n    ''\n  );\n\nDetailsLink.propTypes = {\n  id: propTypes.string,\n  testResultProfiles: propTypes.array,\n};\n\nexport const Policies = ({ policies }) =>\n  (policies || []).length > 0 && (\n    <Truncate\n      inline\n      text={policies.map((p) => p.name).join(', ')}\n      length={215}\n    />\n  );\n\nPolicies.propTypes = {\n  policies: propTypes.array,\n};\n\nexport const FailedRules = ({ id, testResultProfiles }) => {\n  const rulesFailed = profilesRulesFailed(testResultProfiles).length;\n  return (\n    <SystemLink {...{ id }}>\n      {testResultProfiles.length > 0 ? rulesFailed : 'N/A'}\n    </SystemLink>\n  );\n};\n\nFailedRules.propTypes = {\n  id: propTypes.string,\n  testResultProfiles: propTypes.array,\n};\n\nexport { complianceScoreData };\nexport const ComplianceScore = ({ testResultProfiles }) =>\n  testResultProfiles.length > 0\n    ? complianceScore(complianceScoreData(testResultProfiles))\n    : 'N/A';\n\nComplianceScore.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nconst NeverScanned = () => (\n  <Tooltip\n    position=\"right\"\n    content={\n      <Fragment>\n        This system has never returned a report for this policy. This may be\n        because it is disconnected, or the insights-client on this system is not\n        configured to use Compliance.\n      </Fragment>\n    }\n  >\n    <ExclamationTriangleIcon color=\"var(--pf-global--warning-color--100)\" />\n    {' ' + NEVER}\n  </Tooltip>\n);\n\nexport const lastScanned = (profiles) => {\n  const dates = profiles.map((profile) => new Date(profile.lastScanned));\n  const last = new Date(\n    Math.max.apply(\n      null,\n      dates.filter((date) => isFinite(date))\n    )\n  );\n  const result =\n    last instanceof Date && isFinite(last) ? last : <NeverScanned />;\n\n  return result;\n};\n\nexport const LastScanned = ({ testResultProfiles: profiles }) => {\n  const lastScannedDate = lastScanned(profiles || []);\n\n  return lastScannedDate instanceof Date ? (\n    <DateFormat date={Date.parse(lastScannedDate)} type=\"relative\" />\n  ) : (\n    lastScannedDate\n  );\n};\n\nLastScanned.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nexport const operatingSystemString = ({ osMinorVersion, osMajorVersion }) =>\n  `RHEL ${osMajorVersion}.${osMinorVersion}`;\n\nexport const OperatingSystem = (system) => operatingSystemString(system);\n","import React from 'react';\nimport { nowrap } from '@patternfly/react-table';\nimport { Tooltip } from '@patternfly/react-core';\nimport { complianceScoreString } from 'PresentationalComponents';\nimport { profilesRulesFailed } from 'Utilities/ruleHelpers';\nimport { renderComponent } from 'Utilities/helpers';\n\nimport {\n  Name as NameCell,\n  ComplianceScore as ComplianceScoreCell,\n  DetailsLink as DetailsLinkCell,\n  FailedRules as FailedRulesCell,\n  LastScanned as LastScannedCell,\n  Policies as PoliciesCell,\n  SSGVersions as SsgVersionCell,\n  complianceScoreData,\n  lastScanned,\n  operatingSystemString,\n  OperatingSystem as OperatingSystemCell,\n} from './Cells';\n\nconst disableSorting = { isStatic: true };\n\nexport const compileColumnRenderFunc = ({ cell, ...column }) => ({\n  ...column,\n  renderFunc: renderComponent(cell, column.props),\n});\n\nexport const customColumn = (column, props) =>\n  compileColumnRenderFunc({\n    ...column,\n    props: {\n      ...column.props,\n      ...props,\n    },\n  });\n\nexport const Name = compileColumnRenderFunc({\n  key: 'name',\n  title: 'Name',\n  sortBy: ['name'],\n  props: {\n    width: 40,\n  },\n  renderExport: (system) => `${system.name} (${operatingSystemString(system)})`,\n  cell: NameCell,\n});\n\nexport const customName = (props) => ({\n  ...Name,\n  props: {\n    ...Name.props,\n    ...props,\n  },\n  renderFunc: renderComponent(NameCell, props),\n});\n\nexport const SsgVersion = {\n  title: 'SSG version',\n  transforms: [nowrap],\n  exportKey: 'testResultProfiles',\n  sortBy: ['ssg_version'],\n  key: 'ssg_version',\n  renderExport: (testResultProfiles) =>\n    testResultProfiles\n      .map(\n        ({ supported, benchmark: { version } }) =>\n          `${!supported ? '!' : ''}${version}`\n      )\n      .join(', '),\n  renderFunc: renderComponent(SsgVersionCell),\n};\n\nexport const Policies = {\n  title: 'Policies',\n  transforms: [nowrap],\n  exportKey: 'policies',\n  renderExport: (policies) => policies.map(({ name }) => name).join(', '),\n  props: {\n    width: 40,\n    ...disableSorting,\n  },\n  renderFunc: renderComponent(PoliciesCell),\n};\n\nexport const DetailsLink = {\n  title: '',\n  export: false,\n  props: {\n    width: 20,\n    ...disableSorting,\n  },\n  renderFunc: renderComponent(DetailsLinkCell),\n};\n\nexport const FailedRules = {\n  title: 'Failed rules',\n  exportKey: 'testResultProfiles',\n  transforms: [nowrap],\n  props: {\n    width: 5,\n    ...disableSorting,\n  },\n  renderExport: (testResultProfiles) =>\n    profilesRulesFailed(testResultProfiles).length,\n  renderFunc: renderComponent(FailedRulesCell),\n};\n\nexport const ComplianceScore = {\n  title: 'Compliance score',\n  exportKey: 'testResultProfiles',\n  transforms: [nowrap],\n  props: {\n    width: 5,\n    ...disableSorting,\n  },\n  renderExport: (testResultProfiles) =>\n    complianceScoreString(complianceScoreData(testResultProfiles)).trim(),\n  renderFunc: renderComponent(ComplianceScoreCell),\n};\n\nexport const LastScanned = {\n  title: 'Last scanned',\n  transforms: [nowrap],\n  exportKey: 'testResultProfiles',\n  props: {\n    width: 10,\n    ...disableSorting,\n  },\n  renderExport: (testResultProfiles) => lastScanned(testResultProfiles),\n  renderFunc: renderComponent(LastScannedCell),\n};\n\nexport const OperatingSystem = compileColumnRenderFunc({\n  title: 'Operating system',\n  key: 'operatingSystem',\n  sortBy: ['osMajorVersion', 'osMinorVersion'],\n  transforms: [nowrap],\n  renderExport: (cell) => operatingSystemString(cell),\n  cell: OperatingSystemCell,\n});\n\nexport const OS = compileColumnRenderFunc({\n  title: (\n    <Tooltip content={<span>Operating System</span>}>\n      <span>OS</span>\n    </Tooltip>\n  ),\n  original: 'Operating System',\n  key: 'operatingSystem',\n  dataLabel: 'OS',\n  transforms: [nowrap],\n  sortBy: ['osMajorVersion', 'osMinorVersion'],\n  props: {\n    width: 10,\n  },\n  renderExport: (cell) => operatingSystemString(cell),\n  cell: OperatingSystemCell,\n});\n\nexport const inventoryColumn = (column, props) => ({\n  key: column,\n  ...props,\n});\n","import gql from 'graphql-tag';\nimport pickBy from 'lodash/pickBy';\nimport {\n  systemsPolicyFilterConfiguration,\n  systemsOsFilterConfiguration,\n  systemsOsMinorFilterConfiguration,\n} from '@/constants';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { entitiesReducer } from 'Store/Reducers/SystemStore';\n\nexport const GET_SYSTEMS_WITH_POLICIES = gql`\n  query getSystems(\n    $filter: String!\n    $policyId: ID\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          culledTimestamp\n          staleWarningTimestamp\n          staleTimestamp\n          insightsId\n          updated\n          policies(policyId: $policyId) {\n            id\n            name\n          }\n          tags\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_SYSTEMS_WITH_REPORTS = gql`\n  query getSystems(\n    $filter: String!\n    $policyId: ID\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          culledTimestamp\n          staleWarningTimestamp\n          staleTimestamp\n          insightsId\n          lastScanned\n          updated\n          testResultProfiles(policyId: $policyId) {\n            id\n            name\n            refId\n            lastScanned\n            compliant\n            external\n            score\n            supported\n            benchmark {\n              version\n            }\n            osMajorVersion\n            rules {\n              refId\n              title\n              compliant\n              remediationAvailable\n              precedence\n            }\n          }\n          policies(policyId: $policyId) {\n            id\n            name\n          }\n          tags\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_MINIMAL_SYSTEMS = gql`\n  query getSystems(\n    $filter: String!\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          culledTimestamp\n          staleWarningTimestamp\n          staleTimestamp\n          insightsId\n          lastScanned\n          updated\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_SYSTEMS_TAGS = gql`\n  query getSystems($filter: String!, $limit: Int) {\n    systems(search: $filter, limit: $limit) {\n      tags\n    }\n  }\n`;\n\nexport const GET_SYSTEMS_OSES = gql`\n  query getSystems($filter: String!) {\n    systems(search: $filter) {\n      osVersions\n    }\n  }\n`;\n\nexport const policyFilter = (policies, osFilter) => [\n  ...systemsPolicyFilterConfiguration(policies),\n  ...(osFilter ? systemsOsFilterConfiguration(policies) : []),\n];\n\nexport const osMinorVersionFilter = (...args) =>\n  systemsOsMinorFilterConfiguration(...args);\n\nexport const initFilterState = (filterConfig) =>\n  pickBy(filterConfig.initialDefaultState(), (value) => !!value);\n\nexport const defaultOnLoad =\n  (columns) =>\n  ({ INVENTORY_ACTION_TYPES, mergeWithEntities }) =>\n    getRegistry().register({\n      ...mergeWithEntities(entitiesReducer(INVENTORY_ACTION_TYPES, columns)),\n    });\n\nexport const ssgVersionFilter = (ssgVersions) => [\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'SSG Version',\n    filterString: (value) => `ssg_version = ${value}`,\n    items: ssgVersions.map((ssgVersion) => ({\n      label: ssgVersion,\n      value: ssgVersion,\n    })),\n  },\n];\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport Skeleton, {\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\nimport { registryDecorator } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport {\n  InventoryDetail,\n  DetailWrapper,\n} from '@redhat-cloud-services/frontend-components/Inventory';\n\n@registryDecorator()\nclass InventoryDetails extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <DetailWrapper\n        onLoad={({ mergeWithDetail }) =>\n          this.getRegistry().register({\n            ...mergeWithDetail(),\n          })\n        }\n      >\n        <InventoryDetail\n          fallback={<Skeleton size={SkeletonSize.md} />}\n          hideBack\n        />\n      </DetailWrapper>\n    );\n  }\n}\n\nInventoryDetails.propTypes = {\n  entity: propTypes.object,\n};\n\nconst ConnectedInventoryDetails = (props) => {\n  return <InventoryDetails {...props} />;\n};\n\nexport default ConnectedInventoryDetails;\n","import { useEffect, useLayoutEffect, useState } from 'react';\nimport { useApolloClient, useQuery } from '@apollo/client';\nimport { useDispatch } from 'react-redux';\nimport debounce from '@redhat-cloud-services/frontend-components-utilities/debounce';\nimport { systemsWithRuleObjectsFailed } from 'Utilities/ruleHelpers';\nimport {\n  osMinorVersionFilter,\n  GET_MINIMAL_SYSTEMS,\n  GET_SYSTEMS_TAGS,\n  GET_SYSTEMS_OSES,\n} from './constants';\nimport useExport from 'Utilities/hooks/useTableTools/useExport';\nimport { useBulkSelect } from 'Utilities/hooks/useTableTools/useBulkSelect';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\n\nconst groupByMajorVersion = (versions = [], showFilter = []) => {\n  const showVersion = (version) => {\n    if (showFilter.length > 0) {\n      return showFilter.map(String).includes(String(version));\n    } else {\n      return true;\n    }\n  };\n\n  return versions.reduce((acc, currentValue) => {\n    if (showVersion(currentValue.major)) {\n      acc[String(currentValue.major)] = [\n        ...new Set([...(acc[currentValue.major] || []), currentValue.minor]),\n      ];\n    }\n\n    return acc;\n  }, []);\n};\n\nexport const useOsMinorVersionFilter = (showFilter, fetchArguments = {}) => {\n  let { data } = useQuery(GET_SYSTEMS_OSES, {\n    skip: !showFilter,\n    ...fetchArguments,\n  });\n  const { osVersions } = data?.systems || {};\n\n  return showFilter\n    ? osMinorVersionFilter(groupByMajorVersion(osVersions, showFilter))\n    : [];\n};\n\nexport const useSystemsFilter = (\n  filterString,\n  showOnlySystemsWithTestResults,\n  defaultFilter\n) => {\n  const combindedFilter = [\n    ...(showOnlySystemsWithTestResults ? ['has_test_results = true'] : []),\n    ...(filterString?.length > 0 ? [filterString] : []),\n  ].join(' and ');\n  const filter = defaultFilter\n    ? `(${defaultFilter})` +\n      (combindedFilter ? ` and (${combindedFilter})` : '')\n    : combindedFilter;\n\n  return filter;\n};\n\nconst renameInventoryAttributes = ({\n  culledTimestamp,\n  staleWarningTimestamp,\n  staleTimestamp,\n  insightsId,\n  ...system\n}) => ({\n  ...system,\n  insights_id: insightsId,\n  culled_timestamp: culledTimestamp,\n  stale_warning_timestamp: staleWarningTimestamp,\n  stale_timestamp: staleTimestamp,\n});\n\nexport const useFetchSystems = ({\n  query,\n  onComplete,\n  variables = {},\n  onError,\n}) => {\n  const client = useApolloClient();\n\n  return (perPage, page, requestVariables = {}) =>\n    client\n      .query({\n        query,\n        fetchResults: true,\n        fetchPolicy: 'no-cache',\n        variables: {\n          perPage,\n          page,\n          ...variables,\n          ...requestVariables,\n        },\n      })\n      .then(({ data }) => {\n        const systems = data?.systems?.edges?.map((e) => e.node) || [];\n        const entities = systemsWithRuleObjectsFailed(systems).map(\n          renameInventoryAttributes\n        );\n        const result = {\n          entities,\n          meta: {\n            ...(requestVariables.tags && { tags: requestVariables.tags }),\n            totalCount: data?.systems?.totalCount || 0,\n          },\n        };\n\n        onComplete && onComplete(result);\n        return result;\n      })\n      .catch((error) => {\n        if (onError) {\n          onError(error);\n          return { entities: [], meta: { totalCount: 0 } };\n        } else {\n          throw error;\n        }\n      });\n};\n\nconst fetchBatched = (fetchFunction, total, filter, batchSize = 50) => {\n  const pages = Math.ceil(total / batchSize) || 1;\n  return Promise.all(\n    [...new Array(pages)].map((_, pageIdx) =>\n      fetchFunction(batchSize, pageIdx + 1, filter)\n    )\n  );\n};\n\nconst buildApiFilters = (filters = {}) => {\n  const { tagFilters, ...otherFilters } = filters;\n  const tagsApiFilter = tagFilters\n    ? {\n        tags: tagFilters.flatMap((tagFilter) =>\n          tagFilter.values.map(\n            (tag) =>\n              `${encodeURIComponent(tagFilter.key)}/${encodeURIComponent(\n                tag.tagKey\n              )}=${encodeURIComponent(tag.value)}`\n          )\n        ),\n      }\n    : {};\n\n  return {\n    ...otherFilters,\n    ...tagsApiFilter,\n  };\n};\n\nexport const useGetEntities = (fetchEntities, { selected, columns } = {}) => {\n  const appendDirection = (attributes, direction) =>\n    attributes.map((attribute) => `${attribute}:${direction}`);\n\n  const findColumnByKey = (key) =>\n    (columns || []).find((column) => column.key === key);\n\n  return async (\n    _ids,\n    { page = 1, per_page: perPage, orderBy, orderDirection, filters }\n  ) => {\n    const sortableColumn = findColumnByKey(orderBy);\n    const sortBy =\n      sortableColumn && sortableColumn.sortBy\n        ? appendDirection(sortableColumn.sortBy, orderDirection)\n        : undefined;\n    const filterForApi = buildApiFilters(filters);\n\n    const fetchedEntities = await fetchEntities(perPage, page, {\n      ...filterForApi,\n      sortBy,\n    });\n    const {\n      entities,\n      meta: { totalCount },\n    } = fetchedEntities || {};\n\n    return {\n      results: entities.map((entity) => ({\n        ...entity,\n        selected: (selected || []).map((id) => id).includes(entity.id),\n      })),\n      orderBy,\n      orderDirection,\n      total: totalCount,\n    };\n  };\n};\n\n// This hook is primarily meant to work around issues in the inventory\nexport const useInventoryUtilities = (\n  inventory,\n  selectedSystems,\n  activeFilters\n) => {\n  const dispatch = useDispatch();\n\n  // Resets the Inventory to a loading state\n  // and prevents previously shown columns and rows to appear\n  useLayoutEffect(() => {\n    dispatch({\n      type: 'INVENTORY_INIT',\n    });\n  }, []);\n\n  // Ensures rows are marked as selected\n  useEffect(() => {\n    dispatch({\n      type: 'SELECT_ENTITIES',\n      payload: {\n        selected: selectedSystems,\n      },\n    });\n  }, [selectedSystems]);\n\n  // Filters do not yet trigger the inventory to call getEntities\n  // and the page would not reset to page 1\n  const resetPage = () => {\n    Promise.resolve(\n      dispatch({\n        type: 'RESET_PAGE',\n      })\n    ).then(() => inventory?.current?.onRefreshData());\n  };\n\n  // The debounce is to not have filter updates collide or get out of order.\n  const debounceResetPage = debounce(resetPage, 50);\n\n  useEffect(() => {\n    debounceResetPage();\n  }, [activeFilters]);\n};\n\nconst toIdFilter = (ids) =>\n  ids?.length > 0 ? `id ^ (${ids.join(',')})` : undefined;\n\nexport const useSystemsExport = ({\n  columns,\n  selected,\n  total,\n  fetchArguments,\n}) => {\n  const selectionFilter = selected ? toIdFilter(selected) : undefined;\n  const fetchSystems = useFetchSystems({\n    query: fetchArguments.query,\n    variables: {\n      ...fetchArguments.variables,\n      ...(fetchArguments.tags && { tags: fetchArguments.tags }),\n      filter: selectionFilter\n        ? `${fetchArguments.variables.filter} and (${selectionFilter})`\n        : fetchArguments.variables.filter,\n    },\n    onError: () => {\n      dispatchNotification({\n        variant: 'danger',\n        title: 'Couldn’t download export',\n        description: 'Reinitiate this export to try again.',\n      });\n    },\n  });\n\n  const selectedFilter = () =>\n    selected?.length > 0 ? toIdFilter(selected) : undefined;\n\n  const exporter = async () => {\n    const fetchedItems = await fetchBatched(\n      fetchSystems,\n      total,\n      selectedFilter()\n    );\n\n    return fetchedItems.flatMap((result) => result.entities);\n  };\n\n  const {\n    toolbarProps: { exportConfig },\n  } = useExport({\n    exporter,\n    columns,\n    isDisabled: total === 0,\n    onStart: () => {\n      dispatchNotification({\n        variant: 'info',\n        title: 'Preparing export',\n        description: 'Once complete, your download will start automatically.',\n      });\n    },\n    onComplete: () => {\n      dispatchNotification({\n        variant: 'success',\n        title: 'Downloading export',\n      });\n    },\n  });\n\n  return exportConfig;\n};\n\nexport const useSystemBulkSelect = ({\n  total,\n  onSelect,\n  preselected,\n  fetchArguments,\n  currentPageIds,\n  systemsCache = [],\n}) => {\n  // This is meant as a compatibility layer and to be removed\n  const [selectedSystems, setSelectedSystems] = useState([]);\n  const fetchSystems = useFetchSystems({\n    ...fetchArguments,\n    query: GET_MINIMAL_SYSTEMS,\n    onError: (error) => {\n      dispatchNotification({\n        variant: 'danger',\n        title: 'Error selecting systems',\n        description: error.message,\n      });\n    },\n  });\n\n  const fetchFunc = async (fetchIds) => {\n    if (fetchIds.length === 0) {\n      return [];\n    }\n\n    const idFilter = toIdFilter(fetchIds);\n    const results = await fetchBatched(fetchSystems, fetchIds.length, {\n      ...(idFilter && { filter: idFilter }),\n    });\n\n    return results.flatMap((result) => result.entities);\n  };\n\n  const cachedOrFetch = async (selectedIds) => {\n    const cachedSystems = systemsCache.filter(({ id }) =>\n      selectedIds.includes(id)\n    );\n    const cachedIds = cachedSystems.map(({ id }) => id);\n    const fetchIds = selectedIds.filter((id) => !cachedIds.includes(id));\n    const fetchedSystems = await fetchFunc(fetchIds);\n\n    return [...cachedSystems, ...fetchedSystems];\n  };\n\n  const onSelectCallback = async (selectedIds) => {\n    const systems = await cachedOrFetch(selectedIds);\n    setSelectedSystems(systems);\n    onSelect && onSelect(systems);\n  };\n\n  const itemIdsInTable = async () => {\n    const results = await fetchBatched(fetchSystems, total);\n    return results.flatMap((result) => result.entities.map(({ id }) => id));\n  };\n\n  const bulkSelect = useBulkSelect({\n    total,\n    onSelect: onSelectCallback,\n    preselected,\n    itemIdsInTable,\n    itemIdsOnPage: () => currentPageIds,\n  });\n  return {\n    selectedSystems,\n    ...bulkSelect,\n  };\n};\n\nconst searchTags = (search, tags) =>\n  tags.filter((tagItem) => {\n    if (search || search === '') {\n      const tagString = `${tagItem?.key}=${tagItem?.value}`;\n      return tagString.indexOf(search) !== -1;\n    } else {\n      return true;\n    }\n  });\n\nconst useFetchTag = () => {\n  const apiClient = useApolloClient();\n\n  return async (page, per_page, search, fetchArguments) => {\n    const fetchedTags = await apiClient\n      .query({\n        query: GET_SYSTEMS_TAGS,\n        ...fetchArguments,\n      })\n      .then(\n        ({\n          data: {\n            systems: { tags },\n          },\n        }) =>\n          searchTags(search, tags).map((tag) => ({\n            tag,\n          }))\n      );\n\n    const start = per_page * page - per_page;\n    const end = start + per_page;\n\n    return {\n      total: fetchedTags.length,\n      results: fetchedTags.slice(start, end),\n    };\n  };\n};\n\nexport const useTags = (fetchArguments) => {\n  const [currentTags, setCurrentTags] = useState();\n  const fetchTags = useFetchTag();\n\n  const getTags = async (search, config) => {\n    const { page, perPage: per_page } = config.pagination || {\n      perPage: 10,\n      page: 1,\n    };\n    const { total, results: tagsList } = await fetchTags(\n      page,\n      per_page,\n      search,\n      fetchArguments\n    );\n\n    return {\n      page,\n      per_page,\n      total,\n      results: tagsList,\n    };\n  };\n\n  return {\n    props: {\n      hideFilters: {\n        name: true,\n        tags: false,\n        registeredWith: true,\n        operatingSystem: true,\n        stale: true,\n      },\n      showTags: true,\n    },\n    currentTags,\n    setCurrentTags,\n    getTags,\n  };\n};\n","import React, { useMemo, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Spinner } from '@patternfly/react-core';\nimport { TableVariant } from '@patternfly/react-table';\n// eslint-disable-next-line max-len\nimport ComplianceRemediationButton from '@/PresentationalComponents/ComplianceRemediationButton';\nimport {\n  DEFAULT_SYSTEMS_FILTER_CONFIGURATION,\n  COMPLIANT_SYSTEMS_FILTER_CONFIGURATION,\n} from '@/constants';\nimport { ErrorPage, StateView, StateViewPart } from 'PresentationalComponents';\nimport useFilterConfig from 'Utilities/hooks/useTableTools/useFilterConfig';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/Inventory';\nimport { policyFilter, defaultOnLoad, ssgVersionFilter } from './constants';\nimport {\n  useFetchSystems,\n  useGetEntities,\n  useOsMinorVersionFilter,\n  useInventoryUtilities,\n  useSystemsExport,\n  useSystemsFilter,\n  useSystemBulkSelect,\n  useTags,\n} from './hooks';\n\nexport const SystemsTable = ({\n  columns,\n  showAllSystems,\n  policyId,\n  query,\n  showActions,\n  enableExport,\n  compliantFilter,\n  policies,\n  showOnlySystemsWithTestResults,\n  showOsFilter,\n  error,\n  showComplianceSystemsInfo,\n  compact,\n  remediationsEnabled,\n  systemProps,\n  defaultFilter,\n  emptyStateComponent,\n  prependComponent,\n  showOsMinorVersionFilter,\n  preselectedSystems,\n  onSelect: onSelectProp,\n  noSystemsTable,\n  tableProps,\n  ssgVersions,\n}) => {\n  const inventory = useRef(null);\n  const [isEmpty, setIsEmpty] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const osMinorVersionFilter = useOsMinorVersionFilter(\n    showOsMinorVersionFilter,\n    {\n      variables: {\n        filter: defaultFilter,\n        ...(policyId && { policyId }),\n      },\n    }\n  );\n  const {\n    toolbarProps: conditionalFilter,\n    filterString,\n    activeFilterValues,\n  } = useFilterConfig({\n    filters: {\n      filterConfig: [\n        ...DEFAULT_SYSTEMS_FILTER_CONFIGURATION,\n        ...(compliantFilter ? COMPLIANT_SYSTEMS_FILTER_CONFIGURATION : []),\n        ...(policies?.length > 0 ? policyFilter(policies, showOsFilter) : []),\n        ...(ssgVersions ? ssgVersionFilter(ssgVersions) : []),\n        ...osMinorVersionFilter,\n      ],\n    },\n  });\n  const systemsFilter = useSystemsFilter(\n    filterString(),\n    showOnlySystemsWithTestResults,\n    defaultFilter\n  );\n\n  const {\n    props: tagsProps,\n    currentTags,\n    setCurrentTags,\n    getTags,\n  } = useTags({\n    variables: {\n      filter: systemsFilter,\n      ...(policyId && { policyId }),\n    },\n  });\n\n  const systemFetchArguments = {\n    query,\n    variables: {\n      tags: currentTags,\n      filter: systemsFilter,\n      ...(policyId && { policyId }),\n    },\n  };\n\n  const preselection = useMemo(\n    () => preselectedSystems.map(({ id }) => id),\n    [preselectedSystems]\n  );\n\n  const {\n    selectedIds,\n    selectedSystems,\n    tableProps: bulkSelectTableProps,\n    toolbarProps: bulkSelectToolBarProps,\n  } = useSystemBulkSelect({\n    total,\n    onSelect: onSelectProp,\n    preselected: preselection,\n    fetchArguments: systemFetchArguments,\n    currentPageIds: items.map(({ id }) => id),\n    systemsCache: items,\n  });\n\n  useInventoryUtilities(inventory, selectedIds, activeFilterValues);\n\n  const onComplete = (result) => {\n    setTotal(result.meta.totalCount);\n    setItems(result.entities);\n    setIsLoaded(true);\n    setCurrentTags && setCurrentTags(result.meta.tags);\n\n    if (\n      emptyStateComponent &&\n      result.meta.totalCount === 0 &&\n      activeFilterValues.length === 0 &&\n      result?.meta?.tags?.length === 0\n    ) {\n      setIsEmpty(true);\n    }\n  };\n\n  const fetchSystems = useFetchSystems({\n    ...systemFetchArguments,\n    onComplete,\n  });\n  const getEntities = useGetEntities(fetchSystems, {\n    selected: selectedIds,\n    columns,\n  });\n  const exportConfig = useSystemsExport({\n    columns,\n    filter: systemsFilter,\n    selected: selectedIds,\n    total,\n    fetchArguments: {\n      tags: currentTags,\n      ...systemFetchArguments,\n    },\n  });\n\n  const mergedColumns = (defaultColumns) =>\n    columns.map((column) => {\n      const isStringCol = typeof column === 'string';\n      const key = isStringCol ? column : column.key;\n      const defaultColumn = defaultColumns.find(\n        (defaultCol) => defaultCol.key === key\n      );\n      return {\n        ...defaultColumn,\n        ...(isStringCol ? { key: column } : column),\n        props: {\n          ...defaultColumn?.props,\n          ...column?.props,\n        },\n      };\n    });\n\n  return (\n    <StateView\n      stateValues={{\n        error,\n        noError: error === undefined && !isEmpty,\n        empty: isEmpty,\n      }}\n    >\n      <StateViewPart stateKey=\"error\">\n        {!!prependComponent && prependComponent}\n        <ErrorPage error={error} />\n      </StateViewPart>\n      <StateViewPart stateKey=\"empty\">{emptyStateComponent}</StateViewPart>\n      <StateViewPart stateKey=\"noError\">\n        {!!prependComponent && isLoaded && prependComponent}\n        {showComplianceSystemsInfo && (\n          <Alert\n            isInline\n            variant=\"info\"\n            ouiaId=\"SystemsListIsDifferentAlert\"\n            title={\n              'The list of systems in this view is different than those that appear in the Inventory. ' +\n              'Only systems currently associated with or reporting against compliance policies are displayed.'\n            }\n          />\n        )}\n        <InventoryTable\n          {...systemProps}\n          {...tagsProps}\n          disableDefaultColumns\n          columns={mergedColumns}\n          noSystemsTable={noSystemsTable}\n          ref={inventory}\n          getEntities={getEntities}\n          getTags={getTags}\n          onLoad={defaultOnLoad(columns)}\n          tableProps={{\n            ...bulkSelectTableProps,\n            isStickyHeader: true,\n            ...tableProps,\n          }}\n          fallback={<Spinner />}\n          variant={compact ? TableVariant.compact : ''}\n          {...bulkSelectToolBarProps}\n          {...(!showAllSystems && {\n            ...conditionalFilter,\n            ...(remediationsEnabled && {\n              dedicatedAction: (\n                <ComplianceRemediationButton\n                  allSystems={selectedSystems}\n                  selectedRules={[]}\n                />\n              ),\n            }),\n          })}\n          {...(enableExport && { exportConfig })}\n          {...(showActions && {\n            actions: [\n              {\n                title: 'View in inventory',\n                onClick: (_event, _index, { id }) => {\n                  const beta =\n                    window.location.pathname.split('/')[1] === 'beta';\n                  window.location.href = `${window.location.origin}${\n                    beta ? '/beta' : ''\n                  }/insights/inventory/${id}`;\n                },\n              },\n            ],\n          })}\n        />\n      </StateViewPart>\n    </StateView>\n  );\n};\n\nSystemsTable.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.shape({}), PropTypes.string])\n  ),\n  policies: PropTypes.arrayOf(PropTypes.shape({})),\n  showAllSystems: PropTypes.bool,\n  policyId: PropTypes.string,\n  query: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  showActions: PropTypes.bool,\n  enableExport: PropTypes.bool,\n  compliantFilter: PropTypes.bool,\n  showOnlySystemsWithTestResults: PropTypes.bool,\n  showOsFilter: PropTypes.bool,\n  showComplianceSystemsInfo: PropTypes.bool,\n  error: PropTypes.object,\n  compact: PropTypes.bool,\n  remediationsEnabled: PropTypes.bool,\n  defaultFilter: PropTypes.string,\n  systemProps: PropTypes.shape({\n    isFullView: PropTypes.bool,\n  }),\n  emptyStateComponent: PropTypes.node,\n  prependComponent: PropTypes.node,\n  showOsMinorVersionFilter: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  preselectedSystems: PropTypes.array,\n  onSelect: PropTypes.func,\n  noSystemsTable: PropTypes.node,\n  tableProps: PropTypes.object,\n  ssgVersions: PropTypes.array,\n};\n\nSystemsTable.defaultProps = {\n  policyId: '',\n  showActions: true,\n  enableExport: true,\n  compliantFilter: false,\n  showOnlySystemsWithTestResults: false,\n  showComplianceSystemsInfo: false,\n  compact: false,\n  remediationsEnabled: true,\n  preselectedSystems: [],\n};\n\nexport default SystemsTable;\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { sortingByProp } from 'Utilities/helpers';\n\nconst selectRows = (rows, selected) =>\n  rows.map((row) => ({\n    ...row,\n    selected: selected.includes(row.id),\n  }));\n\nexport const entitiesReducer = () =>\n  applyReducerHash({\n    ['INVENTORY_INIT']: () => ({\n      rows: [],\n      total: 0,\n    }),\n    ['RESET_PAGE']: (state) => ({\n      ...state,\n      page: 1,\n    }),\n    ['SELECT_ENTITIES']: (state, { payload: { selected } }) => ({\n      ...state,\n      rows: selectRows(state.rows, selected),\n    }),\n  });\n\nexport const mapCountOsMinorVersions = (systems) => {\n  if (!systems) {\n    return {};\n  }\n\n  return systems.reduce((acc, { osMinorVersion }) => {\n    if (osMinorVersion !== undefined && osMinorVersion !== null) {\n      (acc[osMinorVersion] = acc[osMinorVersion] || {\n        osMinorVersion,\n        count: 0,\n      }).count++;\n    }\n\n    return acc;\n  }, {});\n};\n\nexport const countOsMinorVersions = (systems) =>\n  Object.values(mapCountOsMinorVersions(systems)).sort(\n    sortingByProp('osMinorVersion', 'desc')\n  );\n"],"names":["QUERY","gql","ComplianceSystems","useQuery","data","error","loading","policies","profiles","edges","map","node","className","title","stateValues","stateKey","columns","Columns","showLink","props","isStatic","transforms","nowrap","query","GET_SYSTEMS_WITH_POLICIES","defaultFilter","systemProps","isFullView","showOsMinorVersionFilter","policy","osMajorVersion","showComplianceSystemsInfo","enableEditPolicy","remediationsEnabled","PolicyTypeDetailsRow","description","item","key","Text","style","margin","propTypes","NameCell","name","disabled","compact","PolicyTypeTable","onChange","selectedProfile","items","profile","rowProps","selected","id","disableSelection","filters","filterConfig","type","conditionalFilterType","label","filter","policyTypes","value","policyType","toLowerCase","includes","sortByProp","renderFunc","renderComponent","fitContent","_data","_id","supportedOsVersions","join","options","detailsComponent","onRadioSelect","_event","_value","_rowIdx","itemId","find","sortBy","index","direction","property","variant","Tooltip","position","content","SUPPORTED_PROFILES","CreateSCAPPolicy","change","selectedOsMajorVersion","fetchPolicy","osMajorVersions","selectedOsMajorVersionObject","profilesToSelect","profileRefId","refId","benchmarkRedId","benchmark","Spinner","TextContent","component","TextVariants","Form","FormGroup","isRequired","fieldId","Tile","onClick","isSelected","isStacked","labelIcon","undefined","reduxFormPropTypes","selector","formValueSelector","compose","connect","state","reduxForm","form","destroyOnUnmount","forceUnregisterOnUnmount","PROFILES_QUERY","BENCHMARKS_QUERY","EditPolicyProfilesRules","selectedRuleRefIds","osMinorVersionCounts","osMinorVersions","i","osMinorVersion","sort","benchmarkSearch","variables","skip","length","benchmarksData","benchmarksError","benchmarksLoading","benchmarks","nodes","tabsData","systemCount","count","latestSupportedOsMinorVersions","getBenchmarkBySupportedOsMinor","benchmarkProfile","getBenchmarkProfile","newOsMinorVersion","profileToOsMinorMap","tabsDataToOsMinorMap","profileIds","Object","keys","skipProfilesQuery","profilesData","profilesError","profilesLoading","dataState","loadingState","noRuleSets","p","setSelectedRuleRefIds","newSelection","useLayoutEffect","profilesWithOs","extendProfilesByOsMinor","profilesWithRulesToSelection","only","JSON","stringify","EmptyState","Title","headingLevel","size","EmptyStateBody","EmptyTable","TabbedRules","selectedFilter","level","ouiaId","WizardContextConsumer","goToStepById","Button","PrependComponent","EditPolicySystems","selectedSystems","version","split","prependComponent","emptyStateComponent","width","showActions","enableExport","preselectedSystems","onSelect","newSelectedSystems","countOsMinorVersions","defaultProps","EditPolicyDetails","useEffect","Field","ReduxFormTextInput","isDisabled","ReduxFormTextArea","defaultValue","businessObjective","previousThreshold","initialValues","REVIEW","ReviewCreatedPolicy","benchmarkId","complianceThreshold","parentProfileName","marginTop","TextList","TextListVariants","TextListItem","TextListItemVariants","fontWeight","parseFloat","rulesCount","EmtpyStateWithErrors","errors","Array","isArray","List","ListItem","FinishedCreatePolicy","onWizardFinish","cloneFromProfileId","systems","useState","percent","setPercent","message","setMessage","setErrors","failed","setFailed","updatePolicy","usePolicy","onProgress","progress","hosts","then","dispatchNotification","autoDismiss","to","catch","networkError","result","Bullseye","EmptyStateVariant","EmptyStateIcon","icon","WrenchIcon","EmptyStateSecondaryActions","withApollo","CreatePolicyForm","systemIds","reset","history","useHistory","stepIdReached","setStepIdReached","resetAnchor","location","hash","push","onClose","steps","enableNext","validateBenchmarkPage","canJumpTo","validateDetailsPage","validateSystemsPage","validateRulesPage","nextButtonText","isFinishedStep","Wizard","isOpen","onNext","onGoToStep","onBack","dispatch","CreatePolicy","DeleteReport","useLocation","background","useMutation","DELETE_REPORT","onCompleted","dispatchAction","addNotification","onError","deleteReport","C","ModalVariant","actions","input","profileId","isModalOpen","onDelete","policyId","EditPolicyDetailsTab","updatedPolicy","setUpdatedPolicy","validThreshold","setValidThreshold","threshold","valid","thresholdValid","useThresholdValidate","validateThreshold","TextArea","height","TextInput","validated","helperTextInvalid","helperText","complianceThresholdValid","EditPolicyRulesTabEmptyState","EditPolicyRulesTab","values","sortingByProp","parentProfileId","toTabsData","prevSelection","empty","setNewRuleTabs","EditPolicySystemsTab","onSystemSelect","osFilter","newRuleTabs","Alert","isInline","actionLinks","AlertActionLink","EditPolicyForm","setSelectedSystems","policyProfiles","setOsMinorVersionCounts","useNewRulesAlertState","newRulesAlert","setNewRulesAlert","handleSystemSelect","useCallback","policyMinorVersions","hasNewOsMinorVersions","reduce","acc","mapCountOsMinorVersions","profilesWithOsMinor","defaultTab","Tab","eventKey","TabTitleText","useLinkToPolicy","anchor","useAnchor","linkToBackground","useLinkToBackground","MULTIVERSION_QUERY","EditPolicy","route","useParams","policy_id","linkToPolicy","saveEnabled","updatedPolicyHostsAndRules","isSaving","setIsSaving","Promise","resolve","useOnSave","onSave","spinnerAriaValueText","isLoading","useTitleEntity","minHeight","SystemLink","children","pathname","Name","showOsInfo","hasOsInfo","SSGVersion","ssgVersion","supported","messageVariant","SSGVersions","testResultProfiles","DetailsLink","Policies","Truncate","inline","text","FailedRules","rulesFailed","profilesRulesFailed","ComplianceScore","complianceScore","complianceScoreData","NeverScanned","Fragment","color","NEVER","lastScanned","dates","Date","last","Math","max","apply","date","isFinite","LastScanned","lastScannedDate","DateFormat","parse","operatingSystemString","OperatingSystem","system","disableSorting","compileColumnRenderFunc","cell","column","renderExport","customName","SsgVersion","exportKey","SsgVersionCell","PoliciesCell","DetailsLinkCell","FailedRulesCell","complianceScoreString","trim","ComplianceScoreCell","LastScannedCell","OperatingSystemCell","OS","original","dataLabel","inventoryColumn","GET_SYSTEMS_WITH_REPORTS","GET_MINIMAL_SYSTEMS","GET_SYSTEMS_TAGS","GET_SYSTEMS_OSES","policyFilter","systemsPolicyFilterConfiguration","systemsOsFilterConfiguration","osMinorVersionFilter","systemsOsMinorFilterConfiguration","defaultOnLoad","INVENTORY_ACTION_TYPES","mergeWithEntities","getRegistry","register","entitiesReducer","ssgVersionFilter","ssgVersions","filterString","InventoryDetails","registryDecorator","DetailWrapper","onLoad","mergeWithDetail","InventoryDetail","fallback","Skeleton","SkeletonSize","hideBack","React","entity","groupByMajorVersion","versions","showFilter","showVersion","String","currentValue","major","Set","minor","renameInventoryAttributes","culledTimestamp","staleWarningTimestamp","staleTimestamp","insightsId","insights_id","culled_timestamp","stale_warning_timestamp","stale_timestamp","useFetchSystems","onComplete","client","useApolloClient","perPage","page","requestVariables","fetchResults","e","entities","systemsWithRuleObjectsFailed","meta","tags","totalCount","fetchBatched","fetchFunction","total","batchSize","pages","ceil","all","_","pageIdx","buildApiFilters","tagFilters","otherFilters","tagsApiFilter","flatMap","tagFilter","tag","encodeURIComponent","tagKey","toIdFilter","ids","searchTags","search","tagItem","indexOf","SystemsTable","showAllSystems","compliantFilter","showOnlySystemsWithTestResults","showOsFilter","onSelectProp","noSystemsTable","tableProps","inventory","useRef","isEmpty","setIsEmpty","isLoaded","setIsLoaded","setItems","setTotal","fetchArguments","osVersions","useOsMinorVersionFilter","useFilterConfig","DEFAULT_SYSTEMS_FILTER_CONFIGURATION","COMPLIANT_SYSTEMS_FILTER_CONFIGURATION","conditionalFilter","toolbarProps","activeFilterValues","systemsFilter","combindedFilter","useSystemsFilter","apiClient","currentTags","setCurrentTags","fetchTags","per_page","fetchedTags","end","start","results","slice","getTags","config","pagination","tagsList","hideFilters","registeredWith","operatingSystem","stale","showTags","useTags","tagsProps","systemFetchArguments","preselected","currentPageIds","systemsCache","fetchSystems","fetchFunc","fetchIds","idFilter","cachedOrFetch","selectedIds","cachedSystems","cachedIds","fetchedSystems","onSelectCallback","itemIdsInTable","useBulkSelect","itemIdsOnPage","useSystemBulkSelect","useMemo","bulkSelectTableProps","bulkSelectToolBarProps","activeFilters","useDispatch","payload","debounceResetPage","debounce","current","onRefreshData","useInventoryUtilities","getEntities","fetchEntities","appendDirection","attributes","attribute","findColumnByKey","_ids","orderBy","orderDirection","sortableColumn","filterForApi","fetchedEntities","useGetEntities","exportConfig","selectionFilter","exporter","fetchedItems","useExport","onStart","useSystemsExport","noError","InventoryTable","disableDefaultColumns","defaultColumns","isStringCol","defaultColumn","defaultCol","ref","isStickyHeader","TableVariant","dedicatedAction","ComplianceRemediationButton","allSystems","selectedRules","_index","beta","window","href","origin","PropTypes","selectRows","rows","row","applyReducerHash"],"sourceRoot":""}