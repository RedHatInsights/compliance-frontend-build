{"version":3,"file":"js/PolicyRules.0e16cea910695cd97547.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Dark/DarkContext.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeader.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeaderTitle.js","webpack:///./src/SmartComponents/PolicyRules/PolicyRules.js"],"sourcesContent":["import React from 'react';\nvar DarkContext = React.createContext('light');\nexport default DarkContext;\n//# sourceMappingURL=DarkContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { DarkContext } from '../Dark';\nimport '../PageHeader/page-header.css';\nvar PageHeader = function (_a) {\n    var className = _a.className, children = _a.children, props = __rest(_a, [\"className\", \"children\"]);\n    var pageHeaderClasses = classNames(className, 'pf-l-page-header', 'pf-c-page-header', 'pf-l-page__main-section', 'pf-c-page__main-section');\n    return (_jsx(DarkContext.Consumer, { children: function (theme) {\n            var _a, _b;\n            if (theme === void 0) { theme = 'light'; }\n            var themeClasses = classNames((_a = {}, _a[\"pf-m-\".concat(theme, \"-200\")] = theme === 'dark', _a), (_b = {}, _b[\"pf-m-light\"] = theme === 'light', _b));\n            return (_jsx(\"section\", __assign({}, props, { className: \"\".concat(pageHeaderClasses, \" \").concat(themeClasses), \"widget-type\": \"InsightsPageHeader\" }, { children: children })));\n        } }));\n};\nexport default PageHeader;\n//# sourceMappingURL=PageHeader.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { Title } from '@patternfly/react-core';\nvar PageHeaderTitle = function (_a) {\n    var className = _a.className, title = _a.title;\n    var pageHeaderTitleClasses = classNames(className);\n    return (_jsx(Title, __assign({ headingLevel: \"h1\", size: \"2xl\", className: pageHeaderTitleClasses, \"widget-type\": \"InsightsPageHeaderTitle\" }, { children: title })));\n};\nexport default PageHeaderTitle;\n//# sourceMappingURL=PageHeaderTitle.js.map","import React from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useParams } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport propTypes from 'prop-types';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport RulesTable from '../../PresentationalComponents/RulesTable/RulesTable';\nimport * as Columns from '@/PresentationalComponents/RulesTable/Columns';\nimport { Spinner, Text, TextContent } from '@patternfly/react-core';\nimport useFeature from 'Utilities/hooks/useFeature';\n\nconst PROFILES_QUERY = gql`\n  query Profile($policyId: String!, $enableRuleTree: Boolean = false) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      osMinorVersion\n      osMajorVersion\n      benchmark {\n        version\n        ruleTree @include(if: $enableRuleTree)\n      }\n      rules {\n        id\n        title\n        severity\n        rationale\n        refId\n        description\n        remediationAvailable\n        identifier\n      }\n    }\n  }\n`;\n\nconst PolicyRules = () => {\n  const ruleGroups = useFeature('ruleGroups');\n\n  const { policy_id: policyId } = useParams();\n\n  const { data, loading } = useQuery(PROFILES_QUERY, {\n    variables: {\n      policyId: policyId,\n      enableRuleTree: ruleGroups,\n    },\n  });\n\n  return loading ? (\n    <PageHeader>\n      <Spinner />\n    </PageHeader>\n  ) : (\n    <React.Fragment>\n      <PageHeader className=\"pf-u-pt-xl pf-u-pl-xl\">\n        <PageHeaderTitle\n          title={`Compliance | Default rules for ${data?.profile.name} policy`}\n        />\n        <TextContent className=\"pf-u-mb-md pf-u-mt-md\">\n          <Text>\n            This is a read-only view of the full set of rules and their\n            description for\n            <b>{data?.profile.name} policy</b> operating on\n            <br />\n            <b>RHEL {data?.profile.osMajorVersion}</b> -{' '}\n            <b>SSG version: {data?.profile.benchmark.version}</b>\n          </Text>\n          <Text>Rule selection must be made in the policy modal</Text>\n        </TextContent>\n      </PageHeader>\n      {data && (\n        <div className=\"pf-u-p-xl\" style={{ background: '#fff' }}>\n          <RulesTable\n            remediationsEnabled={false}\n            columns={[Columns.Name, Columns.Severity, Columns.Remediation]}\n            loading={loading}\n            profileRules={[\n              {\n                profile: data.profile,\n                rules: data.profile.rules,\n              },\n            ]}\n            options={{ pagination: false, manageColumns: false }}\n          />\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nPolicyRules.propTypes = {\n  loading: propTypes.bool,\n  policy: propTypes.shape({\n    name: propTypes.string,\n    refId: propTypes.string,\n    rules: propTypes.array,\n    benchmark: propTypes.object,\n  }),\n};\nexport default PolicyRules;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","_a","className","children","props","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","pageHeaderClasses","theme","_b","themeClasses","concat","title","pageHeaderTitleClasses","Title","headingLevel","size","PROFILES_QUERY","gql","_templateObject","_taggedTemplateLiteral","PolicyRules","ruleGroups","useFeature","policyId","useParams","policy_id","_useQuery","useQuery","variables","enableRuleTree","data","loading","React","PageHeader","Spinner","PageHeaderTitle","profile","name","TextContent","Text","osMajorVersion","benchmark","version","style","background","RulesTable","remediationsEnabled","columns","Columns","profileRules","rules","options","pagination","manageColumns","propTypes","policy","refId"],"sourceRoot":""}