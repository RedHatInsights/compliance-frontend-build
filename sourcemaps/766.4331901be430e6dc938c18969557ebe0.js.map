{"version":3,"file":"js/766.9742f9a5a489edda0ced.js","mappings":"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","sources":["webpack:///./src/SmartComponents/ComplianceSystems/ComplianceSystems.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeDetailsRow.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeTable.js","webpack:///./src/SmartComponents/CreatePolicy/Components/PolicyTypeTooltip.js","webpack:///./src/SmartComponents/CreatePolicy/CreateSCAPPolicy.js","webpack:///./src/SmartComponents/CreatePolicy/constants.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicyProfilesRules.js","webpack:///./src/SmartComponents/CreatePolicy/hooks/useBenchmarksQuery.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicySystems.js","webpack:///./src/SmartComponents/CreatePolicy/EditPolicyDetails.js","webpack:///./src/SmartComponents/CreatePolicy/ReviewCreatedPolicy.js","webpack:///./src/SmartComponents/CreatePolicy/FinishedCreatePolicy.js","webpack:///./src/SmartComponents/CreatePolicy/CreatePolicyFooter.js","webpack:///./src/SmartComponents/CreatePolicy/CreatePolicy.js","webpack:///./src/SmartComponents/DeletePolicy/DeletePolicy.js","webpack:///./src/SmartComponents/DeleteReport/DeleteReport.js","webpack:///./src/SmartComponents/EditPolicy/constants.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicyRulesTab.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicySystemsTab.js","webpack:///./src/SmartComponents/EditPolicy/components/NewRulesAlert.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicyForm.js","webpack:///./src/SmartComponents/EditPolicy/hooks/index.js","webpack:///./src/SmartComponents/EditPolicy/EditPolicy.js","webpack:///./src/SmartComponents/SystemsTable/Cells.js","webpack:///./src/SmartComponents/SystemsTable/Columns.js","webpack:///./src/SmartComponents/InventoryDetails/InventoryDetails.js","webpack:///./src/PresentationalComponents/ComplianceRemediationButton/constants.js","webpack:///./src/PresentationalComponents/ComplianceRemediationButton/RemediationButton.js","webpack:///./src/PresentationalComponents/ComplianceRemediationButton/hooks.js","webpack:///./src/SmartComponents/SystemsTable/constants.js","webpack:///./src/store/Actions/SystemActions.js","webpack:///./src/SmartComponents/SystemsTable/hooks/useFetchSystems.js","webpack:///./src/SmartComponents/SystemsTable/hooks.js","webpack:///./src/SmartComponents/SystemsTable/SystemsTable.js","webpack:///./src/Utilities/hooks/usePolicyQuery/constants.js","webpack:///./src/Utilities/hooks/usePolicyQuery/usePolicyQuery.js","webpack:///./src/Utilities/hooks/usePolicyQuery/helpers.js","webpack:///./src/Utilities/hooks/usePromiseQueue.js","webpack:///./src/store/Reducers/SystemStore.js","webpack:///./src/store/Types.js"],"sourcesContent":["/* eslint-disable react/display-name */\nimport React from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport { nowrap } from '@patternfly/react-table';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { StateViewPart, StateViewWithError } from 'PresentationalComponents';\nimport { SystemsTable } from 'SmartComponents';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst QUERY = gql`\n  {\n    profiles(search: \"external = false and canonical = false\") {\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n        }\n      }\n    }\n  }\n`;\n\nconst DEFAULT_FILTER = 'has_test_results = true or has_policy = true';\n\nexport const ComplianceSystems = () => {\n  const { data, error, loading } = useQuery(QUERY);\n  const policies = data?.profiles?.edges.map(({ node }) => node);\n\n  return (\n    <React.Fragment>\n      <PageHeader className=\"page-header\">\n        <PageHeaderTitle title=\"Systems\" />\n      </PageHeader>\n      <section className=\"pf-c-page__main-section\">\n        <StateViewWithError stateValues={{ error, data, loading }}>\n          <StateViewPart stateKey=\"data\">\n            {policies && (\n              <SystemsTable\n                columns={[\n                  Columns.customName({\n                    showLink: true,\n                  }),\n                  Columns.inventoryColumn('groups', {\n                    requiresDefault: true,\n                    sortBy: ['groups'],\n                  }),\n                  Columns.inventoryColumn('tags'),\n                  Columns.OS,\n                  Columns.Policies,\n                  Columns.inventoryColumn('updated', {\n                    props: { isStatic: true },\n                    transforms: [nowrap],\n                  }),\n                ]}\n                defaultFilter={DEFAULT_FILTER}\n                systemProps={{\n                  isFullView: true,\n                }}\n                showOsMinorVersionFilter={policies.map(\n                  (policy) => policy.osMajorVersion\n                )}\n                showComplianceSystemsInfo\n                enableEditPolicy={false}\n                remediationsEnabled={false}\n                policies={policies}\n                showGroupsFilter\n              />\n            )}\n          </StateViewPart>\n        </StateViewWithError>\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default ComplianceSystems;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text } from '@patternfly/react-core';\n\nconst PolicyTypeDetailsRow = ({ item: { description }, key }) => {\n  return (\n    <Text key={key} style={{ margin: 'var(--pf-global--spacer--lg) 0' }}>\n      {description}\n    </Text>\n  );\n};\n\nPolicyTypeDetailsRow.propTypes = {\n  item: propTypes.object,\n  key: propTypes.string,\n};\n\nexport default PolicyTypeDetailsRow;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { fitContent, info } from '@patternfly/react-table';\nimport { InUseProfileLabel } from 'PresentationalComponents';\nimport { TableToolsTable } from 'Utilities/hooks/useTableTools';\nimport { renderComponent } from 'Utilities/helpers';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport PolicyTypeDetailsRow from './PolicyTypeDetailsRow';\nimport { emptyRows } from 'Utilities/hooks/useTableTools/Components/NoResultsTable';\n\nconst NameCell = ({ name, disabled }) => {\n  return (\n    <>\n      {disabled && <InUseProfileLabel compact />}\n      {name}\n    </>\n  );\n};\n\nNameCell.propTypes = {\n  name: propTypes.string,\n  disabled: propTypes.boolean,\n};\n\nconst PolicyTypeTable = ({ profiles, onChange, selectedProfile }) => {\n  const columns = [\n    {\n      title: 'Policy name',\n      key: 'name',\n      transforms: [\n        info({\n          tooltip:\n            'In use policies have already been used and therefore can not be applied to another SCAP Policy under the selected OS.',\n        }),\n      ],\n      sortByProp: 'name',\n      renderFunc: renderComponent(NameCell),\n    },\n    {\n      title: 'Supported OS versions',\n      transforms: [fitContent],\n      sortByProp: 'supportedOsVersions',\n      renderFunc: (_data, _id, profile) =>\n        profile.supportedOsVersions.join(', '),\n    },\n  ];\n\n  return (\n    <TableToolsTable\n      items={profiles.map((profile) => ({\n        ...profile,\n        rowProps: {\n          selected: profile.id === selectedProfile?.id,\n          disableSelection: profile.disabled,\n        },\n      }))}\n      filters={{\n        filterConfig: [\n          {\n            type: conditionalFilterType.text,\n            label: 'Policy Name',\n            filter: (policyTypes, value) =>\n              policyTypes.filter((policyType) =>\n                policyType?.name.toLowerCase().includes(value.toLowerCase())\n              ),\n          },\n        ],\n      }}\n      columns={columns}\n      options={{\n        detailsComponent: PolicyTypeDetailsRow,\n        onRadioSelect: (_event, _value, _rowIdx, { itemId }) =>\n          onChange && onChange(profiles.find(({ id }) => id === itemId)),\n        sortBy: {\n          index: 2,\n          direction: 'asc',\n          property: 'name',\n        },\n        emptyRows: emptyRows('policy types', columns.length),\n      }}\n      variant=\"compact\"\n    />\n  );\n};\n\nPolicyTypeTable.propTypes = {\n  profiles: propTypes.array,\n  onChange: propTypes.func,\n  selectedProfile: propTypes.string,\n};\n\nexport default PolicyTypeTable;\n","import React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\n\nconst PolicyTypeTooltip = () => (\n  <Tooltip\n    position=\"right\"\n    content=\"Policy types are OpenSCAP policies that are supported by RHEL.\n        For each major version of RHEL, users can create one policy of each type.\"\n  >\n    <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n  </Tooltip>\n);\n\nexport default PolicyTypeTooltip;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n  Tile,\n} from '@patternfly/react-core';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/client';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport {\n  propTypes as reduxFormPropTypes,\n  formValueSelector,\n  reduxForm,\n} from 'redux-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { StateViewPart, StateViewWithError } from 'PresentationalComponents';\nimport PolicyTypesTable from './Components/PolicyTypeTable';\nimport PolicyTypeTooltip from './Components/PolicyTypeTooltip';\n\nconst SUPPORTED_PROFILES = gql`\n  query supportedProfilesByOSMajor {\n    osMajorVersions {\n      edges {\n        node {\n          osMajorVersion\n          profiles {\n            id\n            name\n            refId\n            description\n            supportedOsVersions\n            benchmark {\n              id\n              refId\n            }\n          }\n        }\n      }\n    }\n    profiles(search: \"external = false and canonical = false\") {\n      edges {\n        node {\n          id\n          refId\n          benchmark {\n            refId\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const CreateSCAPPolicy = ({\n  change,\n  selectedProfile,\n  selectedOsMajorVersion,\n}) => {\n  const { data, error, loading } = useQuery(SUPPORTED_PROFILES, {\n    fetchPolicy: 'no-cache',\n  });\n  const isInUse = (profileRefId, benchmarkRedId) =>\n    !!data?.profiles?.edges\n      .map(({ node }) => node)\n      .find(\n        (profile) =>\n          profile.refId === profileRefId &&\n          benchmarkRedId === profile.benchmark.refId\n      );\n  const osMajorVersions = data?.osMajorVersions?.edges.map(({ node }) => node);\n  const selectedOsMajorVersionObject = osMajorVersions?.find(\n    ({ osMajorVersion }) => osMajorVersion === selectedOsMajorVersion\n  );\n  const profilesToSelect = selectedOsMajorVersionObject?.profiles.map(\n    (profile) => ({\n      ...profile,\n      disabled: isInUse(profile.refId, profile.benchmark.refId),\n    })\n  );\n\n  return (\n    <StateViewWithError stateValues={{ error, data, loading }}>\n      <StateViewPart stateKey=\"loading\">\n        <Spinner />\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <TextContent>\n          <Text component={TextVariants.h1} className=\"pf-u-mb-md\">\n            Create SCAP policy\n          </Text>\n          <Text className=\"pf-u-mb-md\">\n            Select the operating system and policy type for this policy.\n          </Text>\n        </TextContent>\n        <Form>\n          <FormGroup label=\"Operating system\" isRequired fieldId=\"benchmark\">\n            {osMajorVersions &&\n              osMajorVersions.map(({ osMajorVersion }) => (\n                <Tile\n                  key={`rhel${osMajorVersion}-select`}\n                  className=\"pf-u-mr-md\"\n                  title={`RHEL ${osMajorVersion}`}\n                  onClick={() => {\n                    change('osMajorVersion', osMajorVersion);\n                  }}\n                  isSelected={selectedOsMajorVersion === osMajorVersion}\n                  isStacked\n                />\n              ))}\n          </FormGroup>\n\n          {selectedOsMajorVersion && (\n            <FormGroup\n              isRequired\n              labelIcon={<PolicyTypeTooltip />}\n              label=\"Policy type\"\n              fieldId=\"policy-type\"\n            >\n              <PolicyTypesTable\n                aria-label=\"PolicyTypeTable\"\n                profiles={profilesToSelect}\n                onChange={(policy) => {\n                  change('profile', policy);\n                  change('benchmark', policy.benchmark.id);\n                  change('selectedRuleRefIds', undefined);\n                  change('systems', []);\n                }}\n                selectedProfile={selectedProfile}\n              />\n            </FormGroup>\n          )}\n        </Form>\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nCreateSCAPPolicy.propTypes = {\n  change: reduxFormPropTypes.change,\n  selectedProfile: propTypes.object,\n  selectedOsMajorVersion: propTypes.string,\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => ({\n    selectedProfile: selector(state, 'profile'),\n    selectedOsMajorVersion: selector(state, 'osMajorVersion'),\n  })),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(CreateSCAPPolicy);\n","import gql from 'graphql-tag';\n\nexport const BENCHMARKS_QUERY = gql`\n  query CP_Benchmarks($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        latestSupportedOsMinorVersions\n        ruleTree\n        valueDefinitions {\n          defaultValue\n          description\n          id\n          refId\n          title\n          valueType\n        }\n        profiles {\n          id\n          refId\n          osMajorVersion\n        }\n        version\n      }\n    }\n  }\n`;\n\nexport const BENCHMARKS_RULES_TREES_QUERY = gql`\n  query CP_BenchmarksRuleTree($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        ruleTree\n      }\n    }\n  }\n`;\n\nexport const BENCHMARKS_VALUE_DEFINITIONS_QUERY = gql`\n  query CP_BenchmarksValueDefinitions($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        latestSupportedOsMinorVersions\n        ruleTree\n        valueDefinitions {\n          defaultValue\n          description\n          id\n          refId\n          title\n          valueType\n        }\n        profiles {\n          id\n          refId\n          osMajorVersion\n        }\n        version\n      }\n    }\n  }\n`;\n\nexport const PROFILES_QUERY = gql`\n  query CP_Profiles($filter: String!) {\n    profiles(search: $filter) {\n      edges {\n        node {\n          id\n          refId\n          osMinorVersion\n          benchmark {\n            id\n            latestSupportedOsMinorVersions\n          }\n          rules {\n            refId\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { useMemo, useLayoutEffect } from 'react';\nimport {\n  propTypes as reduxFormPropTypes,\n  formValueSelector,\n  reduxForm,\n} from 'redux-form';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport {\n  Title,\n  Text,\n  TextContent,\n  TextVariants,\n  EmptyState,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport propTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport { StateViewWithError, StateViewPart } from 'PresentationalComponents';\nimport {\n  TabbedRules,\n  profilesWithRulesToSelection,\n  tabsDataToOsMinorMap,\n  extendProfilesByOsMinor,\n} from 'PresentationalComponents/TabbedRules';\nimport * as Columns from '@/PresentationalComponents/RulesTable/Columns';\nimport useBenchmarksQuery from './hooks/useBenchmarksQuery';\nimport { PROFILES_QUERY } from './constants';\n\nconst getBenchmarkProfile = (benchmark, profileRefId) =>\n  benchmark.profiles.find(\n    (benchmarkProfile) => benchmarkProfile.refId === profileRefId\n  );\n\nconst getBenchmarkBySupportedOsMinor = (benchmarks, osMinorVersion) =>\n  benchmarks.find((benchmark) =>\n    benchmark.latestSupportedOsMinorVersions?.includes(osMinorVersion)\n  );\n\nexport const EditPolicyProfilesRules = ({\n  policy,\n  selectedRuleRefIds,\n  change,\n  osMajorVersion,\n  osMinorVersionCounts,\n  ruleValues,\n}) => {\n  const columns = [Columns.Name, Columns.Severity, Columns.Remediation];\n  const osMinorVersions = osMinorVersionCounts\n    .map((i) => i.osMinorVersion)\n    .sort();\n  const {\n    data: benchmarksData,\n    error: benchmarksError,\n    loading: benchmarksLoading,\n  } = useBenchmarksQuery({\n    osMajorVersion,\n    osMinorVersions,\n  });\n\n  const benchmarks = benchmarksData?.benchmarks?.nodes;\n\n  const tabsData = useMemo(\n    () =>\n      osMinorVersionCounts\n        .map(({ osMinorVersion, count: systemCount }) => {\n          osMinorVersion = `${osMinorVersion}`;\n          let profile;\n          if (benchmarks) {\n            const benchmark = getBenchmarkBySupportedOsMinor(\n              benchmarks,\n              osMinorVersion\n            );\n            if (benchmark) {\n              profile = getBenchmarkProfile(benchmark, policy.refId);\n              if (profile) {\n                profile = {\n                  ...profile,\n                  benchmark: {\n                    ...profile.benchmark,\n                    ...benchmark,\n                  },\n                };\n              }\n            }\n          }\n\n          return {\n            profile,\n            systemCount,\n            newOsMinorVersion: osMinorVersion,\n          };\n        })\n        .filter(({ profile }) => !!profile),\n    [osMinorVersionCounts, benchmarks, policy]\n  );\n\n  const profileToOsMinorMap = tabsDataToOsMinorMap(tabsData);\n  const profileIds = Object.keys(profileToOsMinorMap);\n  const filter = profileIds.map((i) => `id = ${i}`).join(' OR ');\n\n  const {\n    data: profilesData,\n    error: profilesError,\n    loading: profilesLoading,\n  } = useQuery(PROFILES_QUERY, {\n    variables: {\n      filter,\n    },\n    skip: profileIds.length === 0,\n    fetchPolicy: 'no-cache',\n  });\n\n  const error = benchmarksError || profilesError;\n  const dataState = profileIds?.length > 0 ? profilesData : undefined;\n  const loadingState = profilesLoading || benchmarksLoading ? true : undefined;\n  const noRuleSets = !error && !loadingState && profileIds?.length === 0;\n  const profiles = profilesData?.profiles.edges.map((p) => p.node);\n\n  const setSelectedRuleRefIds = (newSelection) => {\n    change('selectedRuleRefIds', newSelection);\n  };\n\n  const setRuleValues = (policyId, valueDefinition, valueValue) => {\n    const newRuleValues = {\n      ...(ruleValues || {}),\n      [policyId]: {\n        ...(ruleValues || {})[policyId],\n        [valueDefinition.refId]: valueValue,\n      },\n    };\n\n    change('ruleValues', newRuleValues);\n  };\n\n  useLayoutEffect(() => {\n    if (!loadingState) {\n      const profilesWithOs = extendProfilesByOsMinor(\n        profiles,\n        profileToOsMinorMap\n      );\n      const newSelection = profilesWithRulesToSelection(\n        profilesWithOs,\n        selectedRuleRefIds,\n        { only: true }\n      );\n      setSelectedRuleRefIds(newSelection);\n    }\n  }, [JSON.stringify(profiles), loadingState]);\n\n  return (\n    <React.Fragment>\n      <TextContent className=\"pf-u-pb-md\">\n        <Text component={TextVariants.h1}>Rules</Text>\n        <Text>\n          Customize your <b>{policy.name}</b> SCAP policy by including and\n          excluding rules.\n        </Text>\n        <Text>\n          Each release of RHEL is supported with a unique and specific version\n          of the SCAP Security Guide (SSG). You must customize each version of\n          SSG for each release of RHEL.\n        </Text>\n      </TextContent>\n\n      <StateViewWithError\n        stateValues={{\n          error,\n          data: dataState,\n          loading: loadingState,\n          noRuleSets,\n        }}\n      >\n        <StateViewPart stateKey=\"noRuleSets\">\n          <EmptyState>\n            <Title headingLevel=\"h1\" size=\"xl\">\n              No rules can be configured\n            </Title>\n            <EmptyStateBody>\n              The policy type selected does not exist for the systems and OS\n              versions selected in the previous steps.\n            </EmptyStateBody>\n          </EmptyState>\n        </StateViewPart>\n        <StateViewPart stateKey=\"loading\">\n          <EmptyTable>\n            <Spinner />\n          </EmptyTable>\n        </StateViewPart>\n        <StateViewPart stateKey=\"data\">\n          <TabbedRules\n            tabsData={tabsData}\n            selectedRuleRefIds={selectedRuleRefIds}\n            setRuleValues={setRuleValues}\n            ruleValues={ruleValues}\n            columns={columns}\n            remediationsEnabled={false}\n            selectedFilter\n            level={1}\n            setSelectedRuleRefIds={setSelectedRuleRefIds}\n            ouiaId=\"RHELVersions\"\n            resetLink={true}\n            rulesPageLink={true}\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </React.Fragment>\n  );\n};\n\nEditPolicyProfilesRules.propTypes = {\n  policy: propTypes.object,\n  change: reduxFormPropTypes.change,\n  osMajorVersion: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n  selectedRuleRefIds: propTypes.array,\n  ruleValues: propTypes.array,\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => ({\n    policy: selector(state, 'profile'),\n    osMajorVersion: selector(state, 'osMajorVersion'),\n    osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n    selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n    ruleValues: selector(state, 'ruleValues'),\n  })),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicyProfilesRules);\n","import { useMemo, useCallback } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { logMultipleErrors } from 'Utilities/helpers';\nimport {\n  BENCHMARKS_QUERY,\n  BENCHMARKS_RULES_TREES_QUERY,\n  BENCHMARKS_VALUE_DEFINITIONS_QUERY,\n} from '../constants';\n\nconst compileData = (benchmarksData, ruleTreesData, valueDefinitionsData) => ({\n  benchmarks: {\n    nodes: benchmarksData?.benchmarks.nodes.map((node) => {\n      const ruleTree = ruleTreesData?.benchmarks.nodes.find(\n        ({ id }) => id === node.id\n      )?.ruleTree;\n      const valueDefinitions = valueDefinitionsData?.benchmarks.nodes.find(\n        ({ id }) => id === node.id\n      )?.valueDefinitions;\n\n      return {\n        ...node,\n        ruleTree,\n        valueDefinitions,\n      };\n    }),\n  },\n});\n\nconst useBenchmarksQuery = ({ osMajorVersion, osMinorVersions }) => {\n  const filter =\n    `os_major_version = ${osMajorVersion} ` +\n    `and latest_supported_os_minor_version ^ \"${osMinorVersions.join(',')}\"`;\n\n  const {\n    data: benchmarksData,\n    error: benchmarksError,\n    loading: benchmarksLoading,\n    refetch: refetchProfiles,\n  } = useQuery(BENCHMARKS_QUERY, {\n    variables: {\n      filter,\n    },\n    skip: osMinorVersions.length === 0,\n    fetchPolicy: 'no-cache',\n  });\n\n  const {\n    data: ruleTreesData,\n    error: ruleTreesError,\n    loading: ruleTreesLoading,\n    refetch: refecthRuleTrees,\n  } = useQuery(BENCHMARKS_RULES_TREES_QUERY, {\n    variables: { filter },\n    skip: osMinorVersions.length === 0,\n    fetchPolicy: 'no-cache',\n  });\n\n  const {\n    data: valueDefinitionsData,\n    error: valueDefinitionsError,\n    loading: valueDefinitionsLoading,\n    refetch: refecthValueDefinitions,\n  } = useQuery(BENCHMARKS_VALUE_DEFINITIONS_QUERY, {\n    variables: { filter },\n    skip: osMinorVersions.length === 0,\n    fetchPolicy: 'no-cache',\n  });\n\n  const data = useMemo(\n    () => compileData(benchmarksData, ruleTreesData, valueDefinitionsData),\n    [benchmarksData, ruleTreesData, valueDefinitionsData]\n  );\n\n  const error = useMemo(\n    () =>\n      logMultipleErrors(benchmarksError, ruleTreesError, valueDefinitionsError),\n    [benchmarksError, ruleTreesError, valueDefinitionsError]\n  );\n\n  const loading =\n    benchmarksLoading || ruleTreesLoading || valueDefinitionsLoading;\n\n  const refetch = useCallback(() => {\n    refetchProfiles();\n    refecthRuleTrees();\n    refecthValueDefinitions();\n  }, [refetchProfiles, refecthRuleTrees, refecthValueDefinitions]);\n\n  return {\n    data,\n    error,\n    loading,\n    refetch,\n  };\n};\n\nexport default useBenchmarksQuery;\n","import React from 'react';\nimport {\n  propTypes as reduxFormPropTypes,\n  reduxForm,\n  formValueSelector,\n} from 'redux-form';\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport { SystemsTable } from 'SmartComponents';\nimport { compose } from 'redux';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { countOsMinorVersions } from 'Store/Reducers/SystemStore';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst EmptyState = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        You do not have any <b>RHEL {osMajorVersion}</b> systems connected to\n        Insights and enabled for Compliance.\n        <br />\n        Policies must be created with at least one system.\n      </Text>\n    </TextContent>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Choose a different RHEL version, or connect <b>RHEL {osMajorVersion}</b>{' '}\n        systems to Insights.\n      </Text>\n    </TextContent>\n    <WizardContextConsumer>\n      {({ goToStepById }) => (\n        <Button onClick={() => goToStepById(1)}>\n          Choose a different RHEL version\n        </Button>\n      )}\n    </WizardContextConsumer>\n  </React.Fragment>\n);\n\nEmptyState.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst PrependComponent = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Select which of your <b>RHEL {osMajorVersion}</b> systems should be\n        included in this policy.\n        <br />\n        Systems can be added or removed at any time.\n      </Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nPrependComponent.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nexport const EditPolicySystems = ({\n  policy,\n  change,\n  osMajorVersion,\n  selectedSystems,\n}) => {\n  const onSystemSelect = (newSelectedSystems) => {\n    change('systems', newSelectedSystems);\n    change('osMinorVersionCounts', countOsMinorVersions(newSelectedSystems));\n  };\n  const osMinorVersions = policy.supportedOsVersions.map(\n    (version) => version.split('.')[1]\n  );\n  return (\n    <React.Fragment>\n      <TextContent className=\"pf-u-mb-md\">\n        <Text component={TextVariants.h1}>Systems</Text>\n      </TextContent>\n      <Form>\n        <FormGroup>\n          <SystemsTable\n            showOsMinorVersionFilter={[osMajorVersion]}\n            prependComponent={\n              <PrependComponent osMajorVersion={osMajorVersion} />\n            }\n            emptyStateComponent={<EmptyState osMajorVersion={osMajorVersion} />}\n            columns={[\n              {\n                ...Columns.Name,\n                props: {\n                  width: 40,\n                },\n                sortBy: ['name'],\n              },\n              Columns.inventoryColumn('groups', {\n                requiresDefault: true,\n                sortBy: ['groups'],\n              }),\n              Columns.inventoryColumn('tags'),\n              Columns.OperatingSystem,\n            ]}\n            remediationsEnabled={false}\n            compact\n            showActions={false}\n            defaultFilter={\n              osMajorVersion &&\n              `os_major_version = ${osMajorVersion} AND os_minor_version ^ (${osMinorVersions.join(\n                ','\n              )})`\n            }\n            enableExport={false}\n            preselectedSystems={selectedSystems}\n            onSelect={onSystemSelect}\n            showGroupsFilter\n          />\n        </FormGroup>\n      </Form>\n    </React.Fragment>\n  );\n};\n\nEditPolicySystems.propTypes = {\n  osMajorVersion: propTypes.string,\n  policy: propTypes.object,\n  selectedSystems: propTypes.array,\n  change: reduxFormPropTypes.change,\n};\n\nEditPolicySystems.defaultProps = {\n  selectedSystems: [],\n};\n\nconst selector = formValueSelector('policyForm');\nconst mapStateToProps = (state) => ({\n  policy: selector(state, 'profile'),\n  osMajorVersion: selector(state, 'osMajorVersion'),\n  selectedSystems: selector(state, 'systems'),\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicySystems);\n","import React, { useEffect } from 'react';\nimport { compose } from 'redux';\nimport {\n  Field,\n  reduxForm,\n  formValueSelector,\n  propTypes as reduxFormPropTypes,\n} from 'redux-form';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport {\n  ReduxFormTextInput,\n  ReduxFormTextArea,\n} from 'PresentationalComponents/ReduxFormWrappers/ReduxFormWrappers';\nimport {\n  ProfileThresholdField,\n  PolicyBusinessObjectiveTooltip,\n} from 'PresentationalComponents';\n\nexport const EditPolicyDetails = ({ change, policy, refId }) => {\n  useEffect(() => {\n    if (policy && policy.refId !== refId) {\n      change('name', `${policy.name}`);\n      change('refId', `${policy.refId}`);\n      change('description', `${policy.description}`);\n    }\n  }, [policy]);\n\n  return (\n    <React.Fragment>\n      <TextContent>\n        <Text component={TextVariants.h1}>Details</Text>\n      </TextContent>\n      <br />\n      <Form id=\"editpolicydetails\">\n        <FormGroup label=\"Policy name\" isRequired fieldId=\"name\">\n          <Field\n            component={ReduxFormTextInput}\n            type=\"text\"\n            isRequired={true}\n            id=\"name\"\n            name=\"name\"\n            aria-describedby=\"name\"\n          />\n        </FormGroup>\n        <FormGroup label=\"Reference ID\" isRequired fieldId=\"refId\">\n          <Field\n            type=\"text\"\n            component={ReduxFormTextInput}\n            isDisabled\n            id=\"refId\"\n            name=\"refId\"\n            aria-describedby=\"refId\"\n          />\n        </FormGroup>\n        <FormGroup label=\"Description\" fieldId=\"description\">\n          <Field\n            type=\"text\"\n            component={ReduxFormTextArea}\n            id=\"description\"\n            name=\"description\"\n            aria-describedby=\"description\"\n          />\n        </FormGroup>\n        <FormGroup\n          label=\"Business objective\"\n          labelIcon={<PolicyBusinessObjectiveTooltip />}\n          fieldId=\"businessObjective\"\n        >\n          <Field\n            type=\"text\"\n            component={ReduxFormTextInput}\n            id=\"businessObjective\"\n            name=\"businessObjective\"\n            aria-describedby=\"businessObjective\"\n            defaultValue={policy.businessObjective}\n          />\n        </FormGroup>\n        <ProfileThresholdField previousThreshold={100} />\n      </Form>\n    </React.Fragment>\n  );\n};\n\nconst selector = formValueSelector('policyForm');\n\nEditPolicyDetails.propTypes = {\n  policy: propTypes.object,\n  refId: propTypes.string,\n  change: reduxFormPropTypes.change,\n};\n\nconst mapStateToProps = (state) => {\n  const policy = selector(state, 'profile');\n  return {\n    policy,\n    refId: selector(state, 'refId'),\n    initialValues: {\n      name: `${policy.name}`,\n      refId: `${policy.refId}`,\n      description: `${policy.description}`,\n      benchmark: selector(state, 'benchmark'),\n      osMajorVersion: selector(state, 'osMajorVersion'),\n      profile: selector(state, 'profile'),\n    },\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: false,\n    forceUnregisterOnUnmount: true,\n  })\n)(EditPolicyDetails);\n","import React from 'react';\nimport {\n  Label,\n  Text,\n  TextVariants,\n  TextContent,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { formValueSelector } from 'redux-form';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\n\nconst ReviewCreatedPolicy = ({\n  name,\n  businessObjective,\n  complianceThreshold,\n  parentProfileName,\n  osMinorVersionCounts,\n  osMajorVersion,\n}) => (\n  <TextContent>\n    <Text component={TextVariants.h1}>Review</Text>\n    <Text>Review your SCAP policy before finishing.</Text>\n    <Text component={TextVariants.h3} style={{ marginTop: 0 }}>\n      {name}\n    </Text>\n    <TextList component={TextListVariants.dl}>\n      <TextListItem component={TextListItemVariants.dt}>\n        Policy type\n      </TextListItem>\n      <TextListItem component={TextListItemVariants.dd}>\n        {parentProfileName}\n      </TextListItem>\n      <TextListItem component={TextListItemVariants.dt}>\n        Compliance threshold\n      </TextListItem>\n      <TextListItem component={TextListItemVariants.dd}>\n        {complianceThreshold}%\n      </TextListItem>\n      {businessObjective && (\n        <React.Fragment>\n          <TextListItem component={TextListItemVariants.dt}>\n            Business objective\n          </TextListItem>\n          <TextListItem component={TextListItemVariants.dd}>\n            {businessObjective}\n          </TextListItem>\n        </React.Fragment>\n      )}\n      <TextListItem component={TextListItemVariants.dt}>Systems</TextListItem>\n      <TextListItem component={TextListItemVariants.dd}>\n        <TextList component={TextListVariants.dl}>\n          {osMinorVersionCounts.map(({ osMinorVersion, count }) => (\n            <React.Fragment key={osMinorVersion}>\n              <TextListItem\n                component={TextListItemVariants.dt}\n                style={{ fontWeight: 'normal' }}\n              >\n                RHEL {osMajorVersion}.{osMinorVersion}\n              </TextListItem>\n              <TextListItem component={TextListItemVariants.dd}>\n                <Label color=\"grey\" isCompact={true}>\n                  {count} {count > 1 ? 'systems' : 'system'}\n                </Label>\n              </TextListItem>\n            </React.Fragment>\n          ))}\n        </TextList>\n      </TextListItem>\n    </TextList>\n  </TextContent>\n);\n\nReviewCreatedPolicy.propTypes = {\n  benchmarkId: propTypes.string,\n  refId: propTypes.string,\n  name: propTypes.string,\n  businessObjective: propTypes.string,\n  complianceThreshold: propTypes.number,\n  parentProfileName: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n  osMajorVersion: propTypes.string.isRequired,\n};\n\nconst selector = formValueSelector('policyForm');\n\nexport default connect((state) => ({\n  benchmarkId: selector(state, 'benchmark'),\n  refId: selector(state, 'refId'),\n  name: selector(state, 'name'),\n  businessObjective: selector(state, 'businessObjective'),\n  osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n  complianceThreshold:\n    parseFloat(selector(state, 'complianceThreshold')) || 100.0,\n  parentProfileName: selector(state, 'profile').name,\n  rulesCount: selector(state, 'selectedRuleRefIds').length,\n}))(ReviewCreatedPolicy);\n","import React, { useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Title,\n  Button,\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  EmptyStateVariant,\n  EmptyStateIcon,\n  List,\n  ListItem,\n} from '@patternfly/react-core';\nimport {\n  ProgressBar,\n  LinkWithPermission as Link,\n} from 'PresentationalComponents';\nimport { WrenchIcon } from '@patternfly/react-icons';\nimport { reduxForm, formValueSelector } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withApollo } from '@apollo/client/react/hoc';\nimport { usePolicy } from 'Mutations';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\n\nconst EmtpyStateWithErrors = ({ errors }) =>\n  errors && Array.isArray(errors) && errors.length > 0 ? (\n    <EmptyStateBody className=\"wizard-failed-errors\">\n      <List>\n        {errors.map((error) => (\n          <ListItem key={error}>{error}</ListItem>\n        ))}\n      </List>\n    </EmptyStateBody>\n  ) : null;\n\nEmtpyStateWithErrors.propTypes = {\n  errors: propTypes.array,\n};\n\nexport const FinishedCreatePolicy = ({\n  onWizardFinish,\n  cloneFromProfileId,\n  description,\n  name,\n  complianceThreshold,\n  businessObjective,\n  refId,\n  benchmarkId,\n  systems,\n  selectedRuleRefIds,\n  ruleValues: values,\n}) => {\n  const [percent, setPercent] = useState(0);\n  const [message, setMessage] = useState('This usually takes a minute or two.');\n  const [errors, setErrors] = useState(null);\n  const [failed, setFailed] = useState(false);\n  const updatePolicy = usePolicy();\n\n  const onProgress = (progress) => {\n    setPercent(progress * 100);\n  };\n\n  const submitForm = () => {\n    const newPolicy = {\n      cloneFromProfileId,\n      description,\n      name,\n      complianceThreshold,\n      businessObjective: { title: businessObjective },\n      refId,\n      benchmarkId,\n      hosts: systems,\n      selectedRuleRefIds,\n      values,\n    };\n\n    updatePolicy(null, newPolicy, onProgress)\n      .then(({ id }) => {\n        setPercent(100);\n        setMessage();\n        dispatchNotification({\n          variant: 'success',\n          title: `Created policy \"${name}\"`,\n          autoDismiss: true,\n          description: (\n            <span>\n              From the <strong>SCAP Policies</strong> list, open{' '}\n              <Link to={`/scappolicies/${id}`}>{name}</Link>.\n            </span>\n          ),\n        });\n      })\n      .catch((error) => {\n        setMessage(error.networkError?.message);\n        setErrors(error.networkError?.result?.errors);\n        setFailed(true);\n        dispatchNotification({\n          variant: 'danger',\n          title: 'Error creating policy',\n          description: error.message,\n        });\n      });\n  };\n\n  useEffect(() => {\n    submitForm();\n  }, []);\n\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.full}>\n        <EmptyStateIcon icon={WrenchIcon} />\n        <br />\n        <Title headingLevel=\"h1\" size=\"lg\">\n          Creating policy\n        </Title>\n        <EmptyStateBody>\n          <ProgressBar percent={percent} failed={failed} />\n        </EmptyStateBody>\n        <EmptyStateBody className={failed && 'wizard-failed-message'}>\n          {message}\n        </EmptyStateBody>\n        <EmtpyStateWithErrors error={errors} />\n        <EmptyStateSecondaryActions>\n          {(percent === 100 || failed) && (\n            <Button\n              variant={'primary'}\n              ouiaId=\"ReturnToAppButton\"\n              onClick={() => {\n                onWizardFinish();\n              }}\n            >\n              {failed ? 'Back' : 'Return to application'}\n            </Button>\n          )}\n        </EmptyStateSecondaryActions>\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nFinishedCreatePolicy.propTypes = {\n  benchmarkId: propTypes.string.isRequired,\n  businessObjective: propTypes.object,\n  cloneFromProfileId: propTypes.string.isRequired,\n  refId: propTypes.string.isRequired,\n  name: propTypes.string.isRequired,\n  description: propTypes.string,\n  systems: propTypes.array,\n  complianceThreshold: propTypes.number,\n  onWizardFinish: propTypes.func,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.string).isRequired,\n  ruleValues: propTypes.object,\n};\n\nexport const selector = formValueSelector('policyForm');\n\nexport default compose(\n  connect((state) => {\n    return {\n      benchmarkId: selector(state, 'benchmark'),\n      businessObjective: selector(state, 'businessObjective'),\n      cloneFromProfileId: selector(state, 'profile').id,\n      refId: selector(state, 'refId'),\n      name: selector(state, 'name'),\n      description: selector(state, 'description'),\n      complianceThreshold:\n        parseFloat(selector(state, 'complianceThreshold')) || 100.0,\n      systems: selector(state, 'systems'),\n      selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n      ruleValues: selector(state, 'ruleValues'),\n    };\n  }),\n  reduxForm({\n    form: 'policyForm',\n    destroyOnUnmount: true,\n    forceUnregisterOnUnmount: true,\n  }),\n  withApollo\n)(FinishedCreatePolicy);\n","import {\n  Button,\n  ButtonVariant,\n  WizardContextConsumer,\n  WizardFooter,\n} from '@patternfly/react-core';\nimport React from 'react';\n\nconst CreatePolicyFooter = () => (\n  <WizardFooter>\n    <WizardContextConsumer>\n      {({ onNext, onBack, onClose, activeStep }) => {\n        const stepNameEdited = activeStep.name\n          .toLowerCase()\n          .replaceAll(' ', '-');\n\n        return (\n          <>\n            <Button\n              id={`${stepNameEdited}-next-button`}\n              variant={ButtonVariant.primary}\n              type=\"submit\"\n              onClick={onNext}\n              isDisabled={\n                !(activeStep && activeStep.enableNext !== undefined\n                  ? activeStep.enableNext\n                  : true)\n              }\n            >\n              {activeStep.nextButtonText || 'Next'}\n            </Button>\n            {!activeStep.hideBackButton && (\n              <Button\n                id={`${stepNameEdited}-back-button`}\n                variant={ButtonVariant.secondary}\n                onClick={onBack}\n                isDisabled={activeStep.id === 1}\n              >\n                {activeStep.backButtonText || 'Back'}\n              </Button>\n            )}\n            {!activeStep.hideCancelButton && (\n              <div className=\"pf-c-wizard__footer-cancel\">\n                <Button\n                  id={`${stepNameEdited}-cancel-button`}\n                  variant={ButtonVariant.link}\n                  onClick={onClose}\n                >\n                  {activeStep.cancelButtonText || 'Cancel'}\n                </Button>\n              </div>\n            )}\n          </>\n        );\n      }}\n    </WizardContextConsumer>\n  </WizardFooter>\n);\n\nexport default CreatePolicyFooter;\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { formValueSelector, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\nimport { Wizard } from '@patternfly/react-core';\nimport CreateSCAPPolicy from './CreateSCAPPolicy';\nimport { default as EditPolicyRules } from './EditPolicyProfilesRules';\nimport EditPolicySystems from './EditPolicySystems';\nimport EditPolicyDetails from './EditPolicyDetails';\nimport ReviewCreatedPolicy from './ReviewCreatedPolicy';\nimport FinishedCreatePolicy from './FinishedCreatePolicy';\nimport CreatePolicyFooter from './CreatePolicyFooter';\nimport {\n  validateBenchmarkPage,\n  validateDetailsPage,\n  validateRulesPage,\n  validateSystemsPage,\n} from './validate';\n\nexport const CreatePolicyForm = ({\n  benchmark,\n  osMajorVersion,\n  complianceThreshold,\n  name,\n  profile,\n  refId,\n  selectedRuleRefIds,\n  systemIds,\n  reset,\n}) => {\n  const navigate = useNavigate();\n  const [stepIdReached, setStepIdReached] = useState(1);\n  const resetAnchor = () => {\n    const { location } = history;\n    if (location.hash) {\n      history.push({ ...location, hash: '' });\n    }\n  };\n\n  const onNext = ({ id }) => {\n    setStepIdReached(stepIdReached < id ? id : stepIdReached);\n    resetAnchor();\n  };\n\n  const onClose = () => {\n    reset();\n    navigate('/scappolicies');\n  };\n\n  const steps = [\n    {\n      id: 1,\n      name: 'Create SCAP policy',\n      component: <CreateSCAPPolicy />,\n      enableNext: validateBenchmarkPage(benchmark, osMajorVersion, profile),\n    },\n    {\n      id: 2,\n      name: 'Details',\n      component: <EditPolicyDetails />,\n      canJumpTo: stepIdReached >= 2,\n      enableNext: validateDetailsPage(name, refId, complianceThreshold),\n    },\n    {\n      id: 3,\n      name: 'Systems',\n      component: <EditPolicySystems />,\n      canJumpTo: stepIdReached >= 3,\n      enableNext: validateSystemsPage(systemIds),\n    },\n    {\n      id: 4,\n      name: 'Rules',\n      component: <EditPolicyRules />,\n      canJumpTo: systemIds?.length > 0 && stepIdReached >= 4,\n      enableNext: validateRulesPage(selectedRuleRefIds),\n    },\n    {\n      id: 5,\n      name: 'Review',\n      component: <ReviewCreatedPolicy osMajorVersion={osMajorVersion} />,\n      nextButtonText: 'Finish',\n      canJumpTo:\n        validateRulesPage(selectedRuleRefIds) &&\n        systemIds?.length > 0 &&\n        stepIdReached >= 5,\n    },\n    {\n      id: 6,\n      name: 'Finished',\n      component: <FinishedCreatePolicy onWizardFinish={onClose} />,\n      isFinishedStep: true,\n      canJumpTo: systemIds?.length > 0 && stepIdReached >= 6,\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      <Wizard\n        width={1300}\n        className=\"compliance\"\n        isOpen\n        onNext={onNext}\n        onGoToStep={resetAnchor}\n        onBack={resetAnchor}\n        onClose={onClose}\n        title=\"Create SCAP policy\"\n        description=\"Create a new policy for managing SCAP compliance\"\n        steps={steps}\n        id=\"create-scap-policy-wizard\"\n        footer={<CreatePolicyFooter />}\n      />\n    </React.Fragment>\n  );\n};\n\nCreatePolicyForm.propTypes = {\n  benchmark: propTypes.string,\n  osMajorVersion: propTypes.string,\n  osMinorVersionCounts: propTypes.arrayOf(\n    propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    })\n  ),\n  complianceThreshold: propTypes.string,\n  businessObjective: propTypes.object,\n  dispatch: propTypes.func,\n  isOpen: propTypes.bool,\n  name: propTypes.string,\n  onWizardFinish: propTypes.func,\n  profile: propTypes.string,\n  refId: propTypes.string,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.string),\n  systemIds: propTypes.arrayOf(propTypes.string),\n  reset: propTypes.func,\n};\n\nCreatePolicyForm.defaultProps = {\n  isOpen: false,\n};\n\nconst CreatePolicy = reduxForm({\n  form: 'policyForm',\n})(CreatePolicyForm);\n\nconst selector = formValueSelector('policyForm');\nexport default connect((state) => ({\n  benchmark: selector(state, 'benchmark'),\n  osMajorVersion: selector(state, 'osMajorVersion'),\n  osMinorVersionCounts: selector(state, 'osMinorVersionCounts'),\n  businessObjective: selector(state, 'businessObjective'),\n  complianceThreshold: selector(state, 'complianceThreshold') || 100,\n  name: selector(state, 'name'),\n  profile: selector(state, 'profile'),\n  refId: selector(state, 'refId'),\n  selectedRuleRefIds: selector(state, 'selectedRuleRefIds'),\n  systemIds: selector(state, 'systems'),\n}))(CreatePolicy);\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport {\n  Button,\n  Checkbox,\n  ModalVariant,\n  Text,\n  Spinner,\n} from '@patternfly/react-core';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\nimport { DELETE_PROFILE } from 'Mutations';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport {\n  ComplianceModal,\n  StateViewWithError,\n  StateViewPart,\n} from 'PresentationalComponents';\nimport { dispatchAction } from 'Utilities/Dispatcher';\nimport usePolicyQuery from 'Utilities/hooks/usePolicyQuery';\n\nconst DeletePolicy = () => {\n  const [deleteEnabled, setDeleteEnabled] = useState(false);\n  const navigate = useNavigate();\n  const { policy_id: policyId } = useParams();\n  const { data, error, loading } = usePolicyQuery({\n    policyId,\n    minimal: true,\n  });\n  const {\n    profile: { name, id },\n  } = data || { profile: {} };\n  const onClose = () => {\n    navigate('/scappolicies');\n  };\n\n  const [deletePolicy] = useMutation(DELETE_PROFILE, {\n    onCompleted: () => {\n      dispatchAction(\n        addNotification({\n          variant: 'success',\n          title: `Deleted \"${name}\" and its associated reports`,\n        })\n      );\n      onClose();\n    },\n    onError: (error) => {\n      dispatchAction(\n        addNotification({\n          variant: 'danger',\n          title: 'Error removing policy',\n          description: error.message,\n        })\n      );\n      onClose();\n    },\n  });\n\n  return (\n    <ComplianceModal\n      variant={ModalVariant.small}\n      title=\"Delete policy?\"\n      titleIconVariant=\"warning\"\n      ouiaId=\"DeletePolicyModal\"\n      isOpen\n      onClose={onClose}\n      actions={[\n        <Button\n          key=\"destroy\"\n          ouiaId=\"DeletePolicyButton\"\n          aria-label=\"delete\"\n          isDisabled={!deleteEnabled}\n          variant=\"danger\"\n          onClick={() => deletePolicy({ variables: { input: { id } } })}\n        >\n          Delete policy and associated reports\n        </Button>,\n        <Button\n          key=\"cancel\"\n          ouiaId=\"DeletePolicyCancelButton\"\n          variant=\"secondary\"\n          onClick={onClose}\n        >\n          Cancel\n        </Button>,\n      ]}\n    >\n      <StateViewWithError stateValues={{ error, data, loading }}>\n        <StateViewPart stateKey=\"loading\">\n          <Spinner />\n        </StateViewPart>\n        <StateViewPart stateKey=\"data\">\n          <Text className=\"policy-delete-body-text\">\n            Deleting the policy <b>{name}</b> will also delete its associated\n            reports.\n          </Text>\n          <Checkbox\n            label=\"I understand this will delete the policy and all associated reports\"\n            id={`deleting-policy-check-${id}`}\n            isChecked={deleteEnabled}\n            onChange={setDeleteEnabled}\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </ComplianceModal>\n  );\n};\n\nDeletePolicy.propTypes = {\n  policy: propTypes.object,\n};\n\nexport default DeletePolicy;\n","import { Button, ModalVariant, TextContent } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\nimport { useMutation } from '@apollo/client';\nimport { DELETE_REPORT } from 'Mutations';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { ComplianceModal } from 'PresentationalComponents';\nimport { dispatchAction } from 'Utilities/Dispatcher';\n\nconst DeleteReport = () => {\n  const navigate = useNavigate();\n  const { report_id: id } = useParams();\n\n  const onClose = () => {\n    navigate(-1);\n  };\n\n  const onDelete = () => {\n    navigate('/reports');\n  };\n\n  const [deleteReport] = useMutation(DELETE_REPORT, {\n    onCompleted: () => {\n      dispatchAction(\n        addNotification({\n          variant: 'success',\n          title: 'Report deleted',\n          description:\n            'Systems associated with this policy will upload reports on the next check-in.',\n        })\n      );\n      onDelete();\n    },\n    onError: (error) => {\n      dispatchAction(\n        addNotification({\n          variant: 'danger',\n          title: 'Error removing report',\n          description: error.message,\n        })\n      );\n      onClose();\n    },\n  });\n\n  return (\n    <ComplianceModal\n      isOpen\n      variant={ModalVariant.small}\n      title=\"Delete report?\"\n      titleIconVariant=\"warning\"\n      ouiaId=\"DeleteReportModal\"\n      onClose={onClose}\n      actions={[\n        <Button\n          key=\"destroy\"\n          ouiaId=\"DeleteReportButton\"\n          aria-label=\"delete\"\n          variant=\"danger\"\n          onClick={() =>\n            deleteReport({\n              variables: {\n                input: {\n                  profileId: id,\n                },\n              },\n            })\n          }\n        >\n          Delete report\n        </Button>,\n        <Button\n          key=\"cancel\"\n          ouiaId=\"DeleteReportCancelButton\"\n          variant=\"secondary\"\n          onClick={() => onClose()}\n        >\n          Cancel\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        Deleting a report is permanent and cannot be undone.\n      </TextContent>\n    </ComplianceModal>\n  );\n};\n\nDeleteReport.propTypes = {\n  onClose: propTypes.func,\n  isModalOpen: propTypes.bool,\n  onDelete: propTypes.func,\n  policyId: propTypes.string,\n};\n\nDeleteReport.defaultProps = {\n  onDelete: () => {},\n  onClose: () => {},\n};\n\nexport default DeleteReport;\n","import gql from 'graphql-tag';\n\nexport const BENCHMARKS_QUERY = gql`\n  query EP_Benchmarks($filter: String!) {\n    benchmarks(search: $filter) {\n      nodes {\n        id\n        latestSupportedOsMinorVersions\n        ruleTree\n        valueDefinitions {\n          defaultValue\n          description\n          id\n          refId\n          title\n          valueType\n        }\n        profiles {\n          id\n          refId\n          ssgVersion\n        }\n      }\n    }\n  }\n`;\n\nexport const MULTIVERSION_QUERY = gql`\n  query EP_Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      external\n      description\n      totalHostCount\n      compliantHostCount\n      complianceThreshold\n      osMajorVersion\n      supportedOsVersions\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n        refId\n        profiles {\n          id\n          parentProfileId\n          name\n          refId\n          osMinorVersion\n          osMajorVersion\n          values\n          benchmark {\n            id\n            title\n            latestSupportedOsMinorVersions\n            osMajorVersion\n            version\n            ruleTree\n          }\n          rules {\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            identifier\n            values\n          }\n        }\n      }\n      businessObjective {\n        id\n        title\n      }\n      hosts {\n        id\n        osMinorVersion\n        osMajorVersion\n      }\n    }\n  }\n`;\n\nexport const RULE_VALUE_DEFINITIONS_QUERY = gql`\n  query EP_ProfileValueDefinitions($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      policy {\n        id\n        refId\n        profiles {\n          id\n          parentProfileId\n          refId\n          benchmark {\n            id\n            ruleTree\n            valueDefinitions {\n              defaultValue\n              description\n              id\n              refId\n              title\n              valueType\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { useEffect } from 'react';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  Text,\n  TextContent,\n  Title,\n} from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport { useQuery } from '@apollo/client';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport { StateViewWithError, StateViewPart } from 'PresentationalComponents';\nimport {\n  TabbedRules,\n  profilesWithRulesToSelection,\n  tabsDataToOsMinorMap,\n  extendProfilesByOsMinor,\n} from 'PresentationalComponents/TabbedRules';\nimport { sortingByProp } from 'Utilities/helpers';\nimport * as Columns from '@/PresentationalComponents/RulesTable/Columns';\nimport { BENCHMARKS_QUERY } from './constants';\n\nconst getBenchmarkBySupportedOsMinor = (benchmarks, osMinorVersion) =>\n  benchmarks.find((benchmark) =>\n    benchmark.latestSupportedOsMinorVersions?.includes(osMinorVersion)\n  );\n\nconst getBenchmarkProfile = (benchmark, profileRefId) =>\n  benchmark.profiles.find(\n    (benchmarkProfile) => benchmarkProfile.refId === profileRefId\n  );\n\nconst EditPolicyRulesTabEmptyState = () => (\n  <EmptyState>\n    <Title headingLevel=\"h5\" size=\"lg\">\n      No rules can be configured\n    </Title>\n    <EmptyStateBody>\n      This policy has no associated systems, and therefore no rules can be\n      configured.\n    </EmptyStateBody>\n    <EmptyStateBody>\n      Add at least one system to configure rules for this policy.\n    </EmptyStateBody>\n  </EmptyState>\n);\n\nexport const toTabsData = (policy, osMinorVersionCounts, benchmarks) =>\n  Object.values(osMinorVersionCounts)\n    .sort(sortingByProp('osMinorVersion', 'desc'))\n    .map(({ osMinorVersion, count: systemCount }) => {\n      osMinorVersion = `${osMinorVersion}`;\n      let profile = policy.policy.profiles.find(\n        (profile) => profile.osMinorVersion === osMinorVersion\n      );\n      let osMajorVersion = policy.osMajorVersion;\n\n      if (!profile && benchmarks) {\n        const benchmark = getBenchmarkBySupportedOsMinor(\n          benchmarks,\n          osMinorVersion\n        );\n        if (benchmark) {\n          const benchmarkProfile = getBenchmarkProfile(benchmark, policy.refId);\n          if (benchmarkProfile) {\n            profile = policy.policy.profiles.find(\n              (profile) =>\n                profile.parentProfileId === benchmarkProfile.id &&\n                profile.osMinorVersion === osMinorVersion\n            );\n\n            profile = {\n              ...benchmarkProfile,\n              benchmark,\n              osMajorVersion,\n              ...profile,\n            };\n          }\n        }\n      }\n\n      return {\n        profile,\n        systemCount,\n        newOsMinorVersion: osMinorVersion,\n      };\n    })\n    .filter(({ profile, newOsMinorVersion }) => !!profile && newOsMinorVersion);\n\nexport const EditPolicyRulesTab = ({\n  policy,\n  selectedRuleRefIds,\n  setSelectedRuleRefIds,\n  osMinorVersionCounts,\n  setRuleValues,\n  ruleValues: ruleValuesProp,\n}) => {\n  const osMajorVersion = policy?.osMajorVersion;\n  const osMinorVersions = Object.keys(osMinorVersionCounts).sort();\n  const benchmarkSearch =\n    `os_major_version = ${osMajorVersion} ` +\n    `and latest_supported_os_minor_version ^ \"${osMinorVersions.join(',')}\"`;\n\n  const {\n    data: benchmarksData,\n    error,\n    loading,\n  } = useQuery(BENCHMARKS_QUERY, {\n    variables: {\n      filter: benchmarkSearch,\n    },\n    skip: osMinorVersions.length === 0,\n  });\n\n  const benchmarks = benchmarksData?.benchmarks?.nodes;\n\n  const tabsData = toTabsData(policy, osMinorVersionCounts, benchmarks);\n  const profileToOsMinorMap = tabsDataToOsMinorMap(tabsData);\n\n  const dataState = !loading && tabsData?.length > 0 ? tabsData : undefined;\n\n  useEffect(() => {\n    if (policy.policy.profiles) {\n      const profiles = policy.policy.profiles;\n      const profilesWithOs = extendProfilesByOsMinor(\n        profiles,\n        profileToOsMinorMap\n      );\n      setSelectedRuleRefIds((prevSelection) => {\n        const newSelection = profilesWithRulesToSelection(\n          profilesWithOs,\n          prevSelection\n        );\n        return newSelection;\n      });\n    }\n  }, [policy.policy.profiles]);\n\n  const ruleValues = (policy) => {\n    const mergeValues = (policyId, values) => {\n      return {\n        ...values,\n        ...(ruleValuesProp?.[policyId] || {}),\n      };\n    };\n\n    return Object.fromEntries(\n      policy?.policy?.profiles?.map(\n        ({ id, values, benchmark: { valueDefinitions } }) => [\n          id,\n          mergeValues(id, values, valueDefinitions),\n        ]\n      ) || []\n    );\n  };\n\n  return (\n    <StateViewWithError\n      stateValues={{\n        error,\n        data: !error && dataState,\n        loading,\n        empty: !loading && !dataState && !error,\n      }}\n    >\n      <StateViewPart stateKey=\"loading\">\n        <EmptyTable>\n          <Spinner />\n        </EmptyTable>\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <TextContent>\n          <Text>\n            Different release versions of RHEL are associated with different\n            versions of the SCAP Security Guide (SSG), therefore each release\n            must be customized independently.\n          </Text>\n        </TextContent>\n        {tabsData.length > 0 && (\n          <TabbedRules\n            resetLink\n            rulesPageLink\n            selectedFilter\n            remediationsEnabled={false}\n            columns={[Columns.Name, Columns.Severity, Columns.Remediation]}\n            tabsData={tabsData}\n            ruleValues={ruleValues(policy)}\n            selectedRuleRefIds={selectedRuleRefIds}\n            setSelectedRuleRefIds={setSelectedRuleRefIds}\n            setRuleValues={setRuleValues}\n            level={1}\n            ouiaId=\"RHELVersions\"\n          />\n        )}\n      </StateViewPart>\n      <StateViewPart stateKey=\"empty\">\n        <EditPolicyRulesTabEmptyState />\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nEditPolicyRulesTab.propTypes = {\n  setNewRuleTabs: propTypes.func,\n  policy: propTypes.object,\n  osMinorVersionCounts: propTypes.shape({\n    osMinorVersion: propTypes.shape({\n      osMinorVersion: propTypes.number,\n      count: propTypes.number,\n    }),\n  }),\n  selectedRuleRefIds: propTypes.array,\n  setSelectedRuleRefIds: propTypes.func,\n  setRuleValues: propTypes.func,\n  ruleValues: propTypes.array,\n};\n\nexport default EditPolicyRulesTab;\n","import React from 'react';\nimport { Text, TextContent } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport { SystemsTable } from 'SmartComponents';\nimport * as Columns from '../SystemsTable/Columns';\n\nconst EmptyState = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        You do not have any <b>RHEL {osMajorVersion}</b> systems connected to\n        Insights and enabled for Compliance.\n      </Text>\n    </TextContent>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>Connect RHEL {osMajorVersion} systems to Insights.</Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nEmptyState.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst PrependComponent = ({ osMajorVersion }) => (\n  <React.Fragment>\n    <TextContent className=\"pf-u-mb-md\">\n      <Text>\n        Select which of your <b>RHEL {osMajorVersion}</b> systems should be\n        included in this policy.\n      </Text>\n    </TextContent>\n  </React.Fragment>\n);\n\nPrependComponent.propTypes = {\n  osMajorVersion: propTypes.string,\n};\n\nconst EditPolicySystemsTab = ({ policy, onSystemSelect, selectedSystems }) => {\n  const { id: policyId, osMajorVersion, supportedOsVersions } = policy;\n  const osMinorVersions = supportedOsVersions.map(\n    (version) => version.split('.')[1]\n  );\n  const osFilter =\n    osMajorVersion &&\n    `os_major_version = ${osMajorVersion} AND os_minor_version ^ (${osMinorVersions.join(\n      ','\n    )})`;\n  const defaultFilter = osFilter\n    ? `${osFilter} or policy_id = ${policyId}`\n    : `policy_id = ${policyId}`;\n  console.log('POL', policy);\n  return (\n    <React.Fragment>\n      <SystemsTable\n        columns={[\n          Columns.Name,\n          Columns.inventoryColumn('tags'),\n          Columns.OperatingSystem,\n        ]}\n        showOsMinorVersionFilter={[osMajorVersion]}\n        prependComponent={<PrependComponent osMajorVersion={osMajorVersion} />}\n        emptyStateComponent={<EmptyState osMajorVersion={osMajorVersion} />}\n        compact\n        showActions={false}\n        defaultFilter={defaultFilter}\n        enableExport={false}\n        remediationsEnabled={false}\n        preselectedSystems={selectedSystems}\n        onSelect={onSystemSelect}\n      />\n    </React.Fragment>\n  );\n};\n\nEditPolicySystemsTab.propTypes = {\n  policy: propTypes.object,\n  newRuleTabs: propTypes.bool,\n  onSystemSelect: propTypes.func,\n  selectedSystems: propTypes.array,\n};\n\nexport default EditPolicySystemsTab;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\n\nimport { Alert, AlertActionLink } from '@patternfly/react-core';\n\nconst NewRulesAlert = () => {\n  const navigate = useNavigate();\n\n  const location = useLocation();\n\n  return (\n    <Alert\n      variant=\"info\"\n      isInline\n      title=\"You selected a system that has a release version previously not included in this policy.\"\n      actionLinks={\n        <AlertActionLink\n          onClick={() => navigate({ ...location, hash: '#rules' })}\n        >\n          Open rule editing\n        </AlertActionLink>\n      }\n    >\n      <p>\n        If you have edited any rules for this policy, you will need to do so for\n        this release version as well.\n      </p>\n    </Alert>\n  );\n};\n\nexport default NewRulesAlert;\n","import React, { useCallback, useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { Form, Tab, TabTitleText } from '@patternfly/react-core';\nimport { RoutedTabs } from 'PresentationalComponents';\nimport EditPolicyRulesTab from './EditPolicyRulesTab';\nimport EditPolicySystemsTab from './EditPolicySystemsTab';\nimport NewRulesAlert from './components/NewRulesAlert';\nimport { mapCountOsMinorVersions } from 'Store/Reducers/SystemStore';\nimport { profilesWithRulesToSelection } from 'PresentationalComponents/TabbedRules';\nimport { thresholdValid } from '../CreatePolicy/validate';\nimport { useNewRulesAlertState } from './hooks/index';\n\nconst profilesToOsMinorMap = (profiles, hosts) =>\n  (profiles || []).reduce((acc, profile) => {\n    if (profile.osMinorVersion !== '') {\n      acc[profile.osMinorVersion] ||= {\n        osMinorVersion: profile.osMinorVersion,\n        count: 0,\n      };\n    }\n\n    return acc;\n  }, mapCountOsMinorVersions(hosts || []));\n\nconst EditPolicyForm = ({\n  policy,\n  setUpdatedPolicy,\n  selectedRuleRefIds,\n  setSelectedRuleRefIds,\n  selectedSystems,\n  setSelectedSystems,\n  setRuleValues,\n  ruleValues,\n}) => {\n  const policyProfiles = policy?.policy?.profiles || [];\n  const [osMinorVersionCounts, setOsMinorVersionCounts] = useState({});\n  const [newRulesAlert, setNewRulesAlert] = useNewRulesAlertState(false);\n\n  const handleSystemSelect = useCallback(\n    (newSelectedSystems) => {\n      const policyMinorVersions = policy.hosts.map(\n        ({ osMinorVersion }) => osMinorVersion\n      );\n      const hasNewOsMinorVersions =\n        newSelectedSystems.filter(\n          ({ osMinorVersion }) => !policyMinorVersions.includes(osMinorVersion)\n        ).length > 0;\n\n      setSelectedSystems(newSelectedSystems);\n      setNewRulesAlert(hasNewOsMinorVersions);\n      setOsMinorVersionCounts(\n        profilesToOsMinorMap(policyProfiles, newSelectedSystems)\n      );\n    },\n    [policyProfiles, selectedRuleRefIds]\n  );\n\n  useEffect(() => {\n    if (policy) {\n      const complianceThresholdValid = thresholdValid(\n        policy.complianceThreshold\n      );\n      const profilesWithOsMinor = policyProfiles.filter(\n        ({ osMinorVersion }) => !!osMinorVersion\n      );\n      setUpdatedPolicy({\n        ...policy,\n        complianceThresholdValid,\n      });\n\n      setSelectedRuleRefIds(profilesWithRulesToSelection(profilesWithOsMinor));\n      handleSystemSelect(policy.hosts);\n    }\n  }, [policy]);\n\n  return (\n    <Form>\n      <RoutedTabs ouiaId=\"EditSystems\" defaultTab=\"rules\" id=\"policy-tabs\">\n        <Tab\n          eventKey=\"rules\"\n          ouiaId=\"Rules\"\n          title={<TabTitleText>Rules</TabTitleText>}\n        >\n          <EditPolicyRulesTab\n            policy={policy}\n            setSelectedRuleRefIds={setSelectedRuleRefIds}\n            setRuleValues={setRuleValues}\n            ruleValues={ruleValues}\n            selectedRuleRefIds={selectedRuleRefIds}\n            osMinorVersionCounts={osMinorVersionCounts}\n          />\n        </Tab>\n        <Tab\n          eventKey=\"systems\"\n          ouiaId=\"Systems\"\n          title={<TabTitleText>Systems</TabTitleText>}\n        >\n          <EditPolicySystemsTab\n            policy={policy}\n            selectedSystems={selectedSystems}\n            onSystemSelect={handleSystemSelect}\n          />\n          {newRulesAlert && <NewRulesAlert />}\n        </Tab>\n      </RoutedTabs>\n    </Form>\n  );\n};\n\nEditPolicyForm.propTypes = {\n  policy: propTypes.object,\n  updatedPolicy: propTypes.object,\n  setUpdatedPolicy: propTypes.func,\n  selectedRuleRefIds: propTypes.arrayOf(propTypes.object),\n  setSelectedRuleRefIds: propTypes.func,\n  setSelectedSystems: propTypes.func,\n  selectedSystems: propTypes.array,\n  setRuleValues: propTypes.func,\n  ruleValues: propTypes.array,\n};\n\nexport default EditPolicyForm;\n","import { useState } from 'react';\n\nexport const useNewRulesAlertState = (...args) => useState(...args);\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport { Button, Spinner } from '@patternfly/react-core';\nimport { useLocation, useParams } from 'react-router-dom';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\nimport { useTitleEntity } from 'Utilities/hooks/useDocumentTitle';\nimport {\n  ComplianceModal,\n  StateViewWithError,\n  StateViewPart,\n} from 'PresentationalComponents';\nimport EditPolicyForm from './EditPolicyForm';\nimport { useOnSave } from './hooks';\nimport usePolicyQuery from 'Utilities/hooks/usePolicyQuery';\n\nexport const EditPolicy = ({ route }) => {\n  const navigate = useNavigate();\n  const { policy_id: policyId } = useParams();\n  const location = useLocation();\n  const { data, error, loading } = usePolicyQuery({ policyId });\n  const policy = data?.profile;\n  const [updatedPolicy, setUpdatedPolicy] = useState(null);\n  const [selectedRuleRefIds, setSelectedRuleRefIds] = useState([]);\n  const [selectedSystems, setSelectedSystems] = useState([]);\n  const [ruleValues, setRuleValuesState] = useState({});\n\n  const saveEnabled = updatedPolicy && !updatedPolicy.complianceThresholdValid;\n  const updatedPolicyHostsAndRules = {\n    ...updatedPolicy,\n    selectedRuleRefIds,\n    hosts: selectedSystems,\n    values: ruleValues,\n  };\n  const onSaveCallback = () => navigate(location.state?.returnTo || -1);\n\n  const [isSaving, onSave] = useOnSave(policy, updatedPolicyHostsAndRules, {\n    onSave: onSaveCallback,\n    onError: onSaveCallback,\n  });\n\n  const setRuleValues = (policyId, valueDefinition, valueValue) => {\n    const existingValues = Object.fromEntries(\n      policy?.policy.profiles.map((profile) => {\n        return [profile.id, profile.values];\n      }) || []\n    );\n\n    setRuleValuesState((currentValues) => ({\n      ...existingValues,\n      ...currentValues,\n      [policyId]: {\n        ...existingValues[policyId],\n        ...currentValues[policyId],\n        [valueDefinition.id]: valueValue,\n      },\n    }));\n  };\n\n  const actions = [\n    <Button\n      isDisabled={saveEnabled}\n      key=\"save\"\n      ouiaId=\"EditPolicySaveButton\"\n      variant=\"primary\"\n      spinnerAriaValueText=\"Saving\"\n      isLoading={isSaving}\n      onClick={onSave}\n    >\n      Save\n    </Button>,\n    <Button\n      key=\"cancel\"\n      ouiaId=\"EditPolicyCancelButton\"\n      variant=\"link\"\n      onClick={onSaveCallback}\n    >\n      Cancel\n    </Button>,\n  ];\n\n  useTitleEntity(route, policy?.name);\n\n  return (\n    <ComplianceModal\n      isOpen\n      position={'top'}\n      style={{ minHeight: '350px' }}\n      width={1220}\n      variant={'large'}\n      ouiaId=\"EditPolicyModal\"\n      title={`Edit ${policy ? policy.name : ''}`}\n      onClose={onSaveCallback}\n      actions={actions}\n    >\n      <StateViewWithError\n        stateValues={{ data: policy && !loading, loading, error }}\n      >\n        <StateViewPart stateKey=\"loading\">\n          <Spinner />\n        </StateViewPart>\n        <StateViewPart stateKey=\"data\">\n          <EditPolicyForm\n            {...{\n              policy,\n              updatedPolicy,\n              setUpdatedPolicy,\n              selectedRuleRefIds,\n              setSelectedRuleRefIds,\n              selectedSystems,\n              setSelectedSystems,\n              setRuleValues,\n              ruleValues,\n            }}\n          />\n        </StateViewPart>\n      </StateViewWithError>\n    </ComplianceModal>\n  );\n};\n\nEditPolicy.propTypes = {\n  route: propTypes.object,\n};\n\nexport default EditPolicy;\n","import React, { Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\n\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport Truncate from '@redhat-cloud-services/frontend-components/Truncate';\nimport {\n  UnsupportedSSGVersion,\n  ComplianceScore as PresentationalComplianceScore,\n  LinkWithPermission as Link,\n} from 'PresentationalComponents';\nimport {\n  // profilesRulesFailed,\n  complianceScoreData,\n  NEVER,\n} from 'Utilities/ruleHelpers';\n\nconst SystemLink = ({ id, children }) => (\n  <Link to={{ pathname: `/systems/${id}` }}>{children}</Link>\n);\n\nSystemLink.propTypes = {\n  id: propTypes.string,\n  children: propTypes.node,\n};\n\nexport const Name = ({\n  id,\n  name,\n  osMajorVersion,\n  osMinorVersion,\n  showOsInfo = false,\n  showLink = false,\n}) => {\n  const hasOsInfo = (osMajorVersion, osMinorVersion) =>\n    !!osMajorVersion && !!osMinorVersion && showOsInfo;\n\n  return (\n    <TextContent>\n      {showLink ? <SystemLink {...{ id }}>{name}</SystemLink> : name}\n\n      {hasOsInfo(osMajorVersion, osMinorVersion) && (\n        <Text component={TextVariants.small}>\n          RHEL {osMajorVersion}.{osMinorVersion}\n        </Text>\n      )}\n    </TextContent>\n  );\n};\n\nName.propTypes = {\n  id: propTypes.string,\n  name: propTypes.string,\n  osMajorVersion: propTypes.string,\n  osMinorVersion: propTypes.string,\n  showOsInfo: propTypes.bool,\n  showLink: propTypes.bool,\n};\n\nexport const profilesSsgVersions = (profiles) =>\n  profiles\n    .map((p) => p.ssgVersion)\n    .filter((version) => !!version)\n    .join(', ');\n\nexport const SSGVersion = ({ ssgVersion = 'Not available', supported }) =>\n  supported ? (\n    ssgVersion\n  ) : (\n    <UnsupportedSSGVersion messageVariant=\"singular\">\n      {ssgVersion}\n    </UnsupportedSSGVersion>\n  );\n\nSSGVersion.propTypes = {\n  supported: propTypes.bool,\n  ssgVersion: propTypes.string,\n};\n\nexport const SSGVersions = ({ testResultProfiles = [] }) =>\n  testResultProfiles.length !== 0\n    ? testResultProfiles.map((profile) => (\n        <SSGVersion\n          key={`ssgversion-${profile.id}`}\n          ssgVersion={profile?.benchmark?.version}\n          supported={profile?.supported}\n        />\n      ))\n    : 'Unknown';\n\nSSGVersions.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nexport const Policies = ({ policies }) =>\n  (policies || []).length > 0 && (\n    <Truncate\n      inline\n      text={policies.map((p) => p.name).join(', ')}\n      length={215}\n    />\n  );\n\nPolicies.propTypes = {\n  policies: propTypes.array,\n};\n\nexport const FailedRules = ({ id, testResultProfiles }) => {\n  const rulesFailed = testResultProfiles.reduce(\n    (acc, { rulesFailed }) => acc + parseInt(rulesFailed || 0),\n    0\n  );\n\n  return (\n    <SystemLink {...{ id }}>{rulesFailed > 0 ? rulesFailed : 'N/A'}</SystemLink>\n  );\n};\n\nFailedRules.propTypes = {\n  id: propTypes.string,\n  testResultProfiles: propTypes.array,\n};\n\nexport { complianceScoreData };\nexport const ComplianceScore = ({ testResultProfiles }) => {\n  const { score, supported, compliant } = testResultProfiles[0] || {};\n  return testResultProfiles.length > 0 ? (\n    <PresentationalComplianceScore {...{ score, supported, compliant }} />\n  ) : (\n    'N/A'\n  );\n};\n\nComplianceScore.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nconst NeverScanned = () => (\n  <Tooltip\n    position=\"right\"\n    content={\n      <Fragment>\n        This system has never returned a report for this policy. This may be\n        because it is disconnected, or the insights-client on this system is not\n        configured to use Compliance.\n      </Fragment>\n    }\n  >\n    <div>\n      <ExclamationTriangleIcon color=\"var(--pf-global--warning-color--100)\" />\n      {' ' + NEVER}\n    </div>\n  </Tooltip>\n);\n\nexport const lastScanned = (profiles) => {\n  const dates = profiles.map((profile) => new Date(profile.lastScanned));\n  const last = new Date(\n    Math.max.apply(\n      null,\n      dates.filter((date) => isFinite(date))\n    )\n  );\n  const result =\n    last instanceof Date && isFinite(last) ? last : <NeverScanned />;\n\n  return result;\n};\n\nexport const LastScanned = ({ testResultProfiles: profiles }) => {\n  const lastScannedDate = lastScanned(profiles || []);\n\n  return lastScannedDate instanceof Date ? (\n    <DateFormat date={Date.parse(lastScannedDate)} type=\"relative\" />\n  ) : (\n    lastScannedDate\n  );\n};\n\nLastScanned.propTypes = {\n  testResultProfiles: propTypes.array,\n};\n\nexport const operatingSystemString = ({ osMinorVersion, osMajorVersion }) =>\n  `RHEL ${osMajorVersion}.${osMinorVersion}`;\n\nexport const OperatingSystem = (system) => operatingSystemString(system);\n","import React from 'react';\nimport { nowrap } from '@patternfly/react-table';\nimport { Tooltip } from '@patternfly/react-core';\nimport { complianceScoreString } from 'PresentationalComponents';\nimport { renderComponent } from 'Utilities/helpers';\n\nimport {\n  Name as NameCell,\n  ComplianceScore as ComplianceScoreCell,\n  FailedRules as FailedRulesCell,\n  LastScanned as LastScannedCell,\n  Policies as PoliciesCell,\n  SSGVersions as SsgVersionCell,\n  complianceScoreData,\n  lastScanned,\n  operatingSystemString,\n  OperatingSystem as OperatingSystemCell,\n} from './Cells';\n\nconst disableSorting = { isStatic: true };\n\nexport const compileColumnRenderFunc = ({ cell, ...column }) => ({\n  ...column,\n  renderFunc: renderComponent(cell, column.props),\n});\n\nexport const customColumn = (column, props) =>\n  compileColumnRenderFunc({\n    ...column,\n    props: {\n      ...column.props,\n      ...props,\n    },\n  });\n\nexport const Name = compileColumnRenderFunc({\n  key: 'name',\n  title: 'Name',\n  sortBy: ['name'],\n  props: {\n    width: 40,\n  },\n  renderExport: (system) => `${system.name} (${operatingSystemString(system)})`,\n  cell: NameCell,\n});\n\nexport const customName = (props) => ({\n  ...Name,\n  props: {\n    ...Name.props,\n    ...props,\n  },\n  renderFunc: renderComponent(NameCell, props),\n});\n\nexport const SsgVersion = {\n  title: 'SSG version',\n  transforms: [nowrap],\n  exportKey: 'testResultProfiles',\n  sortBy: ['ssg_version'],\n  key: 'ssg_version',\n  renderExport: (testResultProfiles) =>\n    testResultProfiles\n      .map(\n        ({ supported, benchmark: { version } }) =>\n          `${!supported ? '!' : ''}${version}`\n      )\n      .join(', '),\n  renderFunc: renderComponent(SsgVersionCell),\n};\n\nexport const Policies = {\n  title: 'Policies',\n  transforms: [nowrap],\n  key: 'policies',\n  exportKey: 'policies',\n  renderExport: (policies) => policies.map(({ name }) => name).join(', '),\n  props: {\n    width: 40,\n    ...disableSorting,\n  },\n  renderFunc: renderComponent(PoliciesCell),\n};\n\nexport const FailedRules = {\n  title: 'Failed rules',\n  key: 'failedRules',\n  exportKey: 'profiles',\n  transforms: [nowrap],\n  sortBy: ['rulesFailed'],\n  props: {\n    width: 5,\n  },\n  renderExport: (profiles) =>\n    profiles.reduce(\n      (failedRules, { rulesFailed }) => failedRules + rulesFailed,\n      0\n    ),\n  renderFunc: renderComponent(FailedRulesCell),\n};\n\nexport const ComplianceScore = {\n  title: 'Compliance score',\n  key: 'complianceScore',\n  exportKey: 'testResultProfiles',\n  sortBy: ['score'],\n  transforms: [nowrap],\n  props: {\n    width: 5,\n  },\n  renderExport: (testResultProfiles) =>\n    complianceScoreString(complianceScoreData(testResultProfiles)).trim(),\n  renderFunc: renderComponent(ComplianceScoreCell),\n};\n\nexport const LastScanned = {\n  title: 'Last scanned',\n  key: 'lastScanned',\n  transforms: [nowrap],\n  exportKey: 'testResultProfiles',\n  props: {\n    width: 10,\n    ...disableSorting,\n  },\n  renderExport: (testResultProfiles) => lastScanned(testResultProfiles),\n  renderFunc: renderComponent(LastScannedCell),\n};\n\nexport const OperatingSystem = compileColumnRenderFunc({\n  title: 'Operating system',\n  key: 'operatingSystem',\n  sortBy: ['osMajorVersion', 'osMinorVersion'],\n  transforms: [nowrap],\n  renderExport: (cell) => operatingSystemString(cell),\n  cell: OperatingSystemCell,\n});\n\nexport const OS = compileColumnRenderFunc({\n  title: (\n    <Tooltip content={<span>Operating System</span>}>\n      <span>OS</span>\n    </Tooltip>\n  ),\n  original: 'Operating System',\n  key: 'operatingSystem',\n  dataLabel: 'OS',\n  transforms: [nowrap],\n  sortBy: ['osMajorVersion', 'osMinorVersion'],\n  props: {\n    width: 10,\n  },\n  renderExport: (cell) => operatingSystemString(cell),\n  cell: OperatingSystemCell,\n});\n\nexport const inventoryColumn = (column, props) => ({\n  key: column,\n  ...props,\n});\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport Skeleton, {\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\nimport { init } from 'Store';\n\nimport {\n  DetailWrapper,\n  InventoryDetailHead,\n} from '@redhat-cloud-services/frontend-components/Inventory';\n\nconst InventoryDetails = ({ inventoryId }) => {\n  return (\n    <DetailWrapper\n      onLoad={({ mergeWithDetail }) =>\n        init().register({\n          ...mergeWithDetail(),\n        })\n      }\n      inventoryId={inventoryId}\n    >\n      <InventoryDetailHead fallback={<Skeleton size={SkeletonSize.md} />} />\n    </DetailWrapper>\n  );\n};\n\nInventoryDetails.propTypes = {\n  inventoryId: propTypes.string,\n};\n\nexport default InventoryDetails;\n","import { gql } from 'graphql-tag';\n\nexport const DEFAULT_SYSTEMS_PER_BATCH = 3;\nexport const DEFAULT_CONNCURRENT_REQUESTS_FOR_ISSUES = 3;\n\nexport const GET_SYSTEMS_ISSUES = gql`\n  query CRB_Systems(\n    $filter: String!\n    $policyId: ID\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          testResultProfiles(policyId: $policyId) {\n            id\n            refId\n            score\n            lastScanned\n            compliant\n            rulesFailed\n            rulesPassed\n            supported\n            osMajorVersion\n            rules {\n              id\n              refId\n              precedence\n              compliant\n              remediationAvailable\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\nimport { default as RemediationRemediationButton } from '@redhat-cloud-services/frontend-components-remediations/RemediationButton';\nimport { useIssuesFetch } from './hooks';\nimport FallbackButton from './components/FallBackButton';\n\nconst RemediationButton = ({\n  rules,\n  systems,\n  policyId,\n  onRemediationCreated,\n  ...buttonProps\n}) => {\n  const { isLoading: isLoadingIssues, fetch } = useIssuesFetch(\n    policyId,\n    rules,\n    systems\n  );\n\n  return (\n    <RemediationRemediationButton\n      isDisabled={systems?.length === 0 || isLoadingIssues}\n      onRemediationCreated={(result) => {\n        dispatchNotification(result.getNotification());\n      }}\n      dataProvider={fetch}\n      buttonProps={{\n        ouiaId: 'RemediateButton',\n        isLoading: isLoadingIssues,\n      }}\n      fallback={<FallbackButton />}\n      {...buttonProps}\n    >\n      Remediate\n    </RemediationRemediationButton>\n  );\n};\n\nRemediationButton.propTypes = {\n  rules: propTypes.array,\n  systems: propTypes.array,\n  onRemediationCreated: propTypes.func,\n  policyId: propTypes.string,\n};\n\nexport default RemediationButton;\n","import { useCallback } from 'react';\nimport { useApolloClient } from '@apollo/client';\nimport usePromiseQueue from 'Utilities/hooks/usePromiseQueue';\nimport {\n  GET_SYSTEMS_ISSUES,\n  DEFAULT_SYSTEMS_PER_BATCH,\n  DEFAULT_CONNCURRENT_REQUESTS_FOR_ISSUES,\n} from './constants';\nimport { remediationData } from './helpers';\n\nexport const useIssuesFetch = (policyId, rules, systems) => {\n  const client = useApolloClient();\n  const { isResolving, results, resolve } = usePromiseQueue(\n    DEFAULT_CONNCURRENT_REQUESTS_FOR_ISSUES\n  );\n\n  const fetchFunction = useCallback(\n    async (perPage, page) => {\n      const systemIds =\n        systems.length > 0 ? `id ^ (${systems.join(',')})` : undefined;\n\n      return (\n        await client.query({\n          query: GET_SYSTEMS_ISSUES,\n          fetchPolicy: 'no-cache',\n          variables: {\n            perPage,\n            page,\n            filter: `(${systemIds}) AND policy_id = ${policyId}`,\n            policyId,\n          },\n        })\n      ).data.systems;\n    },\n    [systems, policyId]\n  );\n\n  const fetch = useCallback(\n    async (batchSize = DEFAULT_SYSTEMS_PER_BATCH) => {\n      const pages = Math.ceil(systems?.length / batchSize) || 1;\n      const results = await resolve(\n        [...new Array(pages)].map(\n          (_, pageIdx) => () => fetchFunction(batchSize, pageIdx + 1)\n        )\n      );\n\n      return results && remediationData(results);\n    },\n    [systems]\n  );\n\n  return {\n    isLoading: isResolving,\n    data: results && remediationData(results),\n    fetch,\n  };\n};\n","import gql from 'graphql-tag';\nimport pickBy from 'lodash/pickBy';\nimport {\n  systemsPolicyFilterConfiguration,\n  systemsOsFilterConfiguration,\n  systemsOsMinorFilterConfiguration,\n} from '@/constants';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport { conditionalFilterType } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { entitiesReducer } from 'Store/Reducers/SystemStore';\n\nexport const GET_MINIMAL_SYSTEMS = gql`\n  query ST_Systems(\n    $filter: String!\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          culledTimestamp\n          staleWarningTimestamp\n          staleTimestamp\n          insightsId\n          lastScanned\n          updated\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_SYSTEMS_OSES = gql`\n  query ST_SystemOS($filter: String!) {\n    systems(search: $filter) {\n      osVersions\n    }\n  }\n`;\n\nexport const policyFilter = (policies, osFilter) => [\n  ...systemsPolicyFilterConfiguration(policies),\n  ...(osFilter ? systemsOsFilterConfiguration(policies) : []),\n];\n\nexport const osMinorVersionFilter = (...args) =>\n  systemsOsMinorFilterConfiguration(...args);\n\nexport const initFilterState = (filterConfig) =>\n  pickBy(filterConfig.initialDefaultState(), (value) => !!value);\n\nexport const defaultOnLoad =\n  (columns) =>\n  ({ INVENTORY_ACTION_TYPES, mergeWithEntities }) =>\n    getRegistry().register({\n      ...mergeWithEntities(entitiesReducer(INVENTORY_ACTION_TYPES, columns)),\n    });\n\nexport const ssgVersionFilter = (ssgVersions) => [\n  {\n    type: conditionalFilterType.checkbox,\n    label: 'SSG Version',\n    filterString: (value) => `ssg_version = ${value}`,\n    items: ssgVersions.map((ssgVersion) => ({\n      label: ssgVersion,\n      value: ssgVersion,\n    })),\n  },\n];\n","import * as ActionTypes from '../Types';\n\nexport const setDisabledSelection = (isDisabled) => {\n  return {\n    type: ActionTypes.SET_DISABLED_SYSTEM_SELECTION,\n    payload: isDisabled,\n  };\n};\n","import { useApolloClient } from '@apollo/client';\nimport { systemsWithRuleObjectsFailed } from 'Utilities/ruleHelpers';\n\nconst renameInventoryAttributes = ({\n  culledTimestamp,\n  staleWarningTimestamp,\n  staleTimestamp,\n  insightsId,\n  ...system\n}) => ({\n  ...system,\n  insights_id: insightsId,\n  culled_timestamp: culledTimestamp,\n  stale_warning_timestamp: staleWarningTimestamp,\n  stale_timestamp: staleTimestamp,\n});\n\nconst combineVariables = (standardVariables, allRequestVariables) => {\n  const { exclusiveFilter, ...requestVariables } = allRequestVariables || {};\n\n  if (exclusiveFilter) {\n    return {\n      ...standardVariables,\n      ...requestVariables,\n      filter: exclusiveFilter,\n    };\n  }\n\n  if (!!requestVariables && typeof requestVariables?.filter === 'string') {\n    const combinedFilter = [\n      ...standardVariables.filter.split(' and '),\n      ...requestVariables.filter.split(' and '),\n    ].join(' and ');\n\n    return {\n      ...standardVariables,\n      ...requestVariables,\n      filter: combinedFilter,\n    };\n  }\n\n  if (standardVariables || requestVariables) {\n    return {\n      ...standardVariables,\n      ...requestVariables,\n    };\n  }\n};\n\nexport const useFetchSystems = ({ query, onComplete, variables, onError }) => {\n  const client = useApolloClient();\n\n  return (perPage, page, requestVariables) => {\n    const combinedVariables = combineVariables(variables, requestVariables);\n\n    return client\n      .query({\n        query,\n        fetchResults: true,\n        fetchPolicy: 'no-cache',\n        variables: {\n          perPage,\n          page,\n          ...(combinedVariables ? combinedVariables : {}),\n        },\n      })\n      .then(({ data }) => {\n        const systems = data?.systems?.edges?.map((e) => e.node) || [];\n        const entities = systemsWithRuleObjectsFailed(systems).map(\n          renameInventoryAttributes\n        );\n        const result = {\n          entities,\n          meta: {\n            ...(requestVariables?.tags && { tags: requestVariables.tags }),\n            totalCount: data?.systems?.totalCount || 0,\n          },\n        };\n\n        onComplete && onComplete(result);\n        return result;\n      })\n      .catch((error) => {\n        if (onError) {\n          onError(error);\n          return { entities: [], meta: { totalCount: 0 } };\n        } else {\n          throw error;\n        }\n      });\n  };\n};\n\nexport default useFetchSystems;\n","import React, { useEffect, useLayoutEffect, useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { useDispatch } from 'react-redux';\nimport { Spinner } from '@patternfly/react-core';\nimport debounce from '@redhat-cloud-services/frontend-components-utilities/debounce';\nimport { osMinorVersionFilter, GET_SYSTEMS_OSES } from './constants';\nimport useExport from 'Utilities/hooks/useTableTools/useExport';\nimport { useBulkSelect } from 'Utilities/hooks/useTableTools/useBulkSelect';\nimport { dispatchNotification } from 'Utilities/Dispatcher';\nimport usePromiseQueue from 'Utilities/hooks/usePromiseQueue';\nimport { setDisabledSelection } from '../../store/Actions/SystemActions';\nimport useFetchSystems from './hooks/useFetchSystems';\n\nconst groupByMajorVersion = (versions = [], showFilter = []) => {\n  const showVersion = (version) => {\n    if (showFilter.length > 0) {\n      return showFilter.map(String).includes(String(version));\n    } else {\n      return true;\n    }\n  };\n\n  return versions.reduce((acc, currentValue) => {\n    if (showVersion(currentValue.major)) {\n      acc[String(currentValue.major)] = [\n        ...new Set([...(acc[currentValue.major] || []), currentValue.minor]),\n      ];\n    }\n\n    return acc;\n  }, []);\n};\n\nexport const useOsMinorVersionFilter = (showFilter, fetchArguments = {}) => {\n  let { data } = useQuery(GET_SYSTEMS_OSES, {\n    skip: !showFilter,\n    ...fetchArguments,\n  });\n  const { osVersions } = data?.systems || {};\n\n  return showFilter\n    ? osMinorVersionFilter(groupByMajorVersion(osVersions, showFilter))\n    : [];\n};\n\nexport const useSystemsFilter = (\n  filterString,\n  showOnlySystemsWithTestResults,\n  defaultFilter\n) => {\n  const combindedFilter = [\n    ...(showOnlySystemsWithTestResults ? ['has_test_results = true'] : []),\n    ...(filterString?.length > 0 ? [filterString] : []),\n  ].join(' and ');\n  const filter = defaultFilter\n    ? `(${defaultFilter})` +\n      (combindedFilter ? ` and (${combindedFilter})` : '')\n    : combindedFilter;\n\n  return filter;\n};\n\nconst useFetchBatched = () => {\n  const { isResolving: isLoading, resolve } = usePromiseQueue();\n\n  return {\n    isLoading,\n    fetchBatched: (fetchFunction, total, filter, batchSize = 50) => {\n      const pages = Math.ceil(total / batchSize) || 1;\n\n      const results = resolve(\n        [...new Array(pages)].map(\n          (_, pageIdx) => () => fetchFunction(batchSize, pageIdx + 1, filter)\n        )\n      );\n\n      return results;\n    },\n  };\n};\n\nconst buildApiFilters = (filters = {}) => {\n  const { tagFilters, hostGroupFilter, ...otherFilters } = filters;\n  const tagsApiFilter = tagFilters\n    ? {\n        tags: tagFilters.flatMap((tagFilter) =>\n          tagFilter.values.map(\n            (tag) =>\n              `${encodeURIComponent(tagFilter.key)}/${encodeURIComponent(\n                tag.tagKey\n              )}=${encodeURIComponent(tag.value)}`\n          )\n        ),\n      }\n    : {};\n\n  /**\n   * TODO: build a separate layer/hook that integrates inventory filters with gq filter\n   */\n\n  // filtering by group_name is enabled in gq filter\n  if (hostGroupFilter !== undefined && Array.isArray(hostGroupFilter)) {\n    otherFilters.filter = `(${hostGroupFilter\n      .map((value) => `group_name = \"${value}\"`)\n      .join(' or ')})`;\n  }\n\n  return {\n    ...otherFilters,\n    ...tagsApiFilter,\n  };\n};\n\nexport const useGetEntities = (fetchEntities, { selected, columns } = {}) => {\n  const appendDirection = (attributes, direction) =>\n    attributes.map((attribute) => `${attribute}:${direction}`);\n\n  const findColumnByKey = (sortKey) =>\n    (columns || []).find(\n      (column) =>\n        column.key === sortKey || // group column has a sort key different to its main key\n        (column.key === 'groups' && sortKey === 'group_name')\n    );\n\n  return async (\n    _ids,\n    { page = 1, per_page: perPage, orderBy, orderDirection, filters }\n  ) => {\n    const sortableColumn = findColumnByKey(orderBy);\n    const sortBy =\n      sortableColumn && sortableColumn.sortBy\n        ? appendDirection(sortableColumn.sortBy, orderDirection)\n        : undefined;\n    const filterForApi = buildApiFilters(filters);\n\n    const fetchedEntities = await fetchEntities(perPage, page, {\n      ...filterForApi,\n      sortBy,\n    });\n    const {\n      entities,\n      meta: { totalCount },\n    } = fetchedEntities || {};\n\n    return {\n      results: entities.map((entity) => ({\n        ...entity,\n        selected: (selected || []).map((id) => id).includes(entity.id),\n      })),\n      orderBy,\n      orderDirection,\n      total: totalCount,\n    };\n  };\n};\n\n// This hook is primarily meant to work around issues in the inventory\nexport const useInventoryUtilities = (\n  inventory,\n  selectedSystems,\n  activeFilters\n) => {\n  const dispatch = useDispatch();\n\n  // Resets the Inventory to a loading state\n  // and prevents previously shown columns and rows to appear\n  useLayoutEffect(() => {\n    dispatch({\n      type: 'INVENTORY_INIT',\n    });\n  }, []);\n\n  // Ensures rows are marked as selected\n  useEffect(() => {\n    dispatch({\n      type: 'SELECT_ENTITIES',\n      payload: {\n        selected: selectedSystems,\n      },\n    });\n  }, [selectedSystems]);\n\n  // Filters do not yet trigger the inventory to call getEntities\n  // and the page would not reset to page 1\n  const resetPage = () => {\n    Promise.resolve(\n      dispatch({\n        type: 'RESET_PAGE',\n      })\n    ).then(() => inventory?.current?.onRefreshData());\n  };\n\n  // The debounce is to not have filter updates collide or get out of order.\n  const debounceResetPage = debounce(resetPage, 50);\n\n  useEffect(() => {\n    debounceResetPage();\n  }, [activeFilters]);\n};\n\nconst toIdFilter = (ids) =>\n  ids?.length > 0 ? `id ^ (${ids.join(',')})` : undefined;\n\nexport const useSystemsExport = ({\n  columns,\n  selected,\n  total,\n  fetchArguments,\n}) => {\n  const { isLoading, fetchBatched } = useFetchBatched();\n  const selectionFilter = selected ? toIdFilter(selected) : undefined;\n  const fetchSystems = useFetchSystems({\n    query: fetchArguments.query,\n    variables: {\n      ...fetchArguments.variables,\n      ...(fetchArguments.tags && { tags: fetchArguments.tags }),\n      filter: selectionFilter\n        ? `${fetchArguments.variables.filter} and (${selectionFilter})`\n        : fetchArguments.variables.filter,\n    },\n    onError: () => {\n      dispatchNotification({\n        variant: 'danger',\n        title: 'Couldnt download export',\n        description: 'Reinitiate this export to try again.',\n      });\n    },\n  });\n\n  const selectedFilter = () =>\n    selected?.length > 0 ? toIdFilter(selected) : undefined;\n\n  const exporter = async () => {\n    const fetchedItems = await fetchBatched(\n      fetchSystems,\n      total,\n      selectedFilter()\n    );\n\n    return fetchedItems.flatMap((result) => result.entities);\n  };\n\n  const {\n    toolbarProps: { exportConfig },\n  } = useExport({\n    exporter,\n    columns,\n    isDisabled: total === 0 || isLoading,\n    onStart: () => {\n      dispatchNotification({\n        variant: 'info',\n        title: 'Preparing export',\n        description: 'Once complete, your download will start automatically.',\n      });\n    },\n    onComplete: () => {\n      dispatchNotification({\n        variant: 'success',\n        title: 'Downloading export',\n      });\n    },\n  });\n\n  return exportConfig;\n};\n\nexport const useSystemBulkSelect = ({\n  total,\n  onSelect,\n  preselected,\n  fetchArguments,\n  currentPageIds,\n}) => {\n  const dispatch = useDispatch();\n  const { isLoading, fetchBatched } = useFetchBatched();\n  // This is meant as a compatibility layer and to be removed\n  const [selectedSystems, setSelectedSystems] = useState([]);\n  const fetchSystems = useFetchSystems({\n    ...fetchArguments,\n    onError: (error) => {\n      dispatchNotification({\n        variant: 'danger',\n        title: 'Error selecting systems',\n        description: error.message,\n      });\n    },\n  });\n\n  const fetchFunc = async (fetchIds) => {\n    if (fetchIds.length === 0) {\n      return [];\n    }\n\n    const idFilter = toIdFilter(fetchIds);\n    const results = await fetchBatched(fetchSystems, fetchIds.length, {\n      ...(idFilter && { exclusiveFilter: idFilter }),\n    });\n\n    return results.flatMap((result) => result.entities);\n  };\n\n  const onSelectCallback = async (selectedIds) => {\n    dispatch(setDisabledSelection(true));\n\n    const systems = await fetchFunc(selectedIds);\n    setSelectedSystems(systems);\n\n    dispatch(setDisabledSelection(false));\n    onSelect && onSelect(systems);\n  };\n\n  const itemIdsInTable = async () => {\n    const results = await fetchBatched(fetchSystems, total);\n    return results.flatMap((result) => result.entities.map(({ id }) => id));\n  };\n\n  const bulkSelect = useBulkSelect({\n    total,\n    onSelect: onSelectCallback,\n    preselected,\n    itemIdsInTable,\n    itemIdsOnPage: () => currentPageIds,\n  });\n\n  return {\n    selectedSystems,\n    ...bulkSelect,\n    toolbarProps: {\n      ...bulkSelect.toolbarProps,\n      bulkSelect: {\n        ...bulkSelect.toolbarProps.bulkSelect,\n        ...(isLoading\n          ? {\n              isDisabled: true,\n              toggleProps: {\n                children: [<Spinner size=\"md\" key=\"spinner\" />],\n              },\n            }\n          : {}),\n      },\n    },\n  };\n};\n","import React, { useMemo, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Spinner } from '@patternfly/react-core';\nimport { TableVariant } from '@patternfly/react-table';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/Inventory';\nimport useNavigate from '@redhat-cloud-services/frontend-components-utilities/useInsightsNavigate';\n\nimport RemediationButton from '@/PresentationalComponents/ComplianceRemediationButton/RemediationButton';\nimport {\n  DEFAULT_SYSTEMS_FILTER_CONFIGURATION,\n  COMPLIANT_SYSTEMS_FILTER_CONFIGURATION,\n} from '@/constants';\nimport { ErrorPage, StateView, StateViewPart } from 'PresentationalComponents';\nimport useFilterConfig from 'Utilities/hooks/useTableTools/useFilterConfig';\nimport { policyFilter, defaultOnLoad, ssgVersionFilter } from './constants';\nimport {\n  useGetEntities,\n  useOsMinorVersionFilter,\n  useInventoryUtilities,\n  useSystemsExport,\n  useSystemsFilter,\n  useSystemBulkSelect,\n} from './hooks';\nimport useFetchSystems from './hooks/useFetchSystems';\nimport { constructQuery } from '../../Utilities/helpers';\nimport { COMPLIANCE_REPORT_TABLE_ADDITIONAL_FILTER } from '../../constants';\n\nexport const SystemsTable = ({\n  columns,\n  showAllSystems,\n  policyId,\n  showActions,\n  enableExport,\n  compliantFilter,\n  policies,\n  showOnlySystemsWithTestResults,\n  showOsFilter,\n  error,\n  showComplianceSystemsInfo,\n  compact,\n  remediationsEnabled,\n  systemProps,\n  defaultFilter,\n  emptyStateComponent,\n  prependComponent,\n  showOsMinorVersionFilter,\n  preselectedSystems,\n  onSelect: onSelectProp,\n  noSystemsTable,\n  tableProps,\n  ssgVersions,\n  dedicatedAction,\n  ruleSeverityFilter,\n  showGroupsFilter,\n}) => {\n  const inventory = useRef(null);\n  const [isEmpty, setIsEmpty] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [perPage, setPerPage] = useState(50);\n  const [currentTags, setCurrentTags] = useState([]);\n  const navigateToInventory = useNavigate('inventory');\n  const osMinorVersionFilter = useOsMinorVersionFilter(\n    showOsMinorVersionFilter,\n    {\n      variables: {\n        filter: defaultFilter,\n        ...(policyId && { policyId }),\n      },\n    }\n  );\n\n  const {\n    toolbarProps: conditionalFilter,\n    filterString,\n    activeFilterValues,\n  } = useFilterConfig({\n    filters: {\n      filterConfig: [\n        ...DEFAULT_SYSTEMS_FILTER_CONFIGURATION,\n        ...(compliantFilter ? COMPLIANT_SYSTEMS_FILTER_CONFIGURATION : []),\n        ...(policies?.length > 0 ? policyFilter(policies, showOsFilter) : []),\n        ...(ssgVersions ? ssgVersionFilter(ssgVersions) : []),\n        ...osMinorVersionFilter,\n        ...(ruleSeverityFilter\n          ? COMPLIANCE_REPORT_TABLE_ADDITIONAL_FILTER\n          : []),\n      ],\n    },\n  });\n  const systemsFilter = useSystemsFilter(\n    filterString(),\n    showOnlySystemsWithTestResults,\n    defaultFilter\n  );\n\n  const constructedQuery = useMemo(() => constructQuery(columns), [columns]);\n\n  const systemFetchArguments = useMemo(\n    () => ({\n      query: constructedQuery.query,\n      variables: {\n        ...constructedQuery.fragments,\n        tags: currentTags,\n        filter: systemsFilter,\n        ...(policyId && { policyId }),\n      },\n    }),\n    [constructedQuery, currentTags, systemsFilter, policyId]\n  );\n\n  const preselection = useMemo(\n    () => preselectedSystems.map(({ id }) => id),\n    [preselectedSystems]\n  );\n\n  const {\n    selectedIds,\n    tableProps: bulkSelectTableProps,\n    toolbarProps: bulkSelectToolBarProps,\n  } = useSystemBulkSelect({\n    total,\n    perPage,\n    onSelect: onSelectProp,\n    preselected: preselection,\n    fetchArguments: systemFetchArguments,\n    currentPageIds: items.map(({ id }) => id),\n  });\n\n  useInventoryUtilities(inventory, selectedIds, activeFilterValues);\n\n  const onComplete = (result) => {\n    setTotal(result.meta.totalCount);\n    setItems(result.entities);\n    setPerPage(result.perPage);\n    setIsLoaded(true);\n    setCurrentTags && setCurrentTags(result.meta.tags);\n\n    if (\n      emptyStateComponent &&\n      result.meta.totalCount === 0 &&\n      activeFilterValues.length === 0 &&\n      (typeof result?.meta?.tags === 'undefined' ||\n        result?.meta?.tags?.length === 0)\n    ) {\n      setIsEmpty(true);\n    }\n  };\n\n  const fetchSystems = useFetchSystems({\n    ...systemFetchArguments,\n    onComplete,\n  });\n  const getEntities = useGetEntities(fetchSystems, {\n    selected: selectedIds,\n    columns,\n  });\n  const exportConfig = useSystemsExport({\n    columns,\n    filter: systemsFilter,\n    selected: selectedIds,\n    total,\n    fetchArguments: {\n      ...systemFetchArguments,\n    },\n  });\n\n  const mergedColumns = (defaultColumns) =>\n    columns.reduce((prev, column) => {\n      const isStringCol = typeof column === 'string';\n      const key = isStringCol ? column : column.key;\n      const defaultColumn = defaultColumns.find(\n        (defaultCol) => defaultCol.key === key\n      );\n\n      if (defaultColumn === undefined && column?.requiresDefault === true) {\n        return prev; // exclude if not found in inventory\n      } else {\n        return [\n          ...prev,\n          {\n            ...defaultColumn,\n            ...(isStringCol ? { key: column } : column),\n            props: {\n              ...defaultColumn?.props,\n              ...column?.props,\n            },\n          },\n        ];\n      }\n    }, []);\n\n  return (\n    <StateView\n      stateValues={{\n        error,\n        noError: error === undefined && !isEmpty,\n        empty: isEmpty,\n      }}\n    >\n      <StateViewPart stateKey=\"error\">\n        {!!prependComponent && prependComponent}\n        <ErrorPage error={error} />\n      </StateViewPart>\n      <StateViewPart stateKey=\"empty\">{emptyStateComponent}</StateViewPart>\n      <StateViewPart stateKey=\"noError\">\n        {!!prependComponent && isLoaded && prependComponent}\n        {showComplianceSystemsInfo && (\n          <Alert\n            isInline\n            variant=\"info\"\n            ouiaId=\"SystemsListIsDifferentAlert\"\n            title={\n              'The list of systems in this view is different than those that appear in the Inventory. ' +\n              'Only systems currently associated with or reporting against compliance policies are displayed.'\n            }\n          />\n        )}\n        <InventoryTable\n          {...systemProps}\n          disableDefaultColumns\n          columns={mergedColumns}\n          noSystemsTable={noSystemsTable}\n          ref={inventory}\n          getEntities={getEntities}\n          hideFilters={{\n            all: true,\n            tags: false,\n            hostGroupFilter: !showGroupsFilter,\n          }}\n          showTags\n          onLoad={defaultOnLoad(columns)}\n          tableProps={{\n            ...bulkSelectTableProps,\n            isStickyHeader: true,\n            ...tableProps,\n          }}\n          fallback={<Spinner />}\n          variant={compact ? TableVariant.compact : ''}\n          {...bulkSelectToolBarProps}\n          {...(!showAllSystems && {\n            ...conditionalFilter,\n            ...(remediationsEnabled && {\n              dedicatedAction: (\n                <RemediationButton policyId={policyId} systems={selectedIds} />\n              ),\n            }),\n          })}\n          {...(dedicatedAction ? { dedicatedAction: dedicatedAction } : {})}\n          {...(enableExport && { exportConfig })}\n          {...(showActions && {\n            actions: [\n              {\n                title: 'View in inventory',\n                onClick: (_event, _index, { id }) =>\n                  navigateToInventory('/' + id),\n              },\n            ],\n          })}\n        />\n      </StateViewPart>\n    </StateView>\n  );\n};\n\nSystemsTable.propTypes = {\n  columns: PropTypes.arrayOf(\n    PropTypes.oneOfType([PropTypes.shape({}), PropTypes.string])\n  ),\n  policies: PropTypes.arrayOf(PropTypes.shape({})),\n  showAllSystems: PropTypes.bool,\n  policyId: PropTypes.string,\n  query: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  showActions: PropTypes.bool,\n  enableExport: PropTypes.bool,\n  compliantFilter: PropTypes.bool,\n  showOnlySystemsWithTestResults: PropTypes.bool,\n  showOsFilter: PropTypes.bool,\n  showGroupsFilter: PropTypes.bool,\n  showComplianceSystemsInfo: PropTypes.bool,\n  error: PropTypes.object,\n  compact: PropTypes.bool,\n  remediationsEnabled: PropTypes.bool,\n  defaultFilter: PropTypes.string,\n  systemProps: PropTypes.shape({\n    isFullView: PropTypes.bool,\n  }),\n  emptyStateComponent: PropTypes.node,\n  prependComponent: PropTypes.node,\n  showOsMinorVersionFilter: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  preselectedSystems: PropTypes.array,\n  onSelect: PropTypes.func,\n  noSystemsTable: PropTypes.node,\n  tableProps: PropTypes.object,\n  ssgVersions: PropTypes.array,\n  dedicatedAction: PropTypes.object,\n  ruleSeverityFilter: PropTypes.bool,\n};\n\nSystemsTable.defaultProps = {\n  policyId: '',\n  showActions: true,\n  enableExport: true,\n  compliantFilter: false,\n  showOnlySystemsWithTestResults: false,\n  showComplianceSystemsInfo: false,\n  compact: false,\n  remediationsEnabled: true,\n  preselectedSystems: [],\n  ruleSeverityFilter: false,\n  showGroupsFilter: false,\n};\n\nexport default SystemsTable;\n","import gql from 'graphql-tag';\n\nexport const POLICY_QUERY_MINIMAL = gql`\n  query PQ_ProfileMinimal($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      external\n      description\n      totalHostCount\n      compliantHostCount\n      complianceThreshold\n      osMajorVersion\n      supportedOsVersions\n      lastScanned\n      policyType\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n`;\n\nexport const POLICY_QUERY = gql`\n  query PQ_Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      external\n      description\n      totalHostCount\n      compliantHostCount\n      complianceThreshold\n      osMajorVersion\n      supportedOsVersions\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n        refId\n        profiles {\n          id\n          name\n          refId\n          osMinorVersion\n          osMajorVersion\n          parentProfileId\n          benchmark {\n            id\n            title\n            latestSupportedOsMinorVersions\n            osMajorVersion\n            version\n            profiles {\n              id\n              refId\n              ssgVersion\n            }\n          }\n          rules {\n            id\n            title\n            severity\n            rationale\n            refId\n            description\n            remediationAvailable\n            references\n            identifier\n            precedence\n            values\n          }\n        }\n      }\n      businessObjective {\n        id\n        title\n      }\n      hosts {\n        id\n        osMinorVersion\n        osMajorVersion\n      }\n    }\n  }\n`;\n\nexport const POLICY_RULE_TREES_QUERY = gql`\n  query PQ_Profile($policyId: String!) {\n    profile(id: $policyId) {\n      policy {\n        profiles {\n          id\n          benchmark {\n            ruleTree\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const POLICY_VALUE_DEFINITONS_QUERY = gql`\n  query PQ_Profile($policyId: String!) {\n    profile(id: $policyId) {\n      policy {\n        profiles {\n          id\n          values\n          benchmark {\n            valueDefinitions {\n              id\n              refId\n              title\n              valueType\n              defaultValue\n              description\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import { useMemo, useCallback } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { logMultipleErrors } from 'Utilities/helpers';\nimport {\n  POLICY_QUERY,\n  POLICY_QUERY_MINIMAL,\n  POLICY_RULE_TREES_QUERY,\n  POLICY_VALUE_DEFINITONS_QUERY,\n} from './constants';\nimport { compileData } from './helpers';\n\nconst usePolicyQuery = ({ policyId, skip: skipCondition, minimal }) => {\n  const skip = policyId === 'new' || skipCondition;\n\n  const {\n    data: policyData,\n    error: policyError,\n    loading: policyLoading,\n    refetch: refecthPolicy,\n  } = useQuery(minimal ? POLICY_QUERY_MINIMAL : POLICY_QUERY, {\n    variables: { policyId },\n    skip,\n    fetchPolicy: 'no-cache',\n  });\n\n  const {\n    data: ruleTreesData,\n    error: ruleTreesError,\n    loading: ruleTreesLoading,\n    refetch: refecthRuleTrees,\n  } = useQuery(POLICY_RULE_TREES_QUERY, {\n    variables: { policyId },\n    skip: minimal || skip,\n    fetchPolicy: 'no-cache',\n  });\n\n  const {\n    data: valueDefinitionsData,\n    error: valueDefinitionsError,\n    loading: valueDefinitionsLoading,\n    refetch: refecthValueDefinitions,\n  } = useQuery(POLICY_VALUE_DEFINITONS_QUERY, {\n    variables: { policyId },\n    skip: minimal || skip,\n    fetchPolicy: 'no-cache',\n  });\n\n  const data = useMemo(\n    () => compileData(policyData, ruleTreesData, valueDefinitionsData),\n    [policyData, ruleTreesData, valueDefinitionsData]\n  );\n\n  const error = useMemo(\n    () => logMultipleErrors(policyError, ruleTreesError, valueDefinitionsError),\n    [policyError, ruleTreesError, valueDefinitionsError]\n  );\n\n  const loading = policyLoading || ruleTreesLoading || valueDefinitionsLoading;\n\n  const refetch = useCallback(() => {\n    if (!skip) {\n      refecthPolicy();\n      refecthRuleTrees();\n      refecthValueDefinitions();\n    }\n  }, [refecthPolicy, refecthRuleTrees, refecthValueDefinitions]);\n\n  return policyId === 'new'\n    ? { data: true, refetch: () => {} }\n    : {\n        data,\n        error,\n        loading,\n        refetch,\n      };\n};\n\nexport default usePolicyQuery;\n","export const compileData = (policyData, ruleTreesData, valueDefinitionsData) =>\n  policyData && {\n    profile: {\n      ...policyData.profile,\n      policy: {\n        ...(policyData?.profile?.policy || {}),\n        profiles:\n          policyData?.profile?.policy?.profiles?.map((profile) => {\n            const ruleTree =\n              ruleTreesData?.profile?.policy?.profiles?.find(\n                ({ id }) => id === profile.id\n              )?.benchmark.ruleTree || {};\n\n            const valueDefinitions =\n              valueDefinitionsData?.profile?.policy?.profiles?.find(\n                ({ id }) => id === profile.id\n              )?.benchmark.valueDefinitions || [];\n\n            const values =\n              valueDefinitionsData?.profile?.policy?.profiles?.find(\n                ({ id }) => id === profile.id\n              )?.values;\n\n            return {\n              ...profile,\n              values,\n              benchmark: {\n                ...profile.benchmark,\n                ruleTree,\n                valueDefinitions,\n              },\n            };\n          }) || [],\n      },\n    },\n  };\n","import { useCallback, useState } from 'react';\nimport pAll from 'p-all';\n\nconst DEFAULT_CONCURRENT_PROMISES = 2;\n\nconst usePromiseQueue = (limit = DEFAULT_CONCURRENT_PROMISES) => {\n  const [isResolving, setIsResolving] = useState(false);\n  const [promiseResults, setPromiseResults] = useState();\n\n  const resolve = useCallback(\n    async (fns) => {\n      await setPromiseResults(undefined);\n      await setIsResolving(true);\n      const results = await pAll(fns, {\n        concurrency: limit,\n      });\n\n      await setIsResolving(false);\n      await setPromiseResults(results);\n\n      return results;\n    },\n    [limit]\n  );\n\n  return {\n    isResolving,\n    results: promiseResults,\n    resolve,\n  };\n};\n\nexport default usePromiseQueue;\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { sortingByProp } from 'Utilities/helpers';\nimport * as ActionTypes from '../Types';\n\nconst selectRows = (rows, selected) =>\n  rows.map((row) => ({\n    ...row,\n    selected: selected.includes(row.id),\n  }));\n\nexport const entitiesReducer = () =>\n  applyReducerHash({\n    ['INVENTORY_INIT']: () => ({\n      rows: [],\n      total: 0,\n    }),\n    ['RESET_PAGE']: (state) => ({\n      ...state,\n      page: 1,\n    }),\n    ['SELECT_ENTITIES']: (state, { payload: { selected } }) => ({\n      ...state,\n      rows: selectRows(state.rows, selected),\n    }),\n    [ActionTypes.SET_DISABLED_SYSTEM_SELECTION]: (state, action) => {\n      return {\n        ...state,\n        rows: state.rows.map((row) => {\n          return {\n            ...row,\n            disableSelection: action.payload,\n          };\n        }),\n      };\n    },\n  });\n\nexport const mapCountOsMinorVersions = (systems) => {\n  if (!systems) {\n    return {};\n  }\n\n  return systems.reduce((acc, { osMinorVersion }) => {\n    if (osMinorVersion !== undefined && osMinorVersion !== null) {\n      (acc[osMinorVersion] = acc[osMinorVersion] || {\n        osMinorVersion,\n        count: 0,\n      }).count++;\n    }\n\n    return acc;\n  }, {});\n};\n\nexport const countOsMinorVersions = (systems) =>\n  Object.values(mapCountOsMinorVersions(systems)).sort(\n    sortingByProp('osMinorVersion', 'desc')\n  );\n","export const SET_DISABLED_SYSTEM_SELECTION = 'SET_DISABLED_SYSTEM_SELECTION';\n"],"names":["QUERY","gql","_templateObject","_taggedTemplateLiteral","ComplianceSystems","_data$profiles","_useQuery","useQuery","data","error","loading","policies","profiles","edges","map","_ref","node","React","PageHeader","className","PageHeaderTitle","title","StateViewWithError","stateValues","StateViewPart","stateKey","SystemsTable","columns","Columns","showLink","requiresDefault","sortBy","props","isStatic","transforms","nowrap","defaultFilter","systemProps","isFullView","showOsMinorVersionFilter","policy","osMajorVersion","showComplianceSystemsInfo","enableEditPolicy","remediationsEnabled","showGroupsFilter","PolicyTypeDetailsRow","description","item","key","Text","style","margin","propTypes","NameCell","name","disabled","InUseProfileLabel","compact","PolicyTypeTable","_ref2","onChange","selectedProfile","info","tooltip","sortByProp","renderFunc","renderComponent","fitContent","_data","_id","profile","supportedOsVersions","join","TableToolsTable","items","_objectSpread","rowProps","selected","id","disableSelection","filters","filterConfig","type","conditionalFilterType","text","label","filter","policyTypes","value","policyType","toLowerCase","includes","options","detailsComponent","onRadioSelect","_event","_value","_rowIdx","_ref3","itemId","find","_ref4","index","direction","property","emptyRows","length","variant","Tooltip","position","content","OutlinedQuestionCircleIcon","SUPPORTED_PROFILES","CreateSCAPPolicy","_data$osMajorVersions","change","selectedOsMajorVersion","fetchPolicy","osMajorVersions","selectedOsMajorVersionObject","profilesToSelect","profileRefId","refId","benchmarkRedId","benchmark","Spinner","TextContent","component","TextVariants","h1","Form","FormGroup","isRequired","fieldId","_ref5","Tile","concat","onClick","isSelected","isStacked","labelIcon","PolicyTypeTooltip","PolicyTypesTable","undefined","reduxFormPropTypes","selector","formValueSelector","compose","connect","state","reduxForm","form","destroyOnUnmount","forceUnregisterOnUnmount","BENCHMARKS_QUERY","BENCHMARKS_RULES_TREES_QUERY","_templateObject2","BENCHMARKS_VALUE_DEFINITIONS_QUERY","_templateObject3","PROFILES_QUERY","_templateObject4","EditPolicyProfilesRules","_benchmarksData$bench","selectedRuleRefIds","osMinorVersionCounts","ruleValues","_useBenchmarksQuery","osMinorVersions","variables","skip","benchmarksData","benchmarksError","benchmarksLoading","refetchProfiles","refetch","_useQuery2","ruleTreesData","ruleTreesError","ruleTreesLoading","refecthRuleTrees","_useQuery3","valueDefinitionsData","valueDefinitionsError","valueDefinitionsLoading","refecthValueDefinitions","useMemo","benchmarks","nodes","_ruleTreesData$benchm","_valueDefinitionsData","ruleTree","valueDefinitions","compileData","logMultipleErrors","useCallback","useBenchmarksQuery","i","osMinorVersion","sort","tabsData","systemCount","count","_benchmark$latestSupp","latestSupportedOsMinorVersions","getBenchmarkBySupportedOsMinor","benchmarkProfile","getBenchmarkProfile","newOsMinorVersion","profileToOsMinorMap","tabsDataToOsMinorMap","profileIds","Object","keys","profilesData","profilesError","profilesLoading","dataState","loadingState","noRuleSets","p","setSelectedRuleRefIds","newSelection","useLayoutEffect","profilesWithOs","extendProfilesByOsMinor","profilesWithRulesToSelection","only","JSON","stringify","EmptyState","Title","headingLevel","size","EmptyStateBody","EmptyTable","TabbedRules","setRuleValues","policyId","valueDefinition","valueValue","newRuleValues","_defineProperty","selectedFilter","level","ouiaId","resetLink","rulesPageLink","WizardContextConsumer","goToStepById","Button","PrependComponent","EditPolicySystems","selectedSystems","version","split","prependComponent","emptyStateComponent","width","showActions","enableExport","preselectedSystems","onSelect","newSelectedSystems","countOsMinorVersions","defaultProps","EditPolicyDetails","useEffect","Field","ReduxFormTextInput","isDisabled","ReduxFormTextArea","PolicyBusinessObjectiveTooltip","defaultValue","businessObjective","ProfileThresholdField","previousThreshold","initialValues","ReviewCreatedPolicy","complianceThreshold","parentProfileName","h3","marginTop","TextList","TextListVariants","dl","TextListItem","TextListItemVariants","dt","dd","fontWeight","Label","color","isCompact","benchmarkId","parseFloat","rulesCount","EmtpyStateWithErrors","errors","Array","isArray","List","ListItem","FinishedCreatePolicy","onWizardFinish","cloneFromProfileId","systems","values","_useState","useState","_useState2","_slicedToArray","percent","setPercent","_useState3","_useState4","message","setMessage","_useState5","_useState6","setErrors","_useState7","_useState8","failed","setFailed","updatePolicy","usePolicy","onProgress","progress","hosts","then","dispatchNotification","autoDismiss","Link","to","catch","_error$networkError","_error$networkError2","networkError","result","Bullseye","EmptyStateVariant","full","EmptyStateIcon","icon","WrenchIcon","ProgressBar","EmptyStateSecondaryActions","withApollo","WizardFooter","onNext","onBack","onClose","activeStep","stepNameEdited","replaceAll","ButtonVariant","primary","enableNext","nextButtonText","hideBackButton","secondary","backButtonText","hideCancelButton","link","cancelButtonText","CreatePolicyForm","systemIds","reset","navigate","useNavigate","stepIdReached","setStepIdReached","resetAnchor","location","history","hash","push","steps","validateBenchmarkPage","canJumpTo","validateDetailsPage","validateSystemsPage","EditPolicyRules","validateRulesPage","isFinishedStep","Wizard","isOpen","onGoToStep","footer","CreatePolicyFooter","dispatch","CreatePolicy","DeletePolicy","deleteEnabled","setDeleteEnabled","useParams","policy_id","_usePolicyQuery","usePolicyQuery","minimal","_ref$profile","_useMutation","useMutation","DELETE_PROFILE","onCompleted","dispatchAction","addNotification","onError","deletePolicy","ComplianceModal","ModalVariant","small","titleIconVariant","actions","input","Checkbox","isChecked","DeleteReport","report_id","DELETE_REPORT","deleteReport","profileId","isModalOpen","onDelete","EditPolicyRulesTabEmptyState","EditPolicyRulesTab","ruleValuesProp","benchmarkSearch","sortingByProp","parentProfileId","toTabsData","prevSelection","empty","_policy$policy","mergeValues","fromEntries","setNewRuleTabs","EditPolicySystemsTab","onSystemSelect","osFilter","console","log","newRuleTabs","useLocation","Alert","isInline","actionLinks","AlertActionLink","EditPolicyForm","setUpdatedPolicy","setSelectedSystems","policyProfiles","setOsMinorVersionCounts","_useNewRulesAlertStat","apply","arguments","useNewRulesAlertState","_useNewRulesAlertStat2","newRulesAlert","setNewRulesAlert","handleSystemSelect","policyMinorVersions","hasNewOsMinorVersions","reduce","acc","_profile$osMinorVersi","mapCountOsMinorVersions","complianceThresholdValid","thresholdValid","profilesWithOsMinor","RoutedTabs","defaultTab","Tab","eventKey","TabTitleText","NewRulesAlert","updatedPolicy","EditPolicy","route","setRuleValuesState","saveEnabled","updatedPolicyHostsAndRules","onSaveCallback","_location$state","returnTo","_useOnSave","useOnSave","onSave","_useOnSave2","isSaving","spinnerAriaValueText","isLoading","useTitleEntity","minHeight","existingValues","currentValues","SystemLink","children","pathname","Name","_ref2$showOsInfo","showOsInfo","_ref2$showLink","hasOsInfo","SSGVersion","_ref3$ssgVersion","ssgVersion","supported","UnsupportedSSGVersion","messageVariant","SSGVersions","_ref4$testResultProfi","testResultProfiles","_profile$benchmark","Policies","Truncate","inline","FailedRules","_ref6","rulesFailed","_ref7","parseInt","ComplianceScore","_ref8","_ref9","score","compliant","PresentationalComplianceScore","NeverScanned","Fragment","ExclamationTriangleIcon","NEVER","lastScanned","dates","Date","last","Math","max","date","isFinite","LastScanned","_ref10","lastScannedDate","DateFormat","parse","operatingSystemString","_ref11","OperatingSystem","system","disableSorting","compileColumnRenderFunc","cell","column","_objectWithoutProperties","_excluded","renderExport","customName","SsgVersion","exportKey","SsgVersionCell","PoliciesCell","failedRules","FailedRulesCell","complianceScoreString","complianceScoreData","trim","ComplianceScoreCell","LastScannedCell","OperatingSystemCell","OS","original","dataLabel","inventoryColumn","InventoryDetails","inventoryId","DetailWrapper","onLoad","mergeWithDetail","init","register","InventoryDetailHead","fallback","Skeleton","SkeletonSize","md","GET_SYSTEMS_ISSUES","RemediationButton","rules","buttonProps","onRemediationCreated","_useIssuesFetch","client","useApolloClient","_usePromiseQueue","usePromiseQueue","isResolving","results","resolve","fetchFunction","_asyncToGenerator","_regeneratorRuntime","_callee","perPage","page","_context","prev","next","query","abrupt","sent","stop","_x","_x2","fetch","_callee2","batchSize","pages","_args2","_context2","ceil","_toConsumableArray","_","pageIdx","remediationData","useIssuesFetch","isLoadingIssues","RemediationRemediationButton","_extends","getNotification","dataProvider","FallbackButton","GET_SYSTEMS_OSES","policyFilter","systemsPolicyFilterConfiguration","systemsOsFilterConfiguration","defaultOnLoad","INVENTORY_ACTION_TYPES","mergeWithEntities","getRegistry","entitiesReducer","ssgVersionFilter","ssgVersions","checkbox","filterString","setDisabledSelection","ActionTypes","payload","renameInventoryAttributes","culledTimestamp","staleWarningTimestamp","staleTimestamp","insightsId","insights_id","culled_timestamp","stale_warning_timestamp","stale_timestamp","onComplete","requestVariables","combinedVariables","standardVariables","allRequestVariables","exclusiveFilter","_excluded2","combinedFilter","combineVariables","fetchResults","_data$systems","_data$systems2","e","entities","systemsWithRuleObjectsFailed","meta","tags","totalCount","useOsMinorVersionFilter","showFilter","fetchArguments","osVersions","systemsOsMinorFilterConfiguration","osMinorVersionFilter","currentValue","major","String","Set","minor","groupByMajorVersion","useFetchBatched","fetchBatched","total","buildApiFilters","tagFilters","hostGroupFilter","otherFilters","tagsApiFilter","flatMap","tagFilter","tag","encodeURIComponent","tagKey","toIdFilter","ids","showAllSystems","compliantFilter","showOnlySystemsWithTestResults","showOsFilter","onSelectProp","noSystemsTable","tableProps","dedicatedAction","ruleSeverityFilter","inventory","useRef","isEmpty","setIsEmpty","isLoaded","setIsLoaded","setItems","setTotal","_useState9","_useState10","setPerPage","_useState11","_useState12","currentTags","setCurrentTags","navigateToInventory","_useFilterConfig","useFilterConfig","DEFAULT_SYSTEMS_FILTER_CONFIGURATION","COMPLIANT_SYSTEMS_FILTER_CONFIGURATION","COMPLIANCE_REPORT_TABLE_ADDITIONAL_FILTER","conditionalFilter","toolbarProps","activeFilterValues","systemsFilter","combindedFilter","useSystemsFilter","constructedQuery","constructQuery","systemFetchArguments","fragments","_useSystemBulkSelect","preselected","currentPageIds","useDispatch","_useFetchBatched2","fetchSystems","useFetchSystems","fetchFunc","_callee3","fetchIds","idFilter","_context3","_x3","onSelectCallback","_callee4","selectedIds","_context4","_x4","itemIdsInTable","_callee5","_context5","_ref12","bulkSelect","useBulkSelect","itemIdsOnPage","toggleProps","useSystemBulkSelect","bulkSelectTableProps","bulkSelectToolBarProps","activeFilters","debounceResetPage","debounce","Promise","_inventory$current","current","onRefreshData","useInventoryUtilities","getEntities","fetchEntities","appendDirection","attributes","attribute","findColumnByKey","sortKey","_ids","_ref3$page","orderBy","orderDirection","sortableColumn","filterForApi","fetchedEntities","per_page","entity","useGetEntities","_result$meta","_result$meta2","exportConfig","_useFetchBatched","selectionFilter","exporter","fetchedItems","useExport","onStart","useSystemsExport","StateView","noError","ErrorPage","InventoryTable","disableDefaultColumns","defaultColumns","isStringCol","defaultColumn","defaultCol","ref","hideFilters","all","showTags","isStickyHeader","TableVariant","_index","PropTypes","POLICY_QUERY_MINIMAL","POLICY_QUERY","POLICY_RULE_TREES_QUERY","POLICY_VALUE_DEFINITONS_QUERY","skipCondition","policyData","policyError","policyLoading","refecthPolicy","_policyData$profile","_policyData$profile2","_ruleTreesData$profil","_valueDefinitionsData2","limit","setIsResolving","promiseResults","setPromiseResults","fns","pAll","concurrency","selectRows","rows","row","_applyReducerHash","applyReducerHash","action","SET_DISABLED_SYSTEM_SELECTION"],"sourceRoot":""}