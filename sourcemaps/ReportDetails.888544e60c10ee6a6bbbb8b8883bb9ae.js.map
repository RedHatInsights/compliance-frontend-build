{"version":3,"file":"js/ReportDetails.1647860503664.dfc8db59dabe4b10e7c1.js","mappings":"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","sources":["webpack:///./src/SmartComponents/ReportDetails/Components/ReportedSystemRow.js","webpack:///./src/SmartComponents/ReportDetails/Components/ChartLegend.js","webpack:///./src/SmartComponents/ReportDetails/Components/hooks/useLegendData.js","webpack:///./src/SmartComponents/ReportDetails/Components/hooks/useDonutChart.js","webpack:///./src/SmartComponents/ReportDetails/Components/ReportChart.js","webpack:///./src/SmartComponents/ReportDetails/ReportDetailsWithNotReportedSystems.js","webpack:///./src/SmartComponents/ReportDetails/ReportDetails.js","webpack:///./src/SmartComponents/ReportDownload/constants.js","webpack:///./src/SmartComponents/ReportDownload/Components/ExportPDFForm.js","webpack:///./src/SmartComponents/ReportDownload/hooks/helpers.js","webpack:///./src/SmartComponents/ReportDownload/hooks/useQueryExportData.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/StyleSheet.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/SystemsTable.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/UnsupportedSystemsTable.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/NonReportedSystemsTable.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/RulesTable.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/PanelItem.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/SubSection.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF/ComplianceChart.js","webpack:///./src/SmartComponents/ReportDownload/Components/ReportPDF.js","webpack:///./src/Utilities/hooks/api/utils/ApiClient.js","webpack:///./src/Utilities/hooks/api/useApi.js","webpack:///./src/Utilities/hooks/api/useCollection.js","webpack:///./src/SmartComponents/ReportDownload/hooks/useSupportedSsgFinder.js","webpack:///./src/SmartComponents/ReportDownload/hooks/usePDFExport.js","webpack:///./src/SmartComponents/ReportDownload/hooks/usePDFBuilder.js","webpack:///./src/SmartComponents/ReportDownload/ReportDownload.js","webpack:///./src/SmartComponents/ReportDownload/hooks/useExportSettings.js"],"sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport { RowWrapper } from '@patternfly/react-table';\n\nconst ReportedSystemRow = ({ row, children }) => (\n  <RowWrapper\n    style={\n      row.testResultProfiles?.length === 0\n        ? {\n            background: '#F0F0F0',\n            borderLeft:\n              'var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)',\n            borderRight:\n              'var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)',\n          }\n        : {}\n    }\n  >\n    {children}\n  </RowWrapper>\n);\n\nReportedSystemRow.propTypes = {\n  row: propTypes.node,\n  children: propTypes.node,\n};\n\nexport default ReportedSystemRow;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { List, ListItem, Tooltip, Popover } from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\n\nconst ChartIcon = ({ color = '#FFFFFF' }) => (\n  <span\n    style={{\n      width: '10px',\n      height: '10px',\n      display: 'inline-block',\n      background: color,\n    }}\n  >\n    &nbsp;\n  </span>\n);\n\nChartIcon.propTypes = {\n  color: propTypes.string,\n};\n\nconst ChartLegend = ({ legendData = [] }) => (\n  <List>\n    {legendData.map(({ name, symbol, tooltip, popover }, index) => (\n      <ListItem\n        key={index}\n        icon={<ChartIcon color={symbol?.fill} />}\n        style={{ verticalAlign: 'middle', display: 'inline-block' }}\n      >\n        {name}\n        {tooltip && (\n          <Tooltip content={<> {tooltip} </>}>\n            <span>\n              &nbsp;\n              <OutlinedQuestionCircleIcon className=\"grey-icon\" />\n            </span>\n          </Tooltip>\n        )}\n        {popover &&\n          (({ title = '', content = '', footer = '' }) => (\n            <Popover\n              maxWidth=\"25rem\"\n              headerContent={title}\n              bodyContent={content}\n              footerContent={footer}\n            >\n              <span>\n                &nbsp;\n                <OutlinedQuestionCircleIcon\n                  className=\"grey-icon\"\n                  style={{ cursor: 'pointer' }}\n                />\n              </span>\n            </Popover>\n          ))(popover)}\n      </ListItem>\n    ))}\n  </List>\n);\n\nChartLegend.propTypes = {\n  legendData: propTypes.array,\n};\n\nexport default ChartLegend;\n","import React from 'react';\nimport { Text } from '@patternfly/react-core';\nimport blue200 from '@patternfly/react-tokens/dist/esm/chart_color_blue_200';\nimport blue300 from '@patternfly/react-tokens/dist/esm/chart_color_blue_300';\nimport chart_color_black_200 from '@patternfly/react-tokens/dist/esm/chart_color_black_200';\nimport chart_color_gold_300 from '@patternfly/react-tokens/dist/esm/chart_color_gold_300';\nimport { pluralize } from 'Utilities/TextHelper';\nimport { SupportedSSGVersionsLink } from 'PresentationalComponents';\n\nconst useLegendData = (donutValues, profile) => {\n  const {\n    testResultHostCount = 0,\n    unsupportedHostCount = 0,\n    totalHostCount = 0,\n  } = profile;\n  const notReportingHostCount =\n    totalHostCount - unsupportedHostCount - testResultHostCount;\n\n  return [\n    {\n      name: `${donutValues[0].y} ${pluralize(\n        donutValues[0].y,\n        'system'\n      )} compliant`,\n      symbol: { fill: blue300.value },\n    },\n    {\n      name: `${donutValues[1].y} ${pluralize(\n        donutValues[1].y,\n        'system'\n      )} non-compliant`,\n      symbol: { fill: blue200.value },\n    },\n    {\n      name: `${donutValues[2].y} ${pluralize(\n        donutValues[2].y,\n        'system'\n      )} not supported`,\n      symbol: { fill: chart_color_gold_300.value },\n      popover: {\n        title: 'Unsupported SSG versions',\n        content: (\n          <>\n            <Text variant=\"p\">\n              These systems are running unsupported versions of the SCAP\n              Security Guide (SSG) for the version of RHEL installed on them.\n              Assessment of rules failed/passed on these systems is a best-guess\n              effort and may not be accurate.\n            </Text>\n            <Text variant=\"p\">\n              The policy&apos;s compliance score excludes these systems.\n            </Text>\n          </>\n        ),\n        footer: <SupportedSSGVersionsLink />,\n      },\n    },\n    ...(notReportingHostCount > 0\n      ? [\n          {\n            name: `${notReportingHostCount} ${pluralize(\n              notReportingHostCount,\n              'system'\n            )} never reported`,\n            popover: {\n              title: 'Systems never reported',\n              content: `${notReportingHostCount} ${pluralize(\n                notReportingHostCount,\n                'system'\n              )} are not reporting scan results. This may be because the system is disconnected, or the insights-client is not properly configured to use Compliance.`,\n            },\n            symbol: { fill: chart_color_black_200.value },\n          },\n        ]\n      : []),\n  ];\n};\n\nexport default useLegendData;\n","import { ChartThemeVariant } from '@patternfly/react-charts';\nimport black300 from '@patternfly/react-tokens/dist/esm/global_palette_black_300';\nimport blue200 from '@patternfly/react-tokens/dist/esm/chart_color_blue_200';\nimport blue300 from '@patternfly/react-tokens/dist/esm/chart_color_blue_300';\nimport chart_color_black_200 from '@patternfly/react-tokens/dist/esm/chart_color_black_200';\nimport chart_color_gold_300 from '@patternfly/react-tokens/dist/esm/chart_color_gold_300';\nimport { fixedPercentage } from 'Utilities/TextHelper';\nimport useLegendData from './useLegendData';\n\nconst useDonutChart = (profile) => {\n  const {\n    compliantHostCount = 0,\n    testResultHostCount = 0,\n    unsupportedHostCount = 0,\n    totalHostCount = 0,\n  } = profile;\n  const notReportingHostCount =\n    totalHostCount - unsupportedHostCount - testResultHostCount;\n  const donutId = profile.name?.replace(/ /g, '') || 'donut-chart';\n  const donutValues = [\n    { x: 'Compliant', y: compliantHostCount },\n    { x: 'Non-compliant', y: testResultHostCount - compliantHostCount },\n    { x: 'Unsupported', y: unsupportedHostCount },\n    { x: 'Not reporting', y: notReportingHostCount },\n  ];\n  const chartColorScale = (testResultHostCount === 0 && [black300.value]) || [\n    blue300.value,\n    blue200.value,\n    chart_color_gold_300.value,\n    chart_color_black_200.value,\n  ];\n  const legendData = useLegendData(donutValues, profile);\n\n  const compliancePercentage = testResultHostCount\n    ? fixedPercentage(\n        Math.floor(\n          100 * (donutValues[0].y / (donutValues[0].y + donutValues[1].y))\n        )\n      )\n    : 0;\n\n  return {\n    chartProps: {\n      data: donutValues,\n      identifier: donutId,\n      title: compliancePercentage,\n      subTitle: 'Compliant',\n      themeVariant: ChartThemeVariant.light,\n      colorScale: chartColorScale,\n      style: { fontSize: 20 },\n      innerRadius: 88,\n      constrainToVisibleArea: true,\n    },\n    legendData,\n  };\n};\n\nexport default useDonutChart;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { ChartDonut } from '@patternfly/react-charts';\nimport '@/Charts.scss';\nimport ChartLegend from './ChartLegend';\nimport useDonutChart from './hooks/useDonutChart';\n\nconst ReportChart = ({ profile = {} }) => {\n  const { chartProps, legendData } = useDonutChart(profile);\n\n  return (\n    <Grid className=\"chart-container\">\n      <GridItem span={6}>\n        <ChartDonut {...chartProps} />\n      </GridItem>\n      <GridItem\n        span={6}\n        className=\"pf-u-display-flex pf-u-align-items-center\"\n        style={{\n          fontSize: '.85em',\n          height: '100%',\n        }}\n      >\n        <ChartLegend legendData={legendData} />\n      </GridItem>\n    </Grid>\n  );\n};\n\nReportChart.propTypes = {\n  profile: propTypes.object,\n};\n\nexport default ReportChart;\n","/* eslint-disable react/display-name */\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Button,\n  Grid,\n  GridItem,\n  Text,\n} from '@patternfly/react-core';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport {\n  BackgroundLink,\n  BreadcrumbLinkItem,\n  ReportDetailsContentLoader,\n  ReportDetailsDescription,\n  StateViewWithError,\n  StateViewPart,\n  UnsupportedSSGVersion,\n  SubPageTitle,\n} from 'PresentationalComponents';\nimport { useTitleEntity } from 'Utilities/hooks/useDocumentTitle';\nimport useFeature from 'Utilities/hooks/useFeature';\nimport { SystemsTable } from 'SmartComponents';\nimport '@/Charts.scss';\nimport './ReportDetails.scss';\nimport { GET_SYSTEMS } from '../SystemsTable/constants';\nimport * as Columns from '../SystemsTable/Columns';\nimport ReportedSystemRow from './Components/ReportedSystemRow';\nimport ReportChart from './Components/ReportChart';\n\nexport const QUERY = gql`\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      totalHostCount\n      testResultHostCount\n      compliantHostCount\n      unsupportedHostCount\n      complianceThreshold\n      majorOsVersion\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n      }\n      benchmark {\n        id\n        version\n      }\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n`;\n\nexport const ReportDetails = ({ route }) => {\n  const { report_id: policyId } = useParams();\n  const pdfReportEnabled = useFeature('pdfReport');\n  const { data, error, loading } = useQuery(QUERY, {\n    variables: { policyId },\n    fetchPolicy: 'no-cache',\n  });\n  let profile = {};\n  let policyName;\n  let pageTitle;\n\n  if (!loading && data) {\n    profile = data.profile;\n    policyName = profile.policy.name;\n    pageTitle = `Report: ${policyName}`;\n  }\n\n  useTitleEntity(route, policyName);\n\n  return (\n    <StateViewWithError stateValues={{ error, data, loading }}>\n      <StateViewPart stateKey=\"loading\">\n        <PageHeader>\n          <ReportDetailsContentLoader />\n        </PageHeader>\n        <Main>\n          <EmptyTable>\n            <Spinner />\n          </EmptyTable>\n        </Main>\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <PageHeader>\n          <Breadcrumb ouiaId=\"ReportDetailsPathBreadcrumb\">\n            <BreadcrumbLinkItem to=\"/\">Compliance</BreadcrumbLinkItem>\n            <BreadcrumbLinkItem to=\"/reports\">Reports</BreadcrumbLinkItem>\n            <BreadcrumbItem isActive>{pageTitle}</BreadcrumbItem>\n          </Breadcrumb>\n          <Grid hasGutter>\n            <GridItem sm={9} md={9} lg={9} xl={9}>\n              <PageHeaderTitle title={pageTitle} />\n              <SubPageTitle>{profile.policyType}</SubPageTitle>\n            </GridItem>\n            <GridItem\n              className=\"report-details-button\"\n              sm={3}\n              md={3}\n              lg={3}\n              xl={3}\n            >\n              {pdfReportEnabled && (\n                <BackgroundLink\n                  state={{ profile }}\n                  to={`/reports/${profile.id}/pdf`}\n                >\n                  <Button\n                    ouiaId=\"ReportDetailsDownloadReportPDFLink\"\n                    variant=\"primary\"\n                    className=\"pf-u-mr-md\"\n                  >\n                    Download PDF\n                  </Button>\n                </BackgroundLink>\n              )}\n              <BackgroundLink\n                state={{ profile }}\n                to={`/reports/${profile.id}/delete`}\n              >\n                <Button\n                  variant=\"link\"\n                  ouiaId=\"ReportDetailsDeleteReportLink\"\n                  isInline\n                >\n                  Delete report\n                </Button>\n              </BackgroundLink>\n            </GridItem>\n          </Grid>\n          <Grid hasGutter>\n            <GridItem sm={12} md={12} lg={12} xl={6}>\n              <ReportChart profile={profile} />\n              <Text variant=\"p\" style={{ marginBottom: '1rem' }}>\n                <Text\n                  variant=\"small\"\n                  className=\"grey-icon\"\n                  ouiaId=\"ScoreCouningNotification\"\n                >\n                  * Overall compliance score includes only supported, reporting\n                  systems\n                </Text>\n              </Text>\n              {profile.unsupportedHostCount > 0 && (\n                <Text ouiaId=\"UnsupportedSSGCountNotification\">\n                  <UnsupportedSSGVersion showHelpIcon>\n                    <strong className=\"ins-c-warning-text\">\n                      {profile.unsupportedHostCount} systems not supported\n                    </strong>\n                  </UnsupportedSSGVersion>\n                </Text>\n              )}\n            </GridItem>\n            <GridItem sm={12} md={12} lg={12} xl={6}>\n              <ReportDetailsDescription profile={profile} />\n            </GridItem>\n          </Grid>\n        </PageHeader>\n        <Main>\n          <Grid hasGutter>\n            <GridItem span={12}>\n              <SystemsTable\n                showOsMinorVersionFilter={[profile.majorOsVersion]}\n                columns={[\n                  Columns.customName({\n                    showLink: true,\n                    showOsInfo: true,\n                  }),\n                  Columns.inventoryColumn('tags'),\n                  Columns.SsgVersion,\n                  Columns.FailedRules,\n                  Columns.ComplianceScore,\n                  Columns.LastScanned,\n                ]}\n                query={GET_SYSTEMS}\n                compliantFilter\n                defaultFilter={`policy_id = ${profile.id}`}\n                policyId={profile.id}\n                tableProps={{\n                  rowWrapper: ReportedSystemRow,\n                }}\n              />\n            </GridItem>\n          </Grid>\n        </Main>\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nReportDetails.propTypes = {\n  route: propTypes.object,\n};\n\nexport default ReportDetails;\n","/* eslint-disable react/display-name */\nimport React from 'react';\nimport black300 from '@patternfly/react-tokens/dist/esm/global_palette_black_300';\nimport blue200 from '@patternfly/react-tokens/dist/esm/chart_color_blue_200';\nimport blue300 from '@patternfly/react-tokens/dist/esm/chart_color_blue_300';\nimport propTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport { ChartDonut, ChartThemeVariant } from '@patternfly/react-charts';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Button,\n  Grid,\n  GridItem,\n  Text,\n} from '@patternfly/react-core';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport EmptyTable from '@redhat-cloud-services/frontend-components/EmptyTable';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport { fixedPercentage, pluralize } from 'Utilities/TextHelper';\nimport {\n  BackgroundLink,\n  BreadcrumbLinkItem,\n  ReportDetailsContentLoader,\n  ReportDetailsDescription,\n  StateViewWithError,\n  StateViewPart,\n  UnsupportedSSGVersion,\n  SubPageTitle,\n} from 'PresentationalComponents';\nimport { useTitleEntity } from 'Utilities/hooks/useDocumentTitle';\nimport useFeature from 'Utilities/hooks/useFeature';\nimport { SystemsTable } from 'SmartComponents';\nimport '@/Charts.scss';\nimport './ReportDetails.scss';\nimport { GET_SYSTEMS } from '../SystemsTable/constants';\nimport * as Columns from '../SystemsTable/Columns';\nimport { default as ReportDetailsWithNotReportedSystems } from './ReportDetailsWithNotReportedSystems';\n\nexport const QUERY = gql`\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      testResultHostCount\n      compliantHostCount\n      unsupportedHostCount\n      complianceThreshold\n      majorOsVersion\n      lastScanned\n      policyType\n      policy {\n        id\n        name\n      }\n      benchmark {\n        id\n        version\n      }\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n`;\n\nexport const ReportDetails = ({ route }) => {\n  const { report_id: policyId } = useParams();\n  const pdfReportEnabled = useFeature('pdfReport');\n  const { data, error, loading } = useQuery(QUERY, {\n    variables: { policyId },\n    fetchPolicy: 'no-cache',\n  });\n  let donutValues = [];\n  let donutId = 'loading-donut';\n  let chartColorScale;\n  let profile = {};\n  let policyName;\n  let legendData;\n  let compliancePercentage;\n  let pageTitle;\n\n  if (!loading && data) {\n    profile = data.profile;\n    policyName = profile.policy.name;\n    pageTitle = `Report: ${policyName}`;\n    const compliantHostCount = profile.compliantHostCount;\n    const testResultHostCount = profile.testResultHostCount;\n    donutId = profile.name.replace(/ /g, '');\n    donutValues = [\n      { x: 'Compliant', y: testResultHostCount ? compliantHostCount : '0' },\n      { x: 'Non-compliant', y: testResultHostCount - compliantHostCount },\n    ];\n    chartColorScale = (testResultHostCount === 0 && [black300.value]) || [\n      blue300.value,\n      blue200.value,\n    ];\n    legendData = [\n      {\n        name:\n          donutValues[0].y +\n          ' ' +\n          pluralize(donutValues[0].y, 'system') +\n          ' compliant',\n      },\n      {\n        name:\n          donutValues[1].y +\n          ' ' +\n          pluralize(donutValues[1].y, 'system') +\n          ' non-compliant',\n      },\n    ];\n    compliancePercentage = testResultHostCount\n      ? fixedPercentage(\n          Math.floor(\n            100 * (donutValues[0].y / (donutValues[0].y + donutValues[1].y))\n          )\n        )\n      : 0;\n  }\n\n  useTitleEntity(route, policyName);\n\n  return (\n    <StateViewWithError stateValues={{ error, data, loading }}>\n      <StateViewPart stateKey=\"loading\">\n        <PageHeader>\n          <ReportDetailsContentLoader />\n        </PageHeader>\n        <Main>\n          <EmptyTable>\n            <Spinner />\n          </EmptyTable>\n        </Main>\n      </StateViewPart>\n      <StateViewPart stateKey=\"data\">\n        <PageHeader>\n          <Breadcrumb ouiaId=\"ReportDetailsPathBreadcrumb\">\n            <BreadcrumbLinkItem to=\"/\">Compliance</BreadcrumbLinkItem>\n            <BreadcrumbLinkItem to=\"/reports\">Reports</BreadcrumbLinkItem>\n            <BreadcrumbItem isActive>{pageTitle}</BreadcrumbItem>\n          </Breadcrumb>\n          <Grid hasGutter>\n            <GridItem sm={9} md={9} lg={9} xl={9}>\n              <PageHeaderTitle title={pageTitle} />\n              <SubPageTitle>{profile.policyType}</SubPageTitle>\n            </GridItem>\n            <GridItem\n              className=\"report-details-button\"\n              sm={3}\n              md={3}\n              lg={3}\n              xl={3}\n            >\n              {pdfReportEnabled && (\n                <BackgroundLink\n                  state={{ profile }}\n                  to={`/reports/${profile.id}/pdf`}\n                >\n                  <Button\n                    ouiaId=\"ReportDetailsDownloadReportPDFLink\"\n                    variant=\"primary\"\n                    className=\"pf-u-mr-md\"\n                  >\n                    Download PDF\n                  </Button>\n                </BackgroundLink>\n              )}\n              <BackgroundLink\n                state={{ profile }}\n                to={`/reports/${profile.id}/delete`}\n              >\n                <Button\n                  variant=\"link\"\n                  ouiaId=\"ReportDetailsDeleteReportLink\"\n                  isInline\n                >\n                  Delete report\n                </Button>\n              </BackgroundLink>\n            </GridItem>\n          </Grid>\n          <Grid hasGutter>\n            <GridItem sm={12} md={12} lg={12} xl={6}>\n              <div className=\"chart-inline\">\n                <div className=\"chart-container\">\n                  <ChartDonut\n                    data={donutValues}\n                    identifier={donutId}\n                    title={compliancePercentage}\n                    subTitle=\"Compliant\"\n                    themeVariant={ChartThemeVariant.light}\n                    colorScale={chartColorScale}\n                    style={{ fontSize: 20 }}\n                    constrainToVisibleArea={true}\n                    innerRadius={88}\n                    width={462}\n                    legendPosition=\"right\"\n                    legendData={legendData}\n                    legendOrientation=\"vertical\"\n                    padding={{\n                      bottom: 20,\n                      left: 0,\n                      right: 250,\n                      top: 20,\n                    }}\n                  />\n                </div>\n              </div>\n              {profile.unsupportedHostCount > 0 && (\n                <Text>\n                  <UnsupportedSSGVersion showHelpIcon>\n                    <strong className=\"ins-c-warning-text\">\n                      {profile.unsupportedHostCount} systems not supported\n                    </strong>\n                  </UnsupportedSSGVersion>\n                </Text>\n              )}\n            </GridItem>\n            <GridItem sm={12} md={12} lg={12} xl={6}>\n              <ReportDetailsDescription profile={profile} />\n            </GridItem>\n          </Grid>\n        </PageHeader>\n        <Main>\n          <Grid hasGutter>\n            <GridItem span={12}>\n              <SystemsTable\n                showOsMinorVersionFilter={[profile.majorOsVersion]}\n                columns={[\n                  Columns.customName({\n                    showLink: true,\n                    showOsInfo: true,\n                  }),\n                  Columns.inventoryColumn('tags'),\n                  Columns.SsgVersion,\n                  Columns.FailedRules,\n                  Columns.ComplianceScore,\n                  Columns.LastScanned,\n                ]}\n                query={GET_SYSTEMS}\n                showOnlySystemsWithTestResults\n                compliantFilter\n                defaultFilter={`with_results_for_policy_id = ${profile.id}`}\n                policyId={profile.id}\n              />\n            </GridItem>\n          </Grid>\n        </Main>\n      </StateViewPart>\n    </StateViewWithError>\n  );\n};\n\nReportDetails.propTypes = {\n  route: propTypes.object,\n};\n\nconst ReportDetailsFeatureWrapper = (props) => {\n  const systemsNotReporting = useFeature('systemsNotReporting');\n\n  return systemsNotReporting ? (\n    <ReportDetailsWithNotReportedSystems {...props} />\n  ) : (\n    <ReportDetails {...props} />\n  );\n};\n\nexport default ReportDetailsFeatureWrapper;\n","import gql from 'graphql-tag';\n\nexport const DEFAULT_EXPORT_SETTINGS = {\n  compliantSystems: false,\n  nonCompliantSystems: true,\n  unsupportedSystems: true,\n  nonReportingSystems: true,\n  topTenFailedRules: true,\n  userNotes: undefined,\n};\n\nexport const GET_SYSTEMS = gql`\n  query getSystems(\n    $filter: String!\n    $policyId: ID\n    $perPage: Int\n    $page: Int\n    $sortBy: [String!]\n    $tags: [String!]\n  ) {\n    systems(\n      search: $filter\n      limit: $perPage\n      offset: $page\n      sortBy: $sortBy\n      tags: $tags\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          name\n          osMajorVersion\n          osMinorVersion\n          insightsId\n          testResultProfiles(policyId: $policyId) {\n            id\n            name\n            refId\n            lastScanned\n            compliant\n            external\n            score\n            supported\n            ssgVersion\n            majorOsVersion\n            rules {\n              refId\n              title\n              compliant\n              remediationAvailable\n              severity\n              identifier\n            }\n          }\n          policies(policyId: $policyId) {\n            id\n            name\n          }\n          tags {\n            namespace\n            key\n            value\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_PROFILE = gql`\n  query Profile($policyId: String!) {\n    profile(id: $policyId) {\n      id\n      name\n      refId\n      testResultHostCount\n      compliantHostCount\n      unsupportedHostCount\n      complianceThreshold\n      majorOsVersion\n      lastScanned\n      policyType\n      totalHostCount\n      ssgVersion\n      policy {\n        id\n        name\n      }\n      benchmark {\n        id\n        version\n      }\n      businessObjective {\n        id\n        title\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Text,\n  TextArea,\n  Checkbox,\n} from '@patternfly/react-core';\nimport useFeature from 'Utilities/hooks/useFeature';\n\nconst ExportPDFForm = ({ policy, setExportSetting, exportSettings }) => {\n  const systemsNotReporting = useFeature('systemsNotReporting');\n\n  return (\n    <Form>\n      <FormGroup isInline fieldId=\"simple-form-checkbox-group\" label=\"Policy\">\n        <Text>{policy.name}</Text>\n      </FormGroup>\n\n      <FormGroup\n        fieldId=\"simple-form-checkbox-group\"\n        label=\"System data to include\"\n      >\n        <Checkbox\n          label=\"Non-compliant systems\"\n          id=\"non-compliant-systems-export-setting\"\n          aria-label=\"Non-compliant systems\"\n          onChange={setExportSetting('nonCompliantSystems')}\n          isChecked={exportSettings.nonCompliantSystems}\n        />\n        <Checkbox\n          label=\"Systems with unsupported configuration\"\n          id=\"unsupported-systems-export-setting\"\n          aria-label=\"Systems with unsupported configuration\"\n          onChange={setExportSetting('unsupportedSystems')}\n          isChecked={exportSettings.unsupportedSystems}\n        />\n        {systemsNotReporting && (\n          <Checkbox\n            label=\"Systems with no reports\"\n            id=\"nonreporting-systems-export-setting\"\n            aria-label=\"Systems never reported\"\n            onChange={setExportSetting('nonReportingSystems')}\n            isChecked={exportSettings.nonReportingSystems}\n          />\n        )}\n        <Checkbox\n          id=\"compliant-systems-export-setting\"\n          onChange={setExportSetting('compliantSystems')}\n          isChecked={exportSettings.compliantSystems}\n          label=\"Compliant systems\"\n          aria-label=\"Compliant systems\"\n        />\n      </FormGroup>\n\n      <FormGroup label=\"Rule data to include\" fieldId=\"checkbox01\">\n        <Checkbox\n          id=\"failed-rules-export-setting\"\n          label=\"Top failed rules (Up to 10)\"\n          aria-label=\"Rule data to include\"\n          onChange={setExportSetting('topTenFailedRules')}\n          isChecked={exportSettings.topTenFailedRules}\n        />\n      </FormGroup>\n\n      <FormGroup label=\"User notes (optional)\" fieldId=\"checkbox01\">\n        <TextArea\n          aria-label=\"User notes (optional)\"\n          onChange={setExportSetting('userNotes')}\n          value={exportSettings.userNotes}\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nExportPDFForm.propTypes = {\n  policy: propTypes.object,\n  exportSettings: propTypes.object,\n  setExportSetting: propTypes.func,\n};\n\nexport default ExportPDFForm;\n","import { orderByArray } from 'Utilities/helpers';\nimport { SEVERITY_LEVELS } from '@/constants';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\n\n// TODO move to utilities\n// to make these helpers available elsewhere and then use where needed\n\nconst scannedProfiles = (profiles) =>\n  profiles?.filter((profile) => profile.lastScanned != 'Never') || [];\n\nconst isSystemCompliant = (system) => {\n  const hasScannedProfiles =\n    scannedProfiles(system.testResultProfiles).length > 0;\n  const hasOnlyCompliantScannedProfiles = scannedProfiles(\n    system.testResultProfiles\n  ).every((profile) => profile.compliant);\n\n  return hasScannedProfiles && hasOnlyCompliantScannedProfiles;\n};\n\nconst isSystemNonCompliant = (system) => {\n  const hasScannedProfiles =\n    scannedProfiles(system.testResultProfiles).length > 0;\n  const hasNonCompliantProfiles =\n    scannedProfiles(system.testResultProfiles).filter(\n      (profile) => !profile.compliant\n    ).length > 0;\n\n  return hasScannedProfiles && hasNonCompliantProfiles;\n};\n\nconst hasProfiles = ({ testResultProfiles }) =>\n  scannedProfiles(testResultProfiles).length > 0;\n\nconst isSystemSupported = (system) =>\n  hasProfiles(system) &&\n  scannedProfiles(system.testResultProfiles).every(\n    (profile) => profile.supported\n  );\n\nconst isSystemUnsupported = (system) =>\n  hasProfiles(system) &&\n  scannedProfiles(system.testResultProfiles).every(\n    (profile) => !profile.supported\n  );\n\nexport const compliantSystemsData = (systems) =>\n  systems.filter(\n    (system) => isSystemSupported(system) && isSystemCompliant(system)\n  );\n\nexport const nonCompliantSystemsData = (systems) =>\n  systems.filter(\n    (system) => isSystemSupported(system) && isSystemNonCompliant(system)\n  );\n\nexport const unsupportedSystemsData = (systems) =>\n  systems.filter((system) => isSystemUnsupported(system));\n\nexport const supportedSystemsData = (systems) =>\n  systems.filter((system) => isSystemSupported(system));\n\nexport const nonReportingSystemsData = (systems) => {\n  const reportingSystemIds = [\n    ...compliantSystemsData(systems),\n    ...nonCompliantSystemsData(systems),\n    ...unsupportedSystemsData(systems),\n  ].map((system) => system.id);\n\n  return systems.filter((system) => !reportingSystemIds.includes(system.id));\n};\n\nexport const sortBySystemsCount = (rules) =>\n  sortBy(rules, 'systemsCount').reverse();\n\nconst sortBySeverity = (rules, order = 'asc') =>\n  orderByArray(rules, 'severity', SEVERITY_LEVELS, order);\n\nexport const topTenRulesSortedBySeverityAndSystemCount = (\n  failedRulesWithCountsArray\n) => {\n  const topTenRulesBySeverity = sortBySeverity(\n    failedRulesWithCountsArray,\n    'asc'\n  ).slice(0, 10);\n  const rulesGroupedBySeverity = groupBy(topTenRulesBySeverity, 'severity');\n\n  return SEVERITY_LEVELS.flatMap((rulesGroupKey) =>\n    sortBySystemsCount(rulesGroupedBySeverity[rulesGroupKey] || [])\n  );\n};\n\n// Returns the \"top ten\" failed rules by system count\n// or just random \"top 10\" rules by severity\nexport const topTenFromRulesWithCounts = (failedRulesWithCounts) =>\n  topTenRulesSortedBySeverityAndSystemCount(\n    Object.values(failedRulesWithCounts)\n  );\n\n// Sums up rules and adds the number of systems failed for each\n// TODO refactor.\nconst getFailedRulesWithCounts = (systems) => {\n  const failedRulesWithCounts = {};\n  const countIfFailed = (rule) => {\n    if (!rule.compliant) {\n      const failedRuleCount = failedRulesWithCounts[rule.refId];\n      if (failedRuleCount) {\n        failedRulesWithCounts[rule.refId]['systemsCount']++;\n      } else {\n        failedRulesWithCounts[rule.refId] = {\n          systemsCount: 1,\n          ...rule,\n        };\n      }\n    }\n  };\n\n  systems.forEach((system) => {\n    system.testResultProfiles?.forEach((profile) => {\n      profile.rules.forEach((rule) => countIfFailed(rule));\n    });\n  });\n\n  return failedRulesWithCounts;\n};\n\nexport const topTenFailedRulesData = (systems) =>\n  topTenFromRulesWithCounts(getFailedRulesWithCounts(systems));\n","import { useApolloClient } from '@apollo/client';\nimport useFeature from 'Utilities/hooks/useFeature';\nimport { GET_SYSTEMS } from '../constants';\nimport {\n  compliantSystemsData,\n  nonCompliantSystemsData,\n  unsupportedSystemsData,\n  nonReportingSystemsData,\n  topTenFailedRulesData,\n} from './helpers';\n\nconst fetchBatched = (fetchFunction, total, batchSize = 100) => {\n  const pages = Math.ceil(total / batchSize) || 1;\n  return Promise.all(\n    [...new Array(pages)].map((_, pageIdx) =>\n      fetchFunction(batchSize, pageIdx + 1)\n    )\n  );\n};\n\n// Hook that provides a wrapper function for a preconfigured GraphQL client to fetch export data\nconst useQueryExportData = (\n  exportSettings,\n  { id: policyId, totalHostCount } = {},\n  { onComplete, onError } = {\n    onComplete: () => undefined,\n    onError: () => undefined,\n  }\n) => {\n  const systemsNotReporting = useFeature('systemsNotReporting');\n\n  const client = useApolloClient();\n\n  const prepareForExport = (systems) => {\n    const compliantSystems = compliantSystemsData(systems);\n    const nonCompliantSystems = nonCompliantSystemsData(systems);\n    const unsupportedSystems = unsupportedSystemsData(systems);\n    const nonReportingSystems = nonReportingSystemsData(systems);\n\n    return {\n      ...(exportSettings.compliantSystems && {\n        compliantSystems: compliantSystems,\n      }),\n      compliantSystemCount: compliantSystems.length,\n      ...(exportSettings.nonCompliantSystems && {\n        nonCompliantSystems: nonCompliantSystems,\n      }),\n      nonCompliantSystemCount: nonCompliantSystems.length,\n      ...(exportSettings.unsupportedSystems && {\n        unsupportedSystems: unsupportedSystems,\n      }),\n      unsupportedSystemCount: unsupportedSystems.length,\n      ...(exportSettings.topTenFailedRules && {\n        topTenFailedRules: topTenFailedRulesData(systems),\n      }),\n      ...(systemsNotReporting\n        ? {\n            nonReportingSystemCount: nonReportingSystems.length,\n            ...(exportSettings.nonReportingSystems && {\n              nonReportingSystems: nonReportingSystems,\n            }),\n          }\n        : {}),\n      ...(exportSettings.userNotes && { userNotes: exportSettings.userNotes }),\n    };\n  };\n  const fetchFunction = (perPage, page) =>\n    client.query({\n      query: GET_SYSTEMS,\n      fetchResults: true,\n      fetchPolicy: 'no-cache',\n      variables: {\n        perPage,\n        page,\n        filter: `policy_id = ${policyId}`,\n        policyId,\n      },\n    });\n\n  return () =>\n    fetchBatched(fetchFunction, totalHostCount)\n      .then((results) =>\n        results.flatMap(({ data }) => data.systems.edges.map((e) => e.node))\n      )\n      .then((systems) => {\n        const exportData = prepareForExport(systems);\n        onComplete && onComplete(exportData);\n        return exportData;\n      })\n      .catch((error) => {\n        if (onError) {\n          onError(error);\n          return [];\n        } else {\n          throw error;\n        }\n      });\n};\n\nexport default useQueryExportData;\n","import { StyleSheet } from '@react-pdf/renderer';\n\n// Supported style properties see: https://react-pdf.org/styling\nexport default StyleSheet.create({\n  // TODO: bold rendering in PDF does not appear to work\n  bold: {\n    fontWeight: 'bold',\n  },\n  italic: {\n    fontStyle: 'italic',\n  },\n\n  metaTitle: {\n    color: '#C9190B',\n    marginBottom: '20px',\n  },\n\n  userNotes: {\n    backgroundColor: '#F0F0F0',\n    padding: '8px',\n  },\n  userNotesTitle: {\n    marginBottom: '4px',\n  },\n\n  sectionTitle: {\n    color: '#C9190B',\n    fontWeight: 'bold',\n    fontSize: 14,\n  },\n\n  subSectionTitle: {\n    color: '#C9190B',\n    fontWeight: 'bold',\n    fontSize: 10,\n    marginBottom: '10pt',\n  },\n});\n","import React from 'react';\nimport propTypes from 'prop-types';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport { Table } from '@redhat-cloud-services/frontend-components-pdf-generator';\nimport { fixedPercentage } from 'Utilities/TextHelper';\nimport { complianceScoreData } from 'Utilities/ruleHelpers';\n\nconst SystemsTable = ({ systems }) => {\n  const headerRow = ['System name', 'OS', 'Failed rules', 'Compliance score'];\n  const rows = systems.map((system) => [\n    system.name,\n    `RHEL ${system.osMajorVersion}.${system.osMinorVersion}`,\n    `${complianceScoreData(system.testResultProfiles).rulesFailed || ''}`,\n    fixedPercentage(complianceScoreData(system.testResultProfiles).score),\n  ]);\n\n  return <Table withHeader rows={[headerRow, ...rows]} />;\n};\n\nSystemsTable.propTypes = {\n  systems: propTypes.array,\n};\n\nexport default SystemsTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport { Table } from '@redhat-cloud-services/frontend-components-pdf-generator';\n\nconst UnsupportedSystemsTable = ({ systems, ssgFinder }) => {\n  const headerRow = [\n    'System name',\n    'OS',\n    'Running SSG version',\n    'Expected SSG version',\n  ];\n  const rows = systems.map((system) => [\n    system.name,\n    `RHEL ${system.osMajorVersion}.${system.osMinorVersion}`,\n    system.testResultProfiles[0].ssgVersion,\n    ssgFinder(system.osMajorVersion, system.osMinorVersion),\n  ]);\n\n  return <Table withHeader rows={[headerRow, ...rows]} />;\n};\n\nUnsupportedSystemsTable.propTypes = {\n  systems: propTypes.array,\n  ssgFinder: propTypes.func,\n};\n\nexport default UnsupportedSystemsTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport { Table } from '@redhat-cloud-services/frontend-components-pdf-generator';\n\nconst NonReportedSystemsTable = ({ systems }) => {\n  const headerRow = ['System name', 'OS'];\n  const rows = systems.map((system) => [\n    system.name,\n    `RHEL ${system.osMajorVersion}.${system.osMinorVersion}`,\n  ]);\n\n  return <Table withHeader rows={[headerRow, ...rows]} />;\n};\n\nNonReportedSystemsTable.propTypes = {\n  systems: propTypes.array,\n  ssgFinder: propTypes.func,\n};\n\nexport default NonReportedSystemsTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport { Table } from '@redhat-cloud-services/frontend-components-pdf-generator';\n\nconst identifierLabel = ({ identifier }) =>\n  JSON.parse(identifier || '{}').label || '';\n\nconst capitalize = (str = '') => str.charAt(0).toUpperCase() + str.slice(1);\n\nconst RulesTable = ({ rules }) => {\n  const headerRow = ['Rule name', 'ID', 'Severity', 'Failed systems'];\n  const failedRuleRows = rules.map((rule) => [\n    rule.title,\n    identifierLabel(rule),\n    // TODO: Add icon svg for severity\n    capitalize(rule?.severity),\n    `${rule.systemsCount}`,\n  ]);\n\n  return <Table withHeader rows={[headerRow, ...failedRuleRows]} />;\n};\n\nRulesTable.propTypes = {\n  rules: propTypes.array,\n};\n\nexport default RulesTable;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text, View } from '@react-pdf/renderer';\n\n// TODO: Move into pdf-generator components as option to render title at the bottom\nconst PanelItem = (props) => {\n  const { children, title } = props;\n  return (\n    <View\n      style={{\n        justifyContent: 'space-evenly',\n        width: '24%',\n        paddingRight: '1%',\n      }}\n    >\n      <View>\n        <Text style={{ color: '#C9190B', fontSize: 20 }}>{children}</Text>\n      </View>\n      <Text>{title}</Text>\n    </View>\n  );\n};\n\nPanelItem.propTypes = {\n  children: propTypes.node,\n  title: propTypes.string,\n};\n\nexport default PanelItem;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport { Text, View } from '@react-pdf/renderer';\nimport styles from './StyleSheet';\n\nconst SubSection = ({ children, metaTitle, title }) => {\n  return (\n    <View\n      style={{\n        marginBottom: '20pt',\n      }}\n    >\n      <View\n        style={{\n          justifyContent: 'start',\n        }}\n      >\n        <Text\n          style={{\n            ...styles.subSectionTitle,\n            width: '70%',\n          }}\n        >\n          {title}\n        </Text>\n        <Text>{metaTitle}</Text>\n      </View>\n\n      {children}\n    </View>\n  );\n};\n\nSubSection.propTypes = {\n  children: propTypes.node,\n  metaTitle: propTypes.string,\n  title: propTypes.string,\n};\n\nexport default SubSection;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport chart_color_gold_300 from '@patternfly/react-tokens/dist/esm/chart_color_gold_300';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport { Chart } from '@redhat-cloud-services/frontend-components-pdf-generator';\nimport { fixedPercentage } from 'Utilities/TextHelper';\n\n// TODO Legend table style need to be disablable\nconst ComplianceChart = ({\n  policy: { percentCompliant = 0 },\n  compliantSystemCount,\n  nonCompliantSystemCount,\n  unsupportedSystemCount,\n  nonReportingSystemCount,\n}) => {\n  const compliantSystemsChartData = [\n    {\n      x: `${compliantSystemCount} systems compliant`,\n      y: compliantSystemCount,\n    },\n    {\n      x: `${nonCompliantSystemCount} systems non-compliant`,\n      y: nonCompliantSystemCount,\n    },\n    ...(unsupportedSystemCount > 0\n      ? [\n          {\n            x: `${unsupportedSystemCount} systems not supported`,\n            y: unsupportedSystemCount,\n            color: chart_color_gold_300.value,\n          },\n        ]\n      : []),\n    ...(nonReportingSystemCount > 0\n      ? [\n          {\n            x: `${nonReportingSystemCount} systems never reported`,\n            y: 0,\n          },\n        ]\n      : []),\n  ];\n  const compliancePercentage = fixedPercentage(percentCompliant);\n\n  return (\n    <Chart\n      legendHeader={''}\n      chartType=\"donut\"\n      subTitle=\"Compliant\"\n      title={compliancePercentage}\n      data={compliantSystemsChartData}\n    />\n  );\n};\n\nComplianceChart.propTypes = {\n  policy: propTypes.object,\n  compliantSystemCount: propTypes.number,\n  nonCompliantSystemCount: propTypes.number,\n  unsupportedSystemCount: propTypes.number,\n  nonReportingSystemCount: propTypes.number,\n};\n\nexport default ComplianceChart;\n","import React, { Fragment } from 'react';\nimport propTypes from 'prop-types';\nimport { Text, View } from '@react-pdf/renderer';\n// eslint-disable-next-line rulesdir/disallow-fec-relative-imports\nimport {\n  Panel,\n  Table,\n  Column,\n  Section,\n} from '@redhat-cloud-services/frontend-components-pdf-generator';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport styles from './ReportPDF/StyleSheet';\nimport SystemsTable from './ReportPDF/SystemsTable';\nimport UnsupportedSystemsTable from './ReportPDF/UnsupportedSystemsTable';\nimport NonReportedSystemsTable from './ReportPDF/NonReportedSystemsTable';\nimport RulesTable from './ReportPDF/RulesTable';\nimport PanelItem from './ReportPDF/PanelItem';\nimport SubSection from './ReportPDF/SubSection';\nimport ComplianceChart from './ReportPDF/ComplianceChart';\n\nconst calculatePercent = (compliantHostCount, testResultHostCount) =>\n  compliantHostCount !== 0 && testResultHostCount !== 0\n    ? Math.floor(100 * (compliantHostCount / testResultHostCount))\n    : 0;\n\nconst ReportPDF = ({ data, ssgFinder }) => {\n  const {\n    compliantSystems,\n    compliantSystemCount,\n    nonCompliantSystems,\n    nonCompliantSystemCount,\n    topTenFailedRules,\n    unsupportedSystems,\n    unsupportedSystemCount,\n    nonReportingSystems,\n    nonReportingSystemCount,\n    userNotes,\n    policy,\n  } = data;\n  const { testResultHostCount = 0, compliantHostCount = 0 } = policy;\n  const percentCompliant = calculatePercent(\n    compliantHostCount,\n    testResultHostCount\n  );\n\n  return (\n    <Fragment>\n      <Text style={styles.subSectionTitle}>{`Report prepared ${\n        DateFormat({ date: new Date(), type: 'exact' }).props.children\n      }`}</Text>\n\n      {userNotes && (\n        <View style={styles.userNotes}>\n          <View style={styles.userNotesTitle}>\n            <Text>User notes</Text>\n          </View>\n          <View>\n            <Text>{userNotes}</Text>\n          </View>\n        </View>\n      )}\n\n      <Section\n        title=\"Policy Details\"\n        titleProps={{\n          style: styles.sectionTitle,\n        }}\n      >\n        <Column style={{ width: '150px' }}>\n          <Table\n            // TODO: correct left side styling\n            rows={[\n              ['Policy type', policy.policyType],\n              ['Operating system', `RHEL ${policy.osMajorVersion}`],\n              ['Compliance threshold', `${policy.complianceThreshold}%`],\n              ['Business Objective', policy.businessObjective?.title || '--'],\n            ]}\n          />\n        </Column>\n        <Column>\n          <ComplianceChart\n            policy={{\n              ...policy,\n              percentCompliant,\n            }}\n            {...{\n              compliantSystemCount,\n              nonCompliantSystemCount,\n              unsupportedSystemCount,\n              nonReportingSystemCount,\n            }}\n          />\n        </Column>\n      </Section>\n\n      <Section\n        title=\"Systems\"\n        withColumn={false}\n        titleProps={{\n          style: styles.sectionTitle,\n        }}\n      >\n        <Panel withColumn={false} style={{ marginBottom: '20px' }}>\n          <PanelItem title=\"Non-compliant systems\">\n            {nonCompliantSystemCount}\n          </PanelItem>\n\n          {unsupportedSystemCount ? (\n            <PanelItem title=\"Systems with unsupported configuration\">\n              {unsupportedSystemCount}\n            </PanelItem>\n          ) : null}\n\n          {nonReportingSystemCount ? (\n            <PanelItem title=\"Systems never reported\">\n              {nonReportingSystemCount}\n            </PanelItem>\n          ) : null}\n\n          <PanelItem title=\"Compliant systems\">\n            {compliantSystemCount}\n          </PanelItem>\n        </Panel>\n\n        {nonCompliantSystems && nonCompliantSystemCount ? (\n          <SubSection title=\"Non-compliant systems\">\n            <SystemsTable systems={nonCompliantSystems} />\n          </SubSection>\n        ) : null}\n\n        {unsupportedSystems && unsupportedSystemCount ? (\n          <SubSection title=\"Systems with unsupported configuration\">\n            <UnsupportedSystemsTable\n              systems={unsupportedSystems}\n              ssgFinder={ssgFinder}\n            />\n          </SubSection>\n        ) : null}\n\n        {nonReportingSystems && nonReportingSystemCount ? (\n          <SubSection title=\"Systems never reported\">\n            <NonReportedSystemsTable systems={nonReportingSystems} />\n          </SubSection>\n        ) : null}\n\n        {compliantSystems && compliantSystemCount ? (\n          <SubSection title=\"Compliant systems\">\n            <SystemsTable systems={compliantSystems} />\n          </SubSection>\n        ) : null}\n      </Section>\n\n      {topTenFailedRules ? (\n        <Section\n          title=\"Rules\"\n          withColumn={false}\n          titleProps={{\n            style: styles.sectionTitle,\n          }}\n        >\n          <SubSection title=\"Top failed rules\">\n            <RulesTable rules={topTenFailedRules} />\n          </SubSection>\n        </Section>\n      ) : null}\n    </Fragment>\n  );\n};\n\nReportPDF.propTypes = {\n  data: propTypes.object,\n  ssgFinder: propTypes.func,\n};\n\nexport default ReportPDF;\n","class ApiClient {\n  DEFAULT_API_HEADERS = {\n    'Content-Type': 'application/vnd.api+json',\n    Accept: 'application/json',\n  };\n\n  constructor(options = {}) {\n    this.apiBase = options.apiBase || '/api';\n    this.path = options.path || '';\n    this.authenticate = options.authenticate || (() => Promise.resolve({}));\n    this.onUnauthorised = options.onUnauthorised || (() => Promise.resolve({}));\n    this.defaultHeaders = options.headers || this.DEFAULT_API_HEADERS;\n  }\n\n  async request(path, apiProps, method, options = {}) {\n    return await this.callAuthenticate()\n      .then(() => this.fetch(path, apiProps, method, options))\n      .then(this.checkForEmptyResponse)\n      .then((response) => this.checkForErrors(response, options))\n      .then((response) => response.json())\n      .catch(this.finalCatch);\n  }\n\n  finalCatch(promise) {\n    if (promise.errors === undefined) {\n      return Promise.reject({ title: 'Error parsing' });\n    } else {\n      return Promise.reject({ ...promise });\n    }\n  }\n\n  fetch(path, apiProps, method, options) {\n    let params = {\n      method: method || 'get',\n      headers: this.defaultHeaders,\n      credentials: 'include',\n    };\n    const fullPath = `${this.apiBase}${this.path ? this.path : ''}${\n      path ? path : ''\n    }`;\n    let url = new URL(fullPath, window.location.origin);\n    if (options.params) {\n      const params = Object.keys(options.params)\n        .map(\n          (key) =>\n            encodeURIComponent(key) +\n            '=' +\n            encodeURIComponent(options.params[key])\n        )\n        .join('&');\n      url.search = new URLSearchParams(params);\n    }\n\n    if (apiProps) {\n      params.body = JSON.stringify(apiProps);\n    }\n\n    return fetch(url, params);\n  }\n\n  checkForEmptyResponse(response) {\n    return response.status === 204 ? { json: () => ({}) } : response;\n  }\n\n  checkForErrors(response, options = {}) {\n    if (response.status === 404 && options.ignore404) {\n      return { json: () => ({}) };\n    }\n\n    if (response.status === 401) {\n      return this.onUnauthorised();\n    }\n\n    const responseCloneJson = response.clone\n      ? response.clone().json()\n      : response;\n\n    if (response.status === 422) {\n      return responseCloneJson.then((json) =>\n        Promise.reject({ ...json, title: 'Validation error' })\n      );\n    }\n\n    if (response.status >= 400 && response.status <= 600) {\n      return responseCloneJson.then((json) => Promise.reject(json.errors[0]));\n    }\n\n    return response;\n  }\n\n  callAuthenticate() {\n    return Promise.resolve(this.authenticate() || true);\n  }\n\n  create(path, apiProps) {\n    return this.request(path, apiProps, 'post');\n  }\n\n  update(path, apiProps) {\n    return this.request(path, apiProps, 'put');\n  }\n\n  get(path, options = {}) {\n    return this.request(path, null, 'get', options);\n  }\n\n  destroy(path) {\n    return this.request(path, null, 'delete');\n  }\n}\n\nexport default ApiClient;\n","import ApiClient from './utils/ApiClient';\n\nconst useApi = (options) => {\n  const apiClient = new ApiClient({\n    ...options,\n  });\n\n  return apiClient;\n};\n\nexport default useApi;\n","import { useEffect, useState } from 'react';\nimport { COMPLIANCE_API_ROOT } from '@/constants';\nimport normalize from 'json-api-normalizer';\nimport useApi from './useApi';\n\nconst includePropAndDelete = (entity, prop) => {\n  const attributes = entity[prop];\n  let newEntity = entity;\n  delete newEntity[prop];\n  return { ...newEntity, ...attributes };\n};\n\nconst includeAttributes = (entity) =>\n  entity && includePropAndDelete(entity, 'attributes');\n\nconst includeRelationship = (entity, normalizedJson) => {\n  let relationships = {};\n  Object.entries(entity?.relationships || []).forEach((item) => {\n    const [relationship, relationshipData] = item;\n    relationships[relationship] = relationshipData?.data\n      .map((entity) =>\n        includeAttributes(normalizedJson?.[entity.type]?.[entity.id])\n      )\n      .filter((v) => !!v);\n  });\n  delete entity.relationships;\n  return { ...entity, ...relationships };\n};\n\nconst normalizeData = (json, type) => {\n  const jsonNormalized = normalize(json);\n  return Object.values(jsonNormalized[type] || {})?.map((entity) =>\n    includeRelationship(includeAttributes(entity), jsonNormalized)\n  );\n};\n\nconst fetchCollection = async (\n  apiClient,\n  collection,\n  params = {},\n  options = {}\n) => {\n  const json = await apiClient.get(`/${collection}`, { params });\n  const normalized = await normalizeData(json, options?.type || collection);\n\n  return {\n    collection: normalized,\n    meta: json.meta,\n    total: json.meta.total,\n    json,\n  };\n};\n\nconst useCollection = (collection, options = {}, dependencies = []) => {\n  const [collectionState, setCollectionState] = useState({\n    data: undefined,\n    loading: false,\n    error: undefined,\n  });\n  const apiClient = useApi({\n    apiBase: COMPLIANCE_API_ROOT,\n  });\n  const params = {\n    ...(options?.params || {}),\n    include: options?.include || [],\n  };\n\n  useEffect(() => {\n    if (!options?.skip) {\n      setCollectionState({\n        data: undefined,\n        loading: true,\n        error: undefined,\n      });\n\n      fetchCollection(apiClient, collection, params, options).then((data) => {\n        setCollectionState({\n          data,\n          loading: false,\n          error: undefined,\n        });\n      });\n    }\n  }, [...dependencies, options?.skip]);\n\n  return collectionState;\n};\n\nexport default useCollection;\n","import useCollection from 'Utilities/hooks/api/useCollection';\n\nconst compareAsIntegers = (firstString, secondString) =>\n  parseInt(firstString) === parseInt(secondString);\n\nconst useSupportedSsgFinder = (skip) => {\n  const { data: supportedSsgs } = useCollection('supported_ssgs', {\n    type: 'supportedSsg',\n    skip,\n  });\n  return (majorVersion, minorVersion) => {\n    const matchingVersion = (supportedSsgs || {}).collection?.find(\n      (profile) =>\n        compareAsIntegers(profile.osMajorVersion, majorVersion) &&\n        compareAsIntegers(profile.osMinorVersion, minorVersion)\n    );\n\n    return matchingVersion?.version || 'N/A';\n  };\n};\n\nexport default useSupportedSsgFinder;\n","import { dispatchNotification } from 'Utilities/Dispatcher';\nimport useQueryExportData from './useQueryExportData';\nimport usePDFBuilder from './usePDFBuilder';\nimport useSupportedSsgFinder from './useSupportedSsgFinder';\n\n// Hook to provide a function that fetches the necessary data to export\n// and compile it into pages for the pdf-generator DownloadButton\nconst usePDFExport = (exportSettings, policy) => {\n  const ssgFinder = useSupportedSsgFinder();\n  const queryExportData = useQueryExportData(exportSettings, policy, {\n    onError: () => {\n      dispatchNotification({\n        variant: 'danger',\n        title: 'Couldnt download export',\n        description: 'Reinitiate this export to try again.',\n      });\n    },\n    onComplete: () => {\n      dispatchNotification({\n        variant: 'success',\n        title: 'Downloading export',\n      });\n    },\n  });\n  const buildPDFPages = usePDFBuilder(policy);\n\n  const exportPDF = async () => {\n    dispatchNotification({\n      variant: 'info',\n      title: 'Preparing export',\n      description: 'Once complete, your download will start automatically.',\n    });\n    const data = await queryExportData();\n    return await buildPDFPages(data, ssgFinder);\n  };\n\n  return exportPDF;\n};\n\nexport default usePDFExport;\n","import React from 'react';\nimport ReportPDF from '../Components/ReportPDF';\n\n// (Eventually) responsible for rendering sections and splitting into pages\nconst usePDFBuilder = (policy) => async (data, ssgFinder) =>\n  [\n    <ReportPDF\n      key=\"pdf-page-1\"\n      data={{ ...data, policy }}\n      ssgFinder={ssgFinder}\n    />,\n  ];\n\nexport default usePDFBuilder;\n","import React from 'react';\nimport { Button, Spinner } from '@patternfly/react-core';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n// eslint-disable-next-line\nimport { DownloadButton } from '@redhat-cloud-services/frontend-components-pdf-generator';\nimport {\n  ComplianceModal,\n  StateViewWithError,\n  StateViewPart,\n} from 'PresentationalComponents';\nimport { useLinkToBackground } from 'Utilities/Router';\nimport { GET_PROFILE } from './constants';\nimport ExportPDFForm from './Components/ExportPDFForm';\nimport usePDFExport from './hooks/usePDFExport';\nimport useExportSettings from './hooks/useExportSettings';\n\n// Provides that export settings modal accessible in the report details\nexport const ReportDownload = () => {\n  const { report_id: policyId } = useParams();\n  const linkToReport = useLinkToBackground('/reports/' + policyId);\n  const { data, loading, error } = useQuery(GET_PROFILE, {\n    variables: { policyId },\n  });\n  const policy = data?.profile;\n  const {\n    exportSettings,\n    setExportSetting,\n    isValid: settingsValid,\n  } = useExportSettings();\n\n  const exportPDF = usePDFExport(exportSettings, policy);\n  const exportFileName = `compliance-report--${\n    new Date().toISOString().split('T')[0]\n  }`;\n  const buttonLabel = 'Export report';\n  const buttonProps = {\n    ouiaId: 'ExportReportButton',\n    variant: 'primary',\n    isDisabled: !settingsValid,\n  };\n\n  const FallbackButton = () => <Button {...buttonProps}>{buttonLabel}</Button>;\n\n  const actions = [\n    <DownloadButton\n      groupName=\"Red Hat Insights\"\n      key=\"export\"\n      label={buttonLabel}\n      reportName={`Compliance:`}\n      type={policy && policy.name}\n      fileName={exportFileName}\n      asyncFunction={exportPDF}\n      buttonProps={buttonProps}\n      fallback={<FallbackButton />}\n      className=\"pf-u-mr-sm\"\n    />,\n    <Button\n      variant=\"secondary\"\n      key=\"cancel\"\n      ouiaId=\"ExportReportCancelButton\"\n      onClick={(event) => {\n        event.preventDefault();\n        window.history.back();\n      }}\n    >\n      Cancel\n    </Button>,\n  ];\n\n  return (\n    <ComplianceModal\n      isOpen\n      width=\"440px\"\n      ouiaId=\"DownloadReportModal\"\n      title=\"Compliance report\"\n      onClose={() => linkToReport()}\n      actions={actions}\n    >\n      <StateViewWithError stateValues={{ error, data, loading }}>\n        <StateViewPart stateKey=\"loading\">\n          <Spinner />\n        </StateViewPart>\n        <StateViewPart stateKey=\"data\">\n          <ExportPDFForm {...{ policy, setExportSetting, exportSettings }} />\n        </StateViewPart>\n      </StateViewWithError>\n    </ComplianceModal>\n  );\n};\n\nexport default ReportDownload;\n","import { useState } from 'react';\nimport pickBy from 'lodash/pickBy';\nimport useFeature from 'Utilities/hooks/useFeature';\nimport { DEFAULT_EXPORT_SETTINGS } from '../constants';\n\nconst preparedSettings = (withReporting) =>\n  pickBy(\n    DEFAULT_EXPORT_SETTINGS,\n    (_value, key) => !(key === 'nonReportingSystems' && !withReporting)\n  );\n\nconst useExportSettings = () => {\n  const systemsNotReporting = useFeature('systemsNotReporting');\n  const [exportSettings, setExportSettings] = useState(\n    preparedSettings(systemsNotReporting)\n  );\n\n  const setExportSetting = (setting) => (value) =>\n    setExportSettings({\n      ...exportSettings,\n      [setting]: value,\n    });\n\n  const isValid = () =>\n    Object.keys(exportSettings).some(\n      (key) => (key !== 'userNotes' && !!exportSettings[key]) === true\n    );\n  console.log(exportSettings);\n  return {\n    exportSettings,\n    setExportSetting,\n    isValid: isValid(),\n  };\n};\n\nexport default useExportSettings;\n"],"names":["ReportedSystemRow","row","children","RowWrapper","style","testResultProfiles","length","background","borderLeft","borderRight","propTypes","ChartIcon","color","width","height","display","ChartLegend","legendData","List","map","index","title","content","footer","name","symbol","tooltip","popover","ListItem","key","icon","fill","verticalAlign","Tooltip","className","Popover","maxWidth","headerContent","bodyContent","footerContent","cursor","profile","compliantHostCount","testResultHostCount","unsupportedHostCount","totalHostCount","notReportingHostCount","donutId","replace","donutValues","x","y","chartColorScale","black300","blue300","blue200","chart_color_gold_300","chart_color_black_200","pluralize","Text","variant","useLegendData","chartProps","data","identifier","fixedPercentage","Math","floor","subTitle","themeVariant","ChartThemeVariant","colorScale","fontSize","innerRadius","constrainToVisibleArea","ReportChart","useDonutChart","Grid","GridItem","span","ChartDonut","QUERY","gql","ReportDetails","policyName","pageTitle","route","policyId","useParams","report_id","pdfReportEnabled","useFeature","useQuery","variables","fetchPolicy","error","loading","policy","useTitleEntity","stateValues","stateKey","PageHeader","Main","EmptyTable","Spinner","Breadcrumb","ouiaId","to","BreadcrumbItem","isActive","hasGutter","sm","md","lg","xl","PageHeaderTitle","policyType","state","id","Button","isInline","marginBottom","showHelpIcon","showOsMinorVersionFilter","majorOsVersion","columns","Columns","showLink","showOsInfo","query","GET_SYSTEMS","compliantFilter","defaultFilter","tableProps","rowWrapper","compliancePercentage","legendPosition","legendOrientation","padding","bottom","left","right","top","showOnlySystemsWithTestResults","props","ReportDetailsWithNotReportedSystems","DEFAULT_EXPORT_SETTINGS","compliantSystems","nonCompliantSystems","unsupportedSystems","nonReportingSystems","topTenFailedRules","userNotes","undefined","GET_PROFILE","ExportPDFForm","setExportSetting","exportSettings","systemsNotReporting","Form","FormGroup","fieldId","label","Checkbox","onChange","isChecked","TextArea","value","scannedProfiles","profiles","filter","lastScanned","hasProfiles","isSystemSupported","system","every","supported","compliantSystemsData","systems","hasScannedProfiles","hasOnlyCompliantScannedProfiles","compliant","isSystemCompliant","nonCompliantSystemsData","hasNonCompliantProfiles","isSystemNonCompliant","unsupportedSystemsData","isSystemUnsupported","nonReportingSystemsData","reportingSystemIds","includes","getFailedRulesWithCounts","failedRulesWithCounts","forEach","rules","rule","refId","systemsCount","countIfFailed","topTenFailedRulesData","failedRulesWithCountsArray","Object","values","topTenRulesBySeverity","order","orderByArray","SEVERITY_LEVELS","sortBySeverity","slice","rulesGroupedBySeverity","groupBy","rulesGroupKey","sortBy","reverse","fetchBatched","fetchFunction","total","batchSize","pages","ceil","Promise","all","Array","_","pageIdx","StyleSheet","bold","fontWeight","italic","fontStyle","metaTitle","backgroundColor","userNotesTitle","sectionTitle","subSectionTitle","SystemsTable","rows","osMajorVersion","osMinorVersion","complianceScoreData","rulesFailed","score","withHeader","UnsupportedSystemsTable","ssgFinder","ssgVersion","NonReportedSystemsTable","capitalize","str","charAt","toUpperCase","RulesTable","failedRuleRows","JSON","parse","severity","PanelItem","justifyContent","paddingRight","SubSection","styles","ComplianceChart","percentCompliant","compliantSystemCount","nonCompliantSystemCount","unsupportedSystemCount","nonReportingSystemCount","compliantSystemsChartData","legendHeader","chartType","ReportPDF","calculatePercent","Fragment","DateFormat","date","Date","type","titleProps","complianceThreshold","businessObjective","withColumn","ApiClient","options","Accept","this","apiBase","path","authenticate","resolve","onUnauthorised","defaultHeaders","headers","DEFAULT_API_HEADERS","apiProps","method","callAuthenticate","then","fetch","checkForEmptyResponse","response","checkForErrors","json","catch","finalCatch","promise","errors","reject","params","credentials","fullPath","url","URL","window","location","origin","keys","encodeURIComponent","join","search","URLSearchParams","body","stringify","status","ignore404","responseCloneJson","clone","request","apiClient","includeAttributes","entity","prop","attributes","newEntity","includePropAndDelete","normalizeData","jsonNormalized","normalize","normalizedJson","relationships","entries","item","relationship","relationshipData","v","includeRelationship","fetchCollection","collection","get","normalized","meta","compareAsIntegers","firstString","secondString","parseInt","skip","supportedSsgs","dependencies","useState","collectionState","setCollectionState","useApi","COMPLIANCE_API_ROOT","include","useEffect","useCollection","majorVersion","minorVersion","matchingVersion","find","version","useSupportedSsgFinder","queryExportData","onComplete","onError","client","useApolloClient","prepareForExport","perPage","page","fetchResults","results","flatMap","edges","e","node","exportData","useQueryExportData","dispatchNotification","description","buildPDFPages","usePDFBuilder","exportPDF","ReportDownload","linkToReport","useLinkToBackground","withReporting","pickBy","_value","setExportSettings","console","log","setting","isValid","some","useExportSettings","settingsValid","usePDFExport","exportFileName","toISOString","split","buttonLabel","buttonProps","isDisabled","FallbackButton","actions","groupName","reportName","fileName","asyncFunction","fallback","onClick","event","preventDefault","history","back","C","isOpen","onClose"],"sourceRoot":""}