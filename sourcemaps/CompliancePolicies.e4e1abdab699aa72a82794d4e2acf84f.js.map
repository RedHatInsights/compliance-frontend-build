{"version":3,"file":"js/CompliancePolicies.cb7d860e49bb52e98eb9.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Main/Main.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Dark/DarkContext.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeader.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeaderTitle.js","webpack:///./src/SmartComponents/CompliancePolicies/CompliancePolicies.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport classNames from 'classnames';\nimport '../Main/main.css';\nexport var Main = function (_a) {\n    var children = _a.children, className = _a.className, props = __rest(_a, [\"children\", \"className\"]);\n    useEffect(function () {\n        console.error(\"Using deprecated \\\"Main\\\" component. Do not use it. Either remove it from your JSX or replace it by \\\"section\\\" HTML element.\");\n    }, []);\n    return (_jsx(\"section\", __assign({}, props, { className: \"\".concat(classNames(className, 'pf-l-page__main-section pf-c-page__main-section')) }, { children: children })));\n};\nexport var InternalMain = Main;\nexport default Main;\n//# sourceMappingURL=Main.js.map","import React from 'react';\nvar DarkContext = React.createContext('light');\nexport default DarkContext;\n//# sourceMappingURL=DarkContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { DarkContext } from '../Dark';\nimport '../PageHeader/page-header.css';\nvar PageHeader = function (_a) {\n    var className = _a.className, children = _a.children, props = __rest(_a, [\"className\", \"children\"]);\n    var pageHeaderClasses = classNames(className, 'pf-l-page-header', 'pf-c-page-header', 'pf-l-page__main-section', 'pf-c-page__main-section');\n    return (_jsx(DarkContext.Consumer, { children: function (theme) {\n            var _a, _b;\n            if (theme === void 0) { theme = 'light'; }\n            var themeClasses = classNames((_a = {}, _a[\"pf-m-\".concat(theme, \"-200\")] = theme === 'dark', _a), (_b = {}, _b[\"pf-m-light\"] = theme === 'light', _b));\n            return (_jsx(\"section\", __assign({}, props, { className: \"\".concat(pageHeaderClasses, \" \").concat(themeClasses), \"widget-type\": \"InsightsPageHeader\" }, { children: children })));\n        } }));\n};\nexport default PageHeader;\n//# sourceMappingURL=PageHeader.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { Title } from '@patternfly/react-core';\nvar PageHeaderTitle = function (_a) {\n    var className = _a.className, title = _a.title;\n    var pageHeaderTitleClasses = classNames(className);\n    return (_jsx(Title, __assign({ headingLevel: \"h1\", size: \"2xl\", className: pageHeaderTitleClasses, \"widget-type\": \"InsightsPageHeaderTitle\" }, { children: title })));\n};\nexport default PageHeaderTitle;\n//# sourceMappingURL=PageHeaderTitle.js.map","import React, { useEffect } from 'react';\nimport gql from 'graphql-tag';\nimport { useLocation } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { Grid } from '@patternfly/react-core';\nimport PageHeader, {\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport ComplianceEmptyState from 'PresentationalComponents/ComplianceEmptyState';\nimport {\n  BackgroundLink,\n  ErrorPage,\n  LoadingPoliciesTable,\n  PoliciesTable,\n  StateView,\n  StateViewPart,\n  LinkButton,\n} from 'PresentationalComponents';\n\nconst QUERY = gql`\n  {\n    profiles(search: \"external = false and canonical = false\") {\n      edges {\n        node {\n          id\n          name\n          description\n          refId\n          complianceThreshold\n          totalHostCount\n          osMajorVersion\n          policyType\n          policy {\n            id\n            name\n          }\n          businessObjective {\n            id\n            title\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const CompliancePolicies = () => {\n  const location = useLocation();\n  const createLink = (\n    <BackgroundLink\n      to=\"/scappolicies/new\"\n      component={LinkButton}\n      variant=\"primary\"\n      ouiaId=\"CreateNewPolicyButton\"\n    >\n      Create new policy\n    </BackgroundLink>\n  );\n  let { data, error, loading, refetch } = useQuery(QUERY);\n  useEffect(() => {\n    refetch();\n  }, [location, refetch]);\n  let policies;\n\n  if (data) {\n    error = undefined;\n    loading = undefined;\n    policies = data.profiles.edges.map((profile) => profile.node);\n  }\n\n  return (\n    <React.Fragment>\n      <PageHeader className=\"page-header\">\n        <PageHeaderTitle title=\"SCAP policies\" />\n      </PageHeader>\n      <Main>\n        <StateView stateValues={{ error, data, loading }}>\n          <StateViewPart stateKey=\"error\">\n            <ErrorPage error={error} />\n          </StateViewPart>\n          <StateViewPart stateKey=\"loading\">\n            <LoadingPoliciesTable />\n          </StateViewPart>\n          <StateViewPart stateKey=\"data\">\n            {policies && policies.length === 0 ? (\n              <Grid hasGutter>\n                <ComplianceEmptyState\n                  title=\"No policies\"\n                  mainButton={createLink}\n                />\n              </Grid>\n            ) : (\n              <PoliciesTable policies={policies} />\n            )}\n          </StateViewPart>\n        </StateView>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default CompliancePolicies;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","_a","children","className","props","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","useEffect","console","error","concat","pageHeaderClasses","theme","_b","themeClasses","title","pageHeaderTitleClasses","Title","headingLevel","size","QUERY","gql","CompliancePolicies","policies","location","useLocation","createLink","to","component","LinkButton","variant","ouiaId","useQuery","data","loading","refetch","undefined","profiles","edges","map","profile","node","stateValues","stateKey","Grid","hasGutter","mainButton"],"sourceRoot":""}