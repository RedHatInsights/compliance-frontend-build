{"version":3,"sources":["webpack:///./src/SmartComponents/ComplianceTabs/ComplianceTabs.js","webpack:///./src/SmartComponents/ComplianceSystemsTable/ComplianceSystemsTable.js","webpack:///./src/SmartComponents/ComplianceSystems/ComplianceSystems.js"],"names":["ComplianceTabs","props","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","call","redirect","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default","tab","history","push","itemId","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","Fragment","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_10__","onSelect","aria-label","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_11__","variant","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_12__","horizontal","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_13__","preventDefault","isActive","match","path","_Routes__WEBPACK_IMPORTED_MODULE_9__","compliancePolicies","complianceSystems","react__WEBPACK_IMPORTED_MODULE_8__","propTypes","prop_types__WEBPACK_IMPORTED_MODULE_7___default","object","__webpack_exports__","Object","_red_hat_insights_insights_frontend_components__WEBPACK_IMPORTED_MODULE_6__","QUERY","src_default","_templateObject","SmartComponents_ComplianceSystemsTable_ComplianceSystemsTable","insights_frontend_components","react_default","react_apollo_browser_umd","query","_ref","data","error","loading","networkError","statusCode","window","insights","chrome","auth","logout","systems","allSystems","className","SystemsTable","disableRemediations","items","columns","composed","key","title","width"],"mappings":"gSAMMA,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,IAAAC,KAAAJ,IACfE,EAAAG,IAAAD,KAAAE,IAAAN,GAAAO,KAAAH,KAAMH,KACDO,SAAWN,EAAKM,SAASC,KAAdC,QAAAR,KAFDA,wDAIVS,GACLP,KAAKH,MAAMW,QAAQC,KAAKF,EAAIG,yCAG5B,OACIC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACIH,EAAAC,EAAAC,cAACE,EAAA,GAAIC,SAAUhB,KAAKI,SAAUa,aAAW,mBACrCN,EAAAC,EAAAC,cAACK,EAAA,GAAQC,QAASC,EAAA,EAAYC,YAC1BV,EAAAC,EAAAC,cAACS,EAAA,GAAQC,gBAAgB,EACrBC,SAAUxB,KAAKH,MAAM4B,MAAMC,OAASC,EAAA,EAAMC,mBAC1ClB,OAAQiB,EAAA,EAAMC,oBAFlB,YAKAjB,EAAAC,EAAAC,cAACS,EAAA,GAAQC,gBAAgB,EACrBC,SAAUxB,KAAKH,MAAM4B,MAAMC,OAASC,EAAA,EAAME,kBAC1CnB,OAAQiB,EAAA,EAAME,mBAFlB,qBAlBKC,EAAA,WA8B7BlC,EAAemC,WACXvB,QAASwB,EAAApB,EAAUqB,OACnBR,MAAOO,EAAApB,EAAUqB,QAGNC,EAAA,EAAAC,OAAAC,EAAA,cAAaxC,iSCnC5B,IAAMyC,EAAQC,IAAHC,KAoDIC,EAAAL,OAAAM,EAAA,cAzCgB,kBAC3BC,EAAA9B,EAAAC,cAAC8B,EAAA,OAAMC,MAAOP,GACT,SAAAQ,GAA8B,IAA3BC,EAA2BD,EAA3BC,KAAMC,EAAqBF,EAArBE,MAAOC,EAAcH,EAAdG,QACb,GAAID,EAKA,OAJsC,MAAlCA,EAAME,aAAaC,YACnBC,OAAOC,SAASC,OAAOC,KAAKC,SAGzB,qCAAuCR,EAGlD,GAAIC,EAAW,MAAO,qBAEtB,IAAMQ,EAAUV,EAAKW,WAmBrB,OACIf,EAAA9B,EAAAC,cAAA,OAAK6C,UAAU,iBACXhB,EAAA9B,EAAAC,cAAC8C,EAAA,GAAaC,qBAAqB,EAAMC,MAAOL,EAASM,UAnB7DC,UAAW,mBAAoB,gBAC/BC,IAAK,eACLC,MAAO,SAEPD,IAAK,4BACLC,MAAO,WACPpE,OACIqE,MAAO,MAGXF,IAAK,6BACLC,MAAO,YACPpE,OACIqE,MAAO,sBC1BZhC,EAAA,QAdW,WACtB,OACIQ,EAAA9B,EAAAC,cAAC6B,EAAA9B,EAAME,SAAP,KACI4B,EAAA9B,EAAAC,cAAC4B,EAAA,WAAD,KACIC,EAAA9B,EAAAC,cAAC4B,EAAA,iBAAgBwB,MAAM,eACvBvB,EAAA9B,EAAAC,cAACjB,EAAA,EAAD,OAEJ8C,EAAA9B,EAAAC,cAAC4B,EAAA,KAAD,KACIC,EAAA9B,EAAAC,cAAC2B,EAAD","file":"js/ComplianceSystems.js","sourcesContent":["import { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport propTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { paths } from '../../Routes';\nimport { Nav, NavList, NavItem, NavVariants } from '@patternfly/react-core';\n\nclass ComplianceTabs extends Component {\n    constructor(props) {\n        super(props);\n        this.redirect = this.redirect.bind(this);\n    }\n    redirect(tab) {\n        this.props.history.push(tab.itemId);\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <Nav onSelect={this.redirect} aria-label=\"Compliance Tabs\">\n                    <NavList variant={NavVariants.horizontal}>\n                        <NavItem preventDefault={true}\n                            isActive={this.props.match.path === paths.compliancePolicies}\n                            itemId={paths.compliancePolicies}>\n                            Policies\n                        </NavItem>\n                        <NavItem preventDefault={true}\n                            isActive={this.props.match.path === paths.complianceSystems}\n                            itemId={paths.complianceSystems}>\n                            Systems\n                        </NavItem>\n                    </NavList>\n                </Nav>\n            </React.Fragment>\n        );\n    }\n}\n\nComplianceTabs.propTypes = {\n    history: propTypes.object,\n    match: propTypes.object\n};\n\nexport default routerParams(ComplianceTabs);\n","import React from 'react';\nimport { routerParams } from '@red-hat-insights/insights-frontend-components';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport SystemsTable from '../SystemsTable/SystemsTable';\n\nconst QUERY = gql`\n{\n    allSystems {\n        id\n        name\n        profile_names\n        compliant\n    }\n}\n`;\n\nconst ComplianceSystemsTable = () => (\n    <Query query={QUERY}>\n        {({ data, error, loading }) => {\n            if (error) {\n                if (error.networkError.statusCode === 401) {\n                    window.insights.chrome.auth.logout();\n                }\n\n                return 'Oops! Error loading Systems data: ' + error;\n            }\n\n            if (loading) { return 'Loading Systems...'; }\n\n            const systems = data.allSystems;\n            const columns = [{\n                composed: ['facts.os_release', 'display_name'],\n                key: 'display_name',\n                title: 'Name'\n            }, {\n                key: 'facts.compliance.profiles',\n                title: 'Profiles',\n                props: {\n                    width: 40\n                }\n            }, {\n                key: 'facts.compliance.compliant',\n                title: 'Compliant',\n                props: {\n                    width: 10\n                }\n            }];\n\n            return (\n                <div className=\"systems-table\">\n                    <SystemsTable disableRemediations={true} items={systems} columns={columns} />\n                </div>\n            );\n        }}\n    </Query>\n);\n\nexport default routerParams(ComplianceSystemsTable);\n","import React from 'react';\nimport ComplianceSystemsTable from '../ComplianceSystemsTable/ComplianceSystemsTable';\nimport ComplianceTabs from '../ComplianceTabs/ComplianceTabs';\nimport { PageHeader, PageHeaderTitle, Main } from '@red-hat-insights/insights-frontend-components';\n\nconst ComplianceSystems = () => {\n    return (\n        <React.Fragment>\n            <PageHeader>\n                <PageHeaderTitle title=\"Compliance\" />\n                <ComplianceTabs/>\n            </PageHeader>\n            <Main>\n                <ComplianceSystemsTable />\n            </Main>\n        </React.Fragment>\n    );\n};\n\nexport default ComplianceSystems;\n"],"sourceRoot":""}